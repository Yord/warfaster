{"version":3,"sources":["ui/img/advantages/Compound_Armor.png","ui/img/advantages/Flight.png","ui/img/advantages/Pathfinder.png","ui/img/advantages/Revelator.png","ui/img/advantages/Stealth.png","ui/img/advantages/Weapon_Expert.png","ui/img/factions/Aeternus_Continuum.png","ui/img/factions/Fallback.png","ui/img/factions/Empyrean.png","ui/img/factions/Iron_Star_Alliance.png","ui/img/factions/Lost_Legion.png","ui/img/factions/Marcher_Worlds.png","ui/img/factions/Wild_Card.png","ui/img/faction_icons/Aeternus_Continuum_Charged.png","ui/img/faction_icons/Aeternus_Continuum_Spike.png","ui/img/faction_icons/Empyrean_Charged.png","ui/img/faction_icons/Empyrean_Spike.png","ui/img/faction_icons/Iron_Star_Alliance_Charged.png","ui/img/faction_icons/Iron_Star_Alliance_Spike.png","ui/img/faction_icons/Marcher_Worlds_Charged.png","ui/img/faction_icons/Marcher_Worlds_Spike.png","ui/img/faction_icons/Wild_Card_Charged.png","ui/img/faction_icons/Wild_Card_Spike.png","ui/img/weapon_qualities/Blast_Weapon.png","ui/img/weapon_qualities/Corrosion.png","ui/img/weapon_qualities/Fire.png","ui/img/weapon_qualities/Lock_Down.png","ui/img/weapon_qualities/Repulsor.png","ui/img/weapon_qualities/Spray_Weapon.png","ui/img/weapon_qualities/Strafe.png","ui/img/weapon_qualities/System_Failure.png","messages.js","state/utils.js","state/AppSync.js","state/CypherCodecs.js","state/Cyphers.js","state/EditMode.js","state/FactionModels.js","state/Factions.js","state/Lists.js","state/PageIds.js","state/Url.js","state/WildCardModels.js","state/Models.js","state/VehicleWeapons.js","state/WarjackWeapons.js","state/CadreModels.js","state/CadreCategoryMembers.js","ui/App.js","state/io/Requests.js","state/ParserNames.js","businessLogic/processes/cacheParserNames.js","businessLogic/processes/jsonp.js","businessLogic/processes/cacheWikiPages/fetchWikiPage.js","businessLogic/processes/cacheWikiPages/updateCache.js","businessLogic/processes/partitionBy.js","businessLogic/processes/cacheWikiPages/fetchPageIds.js","businessLogic/processes/cacheWikiPages/index.js","businessLogic/processes/fetchCadres/fetchCadreCategoryMembers.js","businessLogic/processes/fetchCadres/fetchCadreModels.js","businessLogic/processes/fetchCadres/index.js","businessLogic/core/parse/utils.js","businessLogic/core/parse/parseCypherText.js","businessLogic/core/parse/parsers.js","businessLogic/core/parse/parseCypherCodecsText.js","businessLogic/core/parse/parseFactionModelsText.js","businessLogic/core/parse/parseFactionsText.js","businessLogic/core/parse/parseModelText.js","businessLogic/core/parse/parseVehicleAndWarjackWeaponText.js","businessLogic/core/parse/parseWildCardText.js","businessLogic/processes/parsers/parseModel.js","businessLogic/processes/parsers/index.js","businessLogic/processes/parsers/parseCypher.js","businessLogic/processes/parsers/parseCypherCodecs.js","businessLogic/processes/parsers/parseFactionModels.js","businessLogic/processes/parsers/parseFactions.js","businessLogic/processes/parsers/parseVehicleOrWarjackWeapon.js","businessLogic/processes/parsers/parseWildCard.js","businessLogic/processes/parseWikiPages.js","businessLogic/processes/triggerFetchWikiPages.js","businessLogic/processes/base62.js","businessLogic/processes/ui.js","businessLogic/processes/index.js","state/Version.js","state/index.js","index.js"],"names":["MenuItemClicked","message","FetchedWikiPage","FetchedWikiPageRevisions","RefreshWikiPages","type","payload","arguments","length","undefined","immer","f","state","action","produce","identity","StateShard","namespace","init","actions","actionCreators","selectors","_objectSpread","dispatch","Object","fromEntries","entries","map","_ref","_ref2","_slicedToArray","functionName","keys","_ref3","_ref4","name","_len2","args","Array","_key2","apply","concat","a","pipe","_len3","fs","_key3","_i","_fs","AppSync","data","sync","done","reasons","select","addReasons","_toConsumableArray","selectDone","selectReasons","CypherCodecs","cypherCodecs","set","selectByPage","page","find","codec","Cypher","Cyphers","cyphers","setForPage","cypher","values","flat","EditMode","ui","editMode","toggle","FactionModels","factionModels","models","model","Name","Factions","factions","Lists","lists","oneEmptyList","addCard","pageId","card","hidden","cards","push","addEmptyList","moveListBy","_ref7","listIndex","by","list","splice","removeCard","_ref5","cardIndex","removeList","_ref6","setCardCortex","_ref10","cortexIds","setCardVehicleWeapon","_ref12","vehicleWeaponId","setCardWarjackWeapons","_ref11","hardpointNameIndex","warjackWeaponId","warjackWeaponIds","setListTitle","title","toggleCard","_ref9","moveCard","_ref8","up","newCardIndex","newList","PageIds","pageIds","addPages","pageIdByTitle","selectPageByPageId","reduce","acc","statePageId","Url","url","WildCardModels","wildCardModels","_step","wildCards","_iterator","_createForOfIteratorHelper","s","n","wildCard","value","faction","err","e","Models","VehicleWeapons","vehicleWeapons","vehicleWeapon","WarjackWeapons","warjackWeapons","warjackWeapon","CadreModels","cadreModels","setForCadrePageId","cadrePageId","selectCadreModelsByPageId","CadreCategoryMembers","cadreCategoryMembers","Header","Layout","Footer","Content","TextArea","Input","SubMenu","Menu","FactionImage","style","_ref$height","height","_jsx","src","AeternusContinuum","alt","Empyrean","IronStarAlliance","LostLegion","MarcherWorlds","WildCard","Fallback","Spike","style2","_ref2$height","marginTop","AeternusContinuumSpike","EmpyreanSpike","IronStarAllianceSpike","MarcherWorldsSpike","WildCardSpike","Charged","_ref3$height","AeternusContinuumCharged","EmpyreanCharged","IronStarAllianceCharged","MarcherWorldsCharged","WildCardCharged","AdvantageImage","advantage","_ref4$height","CompoundArmor","className","Flight","Pathfinder","Revelator","Stealth","WeaponExpert","weaponQualities","BlastWeapon","Corrosion","Fire","LockDown","Repulsor","SprayWeapon","Strafe","SystemFailure","WeaponQuality","weaponQuality","_ref5$height","_Fragment","App","connect","initialized","syncReasons","sort","_ref56","_ref57","text","Type","Subtype","subtype","_","join","filter","flatMap","cadreModel","includes","_ref58","_ref59","cadre","allCadreModels","_ref60","_ref61","_ref62","_ref63","pageIdByPage","_ref64","_ref65","_ref66","_ref67","_ref68","_ref69","_ref70","_ref71","_ref72","_ref73","_ref74","details","hardpoints","hardpointNames","parseHardpoints","cortexSelections","_ref75","_ref76","cortex","advantages","_ref77","_ref78","_ref78$","category","categoryId","warjackWeaponSelections","_ref79","_ref80","selection","split","vehicleWeaponSelection","_ref81","Faction","cadres","menuItemClicked","event","stopPropagation","allMenuItemsClicked","pages","forEach","moveCardByOne","target","setUrl","bookmark","document","querySelector","navigator","userAgent","match","range","createRange","selectNodeContents","window","getSelection","removeAllRanges","addRange","setSelectionRange","open","key","_ref82","label","_ref83","_ref84","toggleEditMode","_React$useState","React","useState","_React$useState2","openDrawer","setOpenDrawer","children","_jsxs","href","id","openKeys","onOpenChange","mode","triggerSubMenuAction","icon","CheckSquareOutlined","onClick","fontSize","FormOutlined","marginLeft","paddingTop","Row","gutter","Col","xs","sm","md","lg","xl","xxl","cursor","span","placeholder","generateListNamePlaceholder","maxLength","autoSize","onChange","CaretUpOutlined","color","marginRight","CaretDownOutlined","DeleteOutlined","_defineProperty","Universal","i","_ref13","count","Badge","size","offset","_ref14","weaponIds","Card","hoverable","Meta","avatar","width","textAlign","deploymentCost","display","alignItems","flex","replace","vehicleWeaponName","cortexName","weaponId","weapon","_ref106","modelStats","_ref15","index","_ref16","stat","Select","suffixIcon","defaultValue","onSelect","getPopupContainer","querySelectorAll","Option","_ref17","_ref18","_ref19","_ref20","advantageIndex","_ref21","rule","markChargedOrSpike","weaponPoints","hardpointName","warjackWeaponNames","_ref22","location","_ref23","cost","vehicleWeaponName2","_ref24","weapons","Fragment","specialRules","index2","_ref25","_ref27","ruleIndex","_ref28","wildCardFactions","_ref29","baseSize","health","HeartFilled","squadSize","TeamOutlined","_ref30","_ref31","chassisAdvantages","_ref32","_ref33","_ref34","_ref35","chassisSpecialRules","_ref36","_ref37","maneuvers","_ref38","_ref39","storeLinks","linkText","dangerouslySetInnerHTML","__html","release","lore","pow","effect","margin","SyncOutlined","spin","_ref40","_ref41","PlusSquareOutlined","reason","description","onKeyDown","Date","getFullYear","_ref42","_ref43","factionName","Drawer","visible","placement","onClose","mask","closeIcon","MenuUnfoldOutlined","ItemGroup","_ref44","shortName","slice","Item","Tooltip","_ref45","_ref46","w1","w2","_ref47","j","indexOf","_ref48","_ref49","b","_ref52","_ref53","c1","c2","_ref54","_ref55","factionNames","justFactions","factionsPresent","types","cyperTypes","_ref85","_ref86","_ref87","_ref88","weaponConfig","pointCost","_ref89","_ref91","_ref92","_ref93","_ref95","_ref96","markCharged","markSpike","_ref97","_ref98","_ref100","_ref101","_ref102","_ref104","_ref105","rHardpointGroup","results","RegExp","repeat","exec","hardpointCount","parseInt","groupCount","groupName","console","error","queryCadres","Requests","io","requests","cached","pending","cache","queryParams","selectCached","expire","fetch","params","selectPending","request","fetched","findIndex","parsePage","parserName","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","put","desc","jsonApiRequest","stop","queryCadreModels","_callee2","_context2","cmpageid","cmtype","cmlimit","queryRevisions","_callee3","_context4","prop","pageids","queryPageIds","_callee4","_context5","titles","encodeURIComponent","selectCachedRequestsByPageIds","parse","pageid","selectCachedParsedPageIds","selectCachedUrl","_context3","cmtitle","_marked","formatversion","format","keyValue","ParserNames","parserNames","cacheParserNames","take","sent","abrupt","jsonp","Promise","resolve","reject","callbackName","Math","round","random","body","removeChild","script","createElement","appendChild","fetchWikiPage","wikiPageChannel","_loop","actionChannel","wait","_data","pageRevisions","categorymembers","categoryMembers","titleToPageId","call","query","member","delay","delegateYield","t0","updateCache","_marked2","refreshWikiPages","_marked3","refreshOutdatedWikiPages","all","parsedPageIds","queryLength","_yield$take","revInfoByPageId","_Object$entries","_Object$entries$_i","_Object$entries$_i$","revInfo","revision","missing","revid","max","revisions","partitionBy","array","arrays","fetchPageIds","cachedPageIds","_yield$all","_yield$all2","factionsSet","factionModelPages","wildCardPages","cypherPages","pageSlices","_pages","processedCount","t1","t2","t3","t5","finish","cacheWikiPages","fetchCadreCategoryMembers","fetchCadreModels","_pageIds","fetchCadres","cleanText","prepareDOM","doc","DOMParser","parseFromString","node","parentNode","parseCypherText","extractLink","helper","texts","tagName","nextSibling","innerText","trim","extractParagraphs","removeUndefinedValues","source","p","hrefs","obj","isArray","parseAnchorTable","table","header","th","tr","td","anchors","parseAnchor","row","titleColon","hrefTitle","parseCypherCodecsText","cypherCodecsTable","cypherCodec","parseFactionModelsText","parseFactionsText","collectFactions","Wild_Card","anchor","parseModelText","some","innerHTML","html","extractStoreLinks","factionAndTypes","extractList","extractText","extractDefinitions","extractWeaponSelection","cortexes","definitions","parseDefinitionText","extractCortexes","modelStatsData","modelStatsLength","from","weaponsData","weaponsList","tds","stats","previousWeapons","lastWeapon","weaponDetails","weaponDetailsTable","weaponDetailsData","detailsHeader","_ref5$node","as","_step2","uls","_iterator2","ul","li","replaceWith","pairs","definition","groups","encodeHTML","textContent","append","parseVehicleAndWarjackWeaponText","parseVehicleOrWarjackWeapon","vehicleOrWarjackWeapon","prefix","res","availableFor","pointCostNode","locationNode","specialRulesP","specialRule","childNodes","textNode","previousSibling","nodeValue","insertAdjacentText","remove","nodeName","entry","colonIndex","acc2","parseWildCardText","h1OrTable","factionAndModels","h1","last","buildWarjackWeaponSelections","Cost","Location","Weapon","identifyCortexSelections","categories","categoryTexts","findClosestCategory","parsers","parseCypher","parseCypherCodecs","parseFactionModels","parseFactions","parseModel","fetchPages","cortexCategories","weaponPages","_parseVehicleAndWarja","vehicles","warjacks","vehicle","warjack","parseWildCard","parseWikiPages","parser","triggerFetchWikiPages","triggerFetchFactions","factionPages","digitsBase62","toBase62","result","updateUrl","_marked4","parseListsFromQuery","_marked5","parseListsFromQuery2","_marked6","parseLists","_marked7","fetchWeaponsIfVehicleAdded","_marked8","fetchWeaponsIfWarjackAdded","_marked9","fetchCardOnShow","renderWarjackWeaponIds","maxPageId","codeLength","history","replaceState","ids","padStart","ceil","log","v","origin","pathname","startsWith","loadChannel","eventChannel","emitter","addEventListener","removeEventListener","_context6","urlParams","version","exponent","listIndexes","_step2$value","_context7","URLSearchParams","search","substring","parseList","_yield$take2","_iterator3","_step3","pageWithoutTarget","_context8","_yield$take3","_iterator4","_step4","_context9","_yield$take4","_context10","encodedList","parseCards","rest","blockEnd","delimiter","_block$split","_block$split2","decode","string","normalizedString","NaN","fromBase62","strings","processes","fetchInitialData","continuePending","refresh","Version","objects","_len","_key","initAll","namespaces","group","_Object$keys","saga","createSagaMiddleware","store","reset","persistedState","localStorage","getItem","JSON","latestState","composedEnhancers","composeWithDevTools","applyMiddleware","createStore","subscribe","setItem","stringify","getState","initStore","ReactDOM","render","Provider","getElementById","run"],"mappings":"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","file":"static/js/main.2a483969.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Compound_Armor.159c8ed1.png\";","export default __webpack_public_path__ + \"static/media/Flight.ee1b66b2.png\";","export default __webpack_public_path__ + \"static/media/Pathfinder.658c0371.png\";","export default __webpack_public_path__ + \"static/media/Revelator.f9be1ca4.png\";","export default __webpack_public_path__ + \"static/media/Stealth.d0dbe094.png\";","export default __webpack_public_path__ + \"static/media/Weapon_Expert.e15642e8.png\";","export default __webpack_public_path__ + \"static/media/Aeternus_Continuum.d1b19d0e.png\";","export default __webpack_public_path__ + \"static/media/Fallback.1ae05c50.png\";","export default __webpack_public_path__ + \"static/media/Empyrean.4ab49225.png\";","export default __webpack_public_path__ + \"static/media/Iron_Star_Alliance.82d76402.png\";","export default __webpack_public_path__ + \"static/media/Lost_Legion.78737fb2.png\";","export default __webpack_public_path__ + \"static/media/Marcher_Worlds.61a330cf.png\";","export default __webpack_public_path__ + \"static/media/Wild_Card.3da9dbca.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEG0lEQVR42gEQBO/7APr5+AD2+PkA////APr/+QDC2OIAdKfIAGWLwwJ2h8QGbofCBm+ExAVfmsMCfrHGAL/e5AD///8A//n5APb9/AAA9vn3APz88wDb7vEAhbfVAGyTyAR4h7sLgoGyEI14qROPdaMUjXmsE36EuBBvib8IZ5jOAqvO4gDw+fAA/Pz9AAD+/v0A3PDyAFuh0QBifb8Hf3qvFaFsmCO4aopBuXGNYr5viW69bIlatWaQNpZzoxx1frgQXH+9BJa72AD+//wAAPT8+QCIuNYAYX3AB5h8rhi2bIc3unWIi6aIk9WSiJHzjoiQ+5aLjeuugo3DuG2GbKpykCiGfbQTXYbEBLLd6gAAxNrhAG2UwwR9fKwUtmiLN6Rpd6t8hYr/cn+G/2p7f/9qeXz/bHp6/3CDg/+DgYbxq2R5f6txnSVvd7UOgabMAQB1p8gBdoe4C6VxnyKeWnKMcHl9/1Rra/1SYGb5VWFk/FxmavxaaXD7W2Nr91lqa/9yY2rsrWF9W5N2pxdplcIGAGWKwwOEgrcQtmWLQWFJVNdYcHD+k52i+TtKUv6Yn6P/cHyE/TBCT/1MVF79SlRZ+z9VWf+GUmCmrXCZJmuIwAoAcoO+BpN+rhKjWndjQkFL9CI6QP6lqKr7z9PW//////6vtbj+jJac/nB7gv4oNkT7MkdV/mNCU8+xaZE5hIC5DABrg70HlX6mEp9Vbm0yMkb7Fio7/lNbYfz//v/+5ubm/vL09f7////9wsfN/hwtPvweN0X+WzdM2LJnjD+AgroNAG6AxAaQgLASo1t4Wi4rPO0PLD/9HjRF+11nb/1MVFr/7fL1/aalpv2ssLL+XWhy+wEhLP5bOUzFs2iTNHqCtwwAYJjFAnyEuhC2aJQ1VyxCxAMkMf8UKj74Bxco/g8iMf9YYmz9Fh4n/igzPv1ocnv7DSEv/4JFWY2udqMgYIvICQB7sMUAa4e9CKF4qh2gUW1sHBwq8gIfK/8VJTb7ESQ2+wYWJPsSIjT6Cx40/AYbJv9PLELQsGWFRId5qBV8l8QDALjc4QBmmMsCeX23EbF2lyiQSGJ/Khsn6AYVJP8FGCz/BR0v/wQbJ/8LFyX/RiQ2zqxXd1mhe6geanqxCZ2zzgEA////AKnQ4QBefr0EiHuxE6x3niapWnNbbjZJo0slO85NIjjWUio+woRBU463ZYNFoHunHnJ2qw1nksEC1uv0AAD7+/oA9fnyAJS71gFWisMDbnWyDpd4phevdZsnsGqSObJoij2ybJg0rXajIIl4qRVpe7EKZZLEArrX4gL//vkAAPn8/AD9/f0A/f/9ALTb7ACCpM0Ba5HFBmmEwAt8gbkNfYS4DX6AuwxjiMYJdpjFBJqzzwHX6vMA/f76APv7+wDj3Ax+yZru6gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEG0lEQVR42gEQBO/7APr2+QD3+fUA//36AP///wDR5OUAhrC/AHOOvQJyibsGbpC9BnCEtwV5or4CmMLKANfr7gD///sA/vzwAPz9+wAA9vn1APr6+QDp9PcApsTWAHicuwR4h7ILfnqxEIRzrBOIcKwUg3GtE3qBshBzkLgIfqXFAr7U4AD3+voA+/39AAD8+/gA6vT2AH2vxQBphLMHgHSxFZxhnCOwXY1BsmOSYrdikW64Xo5aqVuTNoxrpBx0fLQQYomtBKfH0wD8//0AAP3//wCmxdcAZoKxB4h2rBirXJA3tWiJi6aIldWZhJHzjoKK+5iJjeurfpHDuFyLbKFinCh6ebETZ5G5BM7j6gAA0ePlAHmevAR/dbEUqFqON51ngqt7gof/YXJ1/26Chf+NoaL/YXVz/2V8eP+EfoTxrFV+f6FnniVne7EOm7HKAQCGsL8BeIexC6FloCKeUXKMXWVp/4WWmv11fYT5gYuM/Nnb2/xfbG37i5Ga92yHh/9uW2TsrVOBW4xsqRd7nMIGAHKMvQOBe7AQq1WEQW5LYNc1RU/+VmJo+d7i4P7r7Oz/9/j4/ebo6P27vcP9NkZR+z1SVv+KSWamp2OfJnaJvwoAaYW1Boh5rxKfTHhjSDlN9DdTXf5mcnX76erp//////72+vr+/////ry/wP5RXmf7NE5Y/mI8U8+nXZQ5foC4DABrjLMHjneuEppJbW0wKjf7V213/sfJyvz39vf++Pn6/vv6+v728/P98O3v/qqttPw6TVn+UjFJ2KxZkj91hrgNAGyBtQaKdbYSo0x8WjQpOO0NIzb9JC49++bn5/3/////8/Ty/f////2iqq3+Dhgi+xItOv5bMkvFq1+SNHaBtwwAcqO8AnqBshCqW5U1VixCxAAYJf9ibHn4tbO3/rKytf/v7/D9nqGk/q60vP0uQE37BB0t/4U9Yo2jbKMgdI6+CQCVwccAb42zCJVtqB2hQm1sHxcq8ipFSP8MGCD7OD9J+6qvt/sIDhz6JjNC/Bo0Pv9FHjfQsleMRH9ytBWHnsYDANrq8QB8pccCcHysEapooSiTOGJ/JBAi6AAUIP8NIzP/JzVG/wUaKv8AESD/QxowzqdPdlmXcaseanexCae40AEA////AL7U4ABkhq8Ed3i0E6NtoiaqTH1bcC5Ro0seOM5FGjDWVSM6wn84Wo6sWItFmnGsHm90rQ12mLcC4O7wAAD7+vgA9/r6AKnF1QFlkbcDZXquDpBtrhesaJsnqWCQOatdlD2tX5Q0qGqlIIJvsxVnerMKeZm4Asfe5AL//v0AAPz9/AD9/fwA////AMvl6QCZsskBe5rBBnOJuwt9f7YNdoW3DXiAtgx0j70JhZ/EBKa60AHh7vAA/f/9APv9/QB7QyxSBgSw0AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEFElEQVR42h1Ta1ATZxT9EiJPYZAAQqfBBwOmtFKVACK1DiLTjjK0FDoI2OoYRBISMCa77OZNSIkJ4ZEAQaUqUxmlUCDkyavhoaU/7Cgz1sdMp3Xa/mix7Y9WIpDN7teFX/f8OOfcO/feA9ZJCgQCAQAhBEQwAO4tPAZt7W4gkUwwNcrpUBXuDW3GfNtkl75mmtqGgW/uwRYXQoLmEwBsBNYApEjw24uXoMsyCxSIh6WTO6N0TZ5Yg9TNNknd8QbUw1bjjlgMHQtHJaNMp/MR8K/6QZCkDSAkwe+/rgBE5AANdWNhesSRYJJMpPainoI+tfN8j3a8oVfpruqUenJMUu+bOtlUrJA/zLp5fQGQmwarfj+wWme3xBaVO8mCjuf2GEbbLJbBJ0Zz/yu9uYcwdl79q6f9zr1u1Yios8nBvSJ3scV1Q6z7i88A+H7pKVCgLpYedcZ3IRO5OuzmCNZqho1aDaxXyGE9jsEGXA6R5laobLX+24oOaCyYJw0XT8SYTW4GMJmdDB3ujuqQeffi9d1mEa6DpwUXyfJzNRtlZwXB0xekwWqBlKioFa1VChtgrRD/29Q4VN2JTu3EZaOh9La/CTHg07GdspGC4lL+s3NCCXX1xuDGeydLqWu3BuFllYHMPF5MfvhpNXmyrJooLD8DxZ/r79gwT7qi0RUJlIrJ0A58Jk4r6OfnH69a5eYUUoPD48Tyk+f0tSDlmJym2m1fUlKlnuLmFhIHPyihSopFj7oQe16L3Lsd4KgnrEs+E6e8YBPvzykh2O8coUrP8IOb4pWVFcq/tk7RmFz6YZniZB4NpuQUUMeLap93I45jStQVDVTIdKhRMRv3haC/Kj2z8J/4jHwy/WABcfaimDxVVgVfrW2QQ3eHyNEJF/WZUEow9rxNnSgSfteLunmtOD2BTDzIbEZdsbYmR/axIxX3Y1Lehcnc/PWwZC61Y28WrKwRk4mcdIrLe58UIioiZhcP8st07X3a+d2o0BkB2ox3gVJiD+/GfByc3yVK2pX1XzjnLZiw7zDBTsslIhLTiLhUXiAyJSsYmbQH5h3+ZLldOnZCj08l6NT2EOD79gFALtmZGtnMjj6llyuuMGo4qYf+DEnkwLDkNBiVnAG3vUHXxAx46MCphzrh7UqrejZFWj8W8dXAPGMrGC73Mqg7b2cZsRn2NdVUeotgoLq0qPZ29oGPH/L2lz7Nzy5frPmoqcMiGy3aFKsv26MVEgfzxS8vASCDQfD6tR/cuO5jNNQNh+Ci8RgrNrezXzWzz4qN5/Wg9qO2JhfPpvHt1ss9CTLRWKScFi8tPmZu5ggQdCAoGlAUARbmfwSmK07G5odhjY6oFvl0tBrxRhuwye0yoTtCq3WwBm7NMX7+6Q968iDdnAT/A22QCVwQ8htxAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEEElEQVR42h2Ta0xTdxTA/y0diFBSQeIg6hQn02wBYYgjBhBUEmVhuMzpYJk6RBHa0tLbx720FErLq1BapHSKDyaZUyZ9Pygg5aFkwURdtumyZUP5oAy2ZCDUtvfx38Xz5ZwP53fOLyc5IEBSIBgKAgghCJEhMDnxE2jXOoFAaGMqFEPhcswdrsRG3xILvmd2tN4GY74Hb3ohxAFO4ICGAwBSJHj+bB7oDKOgVuJkNWLOKLXYxWlCXHEtiGdjs9gd1yCzcjCxeZ1EOMh0OB6B1ZVVQJD0AAgpMPd8ASA8G+BVWCI0Ymd8u8Cxwyhx5F2Su7821bn5RrmrRC9yZOqEns0qZJhTWTbAunZ5ApBrA1ZWV4Gh6y7gnbdG6BWetw2IdZ9JY9Yajf2/NndcfaVsMeFtht7FHv13U3rFALdT6tjVgjnjeBW3WPcmngLw4/0ntLadpRG7N3aKbPtaavt/QFWt8LSwGtY01MHu61dghUgIL0hRiDXplpol3yoNUvdOlGeL6dC6GECrtTFUmC1Khwwnyfk97aXn+LDV2E1KahuDmjYd8fvsM+JsZQ3e1t37GlE3wjPlon+0gtulnRLvJlQ8GA7EfEtYs2yUoxOY80q+rHr64eGj1ImzvODs3By1sLgI/SGcfDE/T3onp8mPCorw3OLjkH9affMi6kpGq53rgRLzhHdgQ7Ga81fK9ucfW8kvPkldEMrweRqmgwoEg9Ra9k1NU8e/KsezjhRTRYWVj/Ria5YKG4oGItQd0a4YjlWWm3jv7jmAn6qqoWZmHhB+v5+GQxRBENRrv5/8b2mZGrR7iP0fn6Byc079ZpTYc+VSFxug0hHawBvbUNlbsjPt0L/R29PIpD3Z+Mu/X5BrCoGAfy2Tt+6YKXZCEs5OyaQOHCy/3yV1ZjRinmgg4N9h1ks8HD3q2ZufXXKPuWE7PMOXBVxDHsru8sKl5Vfktb5+yu69S6bmFeERCSnw3Oeqju76sW2iKkckaG8eAKjIus6Ajm/BygzchC1py+k5B2FM/Dv43txCfNDmxiM4iaHd6TnE1tRsmJ5S+NiAmA+pMU+8SmkNA77RGSAWWphKZHiDSe7ZxT/ZpoxPfH8ecDbD2KQUuDsjF4YlJkFGzA6Y+sHRhxruzS8MipGtCNcceaNvnPHmMZyux6CizMpqlY3EfaPwJqurbpR+WsDrz0z95GFqcsGTrMzPJsuO1eoMYsvhNbiuxsquFdqZs38tAEASBPD7V8HVy2MMfsVAGMq1xHTJfJsuyUffuyi1ZJlklmyj1JHRo/Rt09DaCNeyHqPh6amfmfRtAcDph6DogqJwMDH+C2hrcTBQZDBcUm2PUmMj7HpkiN2EuqNFVc7IBqWT1Xfdx/jzj5e0OUEvJ8H/Q3cpHlin8poAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEGElEQVR42h2TaUzadxjHH1BRqzZaaum66XpMPGKNCsisiCBQLQM8QCkgOA9UULStdw1qM9rOVZt0S5ulWeqS7ujadGlnZub2oml3JFs212b2MqlunohgKYIcf/7/37AvnuR58Tzf5/xAMEBAwOcHhBBgPgQL39+Df/Rd4CipJr8qL6O4VGrKOr88wqZRkv8YMMPcxL3XscGQ4QEfQMCPQQBHsDn3AuzmEbDVKsOtdZIYd50w3t0koLoMwt3OBhHV2Vgav1pfHrWiriZvXLsJXqcH8GAAAEc4bP47D/PKatgo40W667mJ3jbGoc2+fP6SRVr/33lZu32Yp/Z0svK2mjlvOfTceFvxkfDFoUuhwsGQgCcA64MXYKOcF+lqE+51dxawH43qLty8Mvz48sWRzbGxc9jlS5b1yU8Gfn5uEbe5T3LTtvRi6opYEL4x8SPAwtQDWNOpwrfqBLtdnRz2HXPNre4PR5Bx2IKaBwZRc/8ZZOg7i9oHR9EH58+8+mtANuTpKkhxVeXtnG/vIMGM/iRpe2asg3NwskM82jIwhFTNJlxep/cr3q8LqpqMQa2xFdM0Gr1ywwnU0a6zz3ZxNMFWAc2mLaOAXSQPc4cW5Ohh8hvloqfK1i7i02vX/RyxnLg6/gU6ZbbgWcUS/FiVDn9PocI4CjW62lD8VaCbS3dJS3aAXVpJCRjEu6ZNhQ2lApE7hc0jvvzmNvbo8dPQtRDx3Q8/EWNXPiM6zRYinS3AGAIlYajg/L3Ry8n3aKWx4DheFYm3Hdv1e8sRU+67fCz+MJeo0DQFt5Ota1bC4/URIR//7c+HRFIWN/gms5TQihnPXnbyi9wGaRxYeWKKN9TBs/ZcdVYOy5GQwccPsIqwmhYTLpFr0KbXj9/4+gZ+++4EUWs4hUFyLqEvZf/q6REzHUpxLNhUGrJTXxrv6ylgaYsO/xKRxET7MvJ9kW+kEgkHc5GqoQ1PTKIT6cxC3NhlxmKTs9H4ccYY6hHsX5cfjYbp/kFYqZVEBU4UJd03sNrePkB3kfflokQ6G6OmsLHoPakY9RAjEJOcGyTRMlElJ/vhWneR0NvET1zQa8PgxeR9WFYryY6GwgSsV5h2R8cYSnknxQo0OorYk4OiaNkI9mahCFoakuRkTM+2clS+PlGyQ8aPXjKPkF6D4fj8FlhD77nZWEL19RfTZ0z5mrMlGdcVjMxpKSv9SW0e/cG4IvOirYcn8veKku3VvLhVmZq89WQWIBgCwufxwOLwx6QliSDspSJvJ2EU0NBpYaq7j5vv7BEWuk+LmKiXt9/dzE10yIp2rEo15OVvp8gYIkICWBAIIgA4gYPz7hTMmTpIy7oKyrqsJMallcV5DEfjHNWS2I3K4uj5pprwRfNHpK2Z54Bt44z54X99uP/jai+vaQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAED0lEQVR42h2Ta0ybdRTGD6XCuA5hZJtKRzDAZBkMgXIptIW+lDJWGiYppZUV6mq5toFQCrvAGGwT2WacE2NMFnSJJk6WjCGXaDIRZ+KiaJY5UeQ2kLaUAr1f3svfFz6cPF/O75yTPOcBHCfB5/MDQgj8PgpWxqfhmbodrMIqhuPUW0HbCkWQhVf5kvltGWO2sxuWRh/t9RJ0kX4vgJeGfSQC58IiWC68D+baaqa5VhzmqCuOcqmLYpz12AGbqiRmW41FGesk+9arpQzrna/Bs+MCkvADkBQJjqVlWJZWwZakMNih4sb6GjNft53jFK72V6iMVyq0m718ubM1j+3ScF+zqrlRG0V5zNWeD8FPEvQAtx8s3YM0zAu2a4sPOdo42U8HzwyOfHrlz09uXHUMDFzCP77dbxkfOjcz31fW7GzlHnWpT8YYyzDm1tgUwMp302BWVjE9dYIDOzQ81qu8197Xj87oDKi1+z10c/gLVNd2EZ3VX0LXrl62/XZe0uPScxIdUnbkklYXAE81ugBTXVkYoeUkTLadul7Z0IQGbg+R7d2XfX2Dt4iFxXmitlmHf/DRkEfbex011Cs25zu4CrxRcHCjRhIEVkwa6FaJoyztOYU6peSvE4JKSn62xbew9oKyWCzI6/eRq2YTOTXzmMwRivHsiir0mVr0pU+PJdnLsVCw0lbhDaLo2ZaCd3gY38mXKKn61gu40bJBu4Uoj89P7eqjmZ8pqVKNs0tlVKOk4He7npvrrikNh02ZLJjUCqN/1RS0vJGegyua2qgnT34h3G43RVtMEQRBedxu0mazUyMPx4mcMhklK06f2+ko5DkaSiLAwpEGeevF0XPNbHnWiWxrSHwGmZiWi5tMRnL3BK/XvavkV9/cpyIPJ+ChxwopFZb52GkQZm5Wi8PBLJcxtjTCKLuhMEvFz/gJYpKRprnDOzkxQY1+O4lsdgd5Z/gu9XDqezKNX44HvHIcDctzbiC9MN5aIQyB2a7zYFKK9/m1grgfGjOaWUcS7cfzJSgyloVn8crwkdEJPGT/YX/Km/lEbKoInUxP+cOq52FudVHsiloRCItj02CUVTG2VQUv+zsFRx8o2T1xcSwTRLNQxJEMlJRZjBiHUhDsfxWVpCXM/qvlVXs7BSyrmB+ydnEgYC8Ym5/fA5Mgj+lSi2LwLkHSnI6juFJ67O7pjORZUWrC89rsxB+Hpak3zYb8Yq8BY1mk/AhjuZzhef4PAEEHwuNywYveWwH/iQWBtkp2JGrCDlJdRcnOTl6u3YAVOLuEmZSBH+/UcGOt5fzQdbGCsX5/koHTy4HACUCUfy9UOw+mYJF+zzXl6aANiSjMUSOOcDaURlhlpeFbFYKQ5XdrmKv02e5nf8MuTOI++B9NGyAYlSH/2QAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEG0lEQVR42gEQBO/7APv69gD69/kA///7APf//ADG090AiaPDAHCLvAN3hbgGd4i8B3iCuQV2qsQBn8DKAN7z8QH///8A/Pb5APr6+QAA9vr3AP37+gDU7O4Ai7jHAXaXvgVzib8MZIzBEGCQxBNikcMTZ4y/EmuOvQ5vkb0IfqnFAsLb3wD3+foA+fr8AAD///8AyuDjAGmdvANehLoLX4rDF1Oc0SlUqc9KYKvOaGGrzWxUqtFUVJ3QMFyOxxpfhrwQY4ixA7LI1QD+//sAANnq7ACArMUCZIO5DGOUzB5UqNBIaqzBoX2hpt97lZj4eZOX+3eeo+hzqb24XKnMYl+bySZiiMESaZS6A87m6gAAhrW+AGmQtgljj80aUaLMUWOTm857g4T/cnmB/3F3ff9reXn/cXd5/3p+h/9rkpjoTqO+cmCczCJhfrYNmLPSAQBnjbIDa4zCEU+gzjZQiZm6a3h4/1ViZ/lXYWj7U2Jn/VdqcP1Xam36V2hq911lav9Pe4ThUKHHUmOMxBd5n8EFAHWAuQpllM0XS5i5azpSWfh6gYz9fYuO+0FQUv6mrbP+W2dx/jVESf5HV179SVRf/ERRWv9BhKGaXJ7OI2yQvwkAboK4DWCe0R9BfqCXKTtE/zpLVv29wcb+0dbX//////2Zn6T9lZ2h/l9qdf4pO0n8OUFM/jFqeMRTotA1borDDABxgLUOX6HTITF0kKQrMz3+ESg2/IGKk/3////+5OLh/vr5+f7////9p621/RgpOPsoMz7+LWFwzVSi0jpmkbwNAHKBsQxgn9AdO3mZixorOf8PKDj9OkZS+1ZgZP5manH++fr6/ZSYmv2ws7n+TFhi/AgeJ/4qYn67WaLVMHCHwAwAbYmxCGeTyRVMl79YEzZM7BQhM/8UKDb4AhUi/SAuPv9YYmv9BRId/jxDTvxjanT8BiAy/jeDpYRmmcwebJTCCQBembQDZ4m+Dl2h1ykyc42WDBYj/xIbL/8UKDr6DyI0/AYYKPsQJjn6Dhsq/Q8WI/8iVG/DUaTMPmaEuRSGoMcDAJXCzwFslb0GaYzIF1ilzzgsaYagEB4w9goSIP8MFiP/DBgp/wkUKf8JGin/Gk1lw0qfy1Bsl9QdZX2zCam70QAA8vv7AJa5zQFbfrAIao7LF1mk3C5Ajq1uKFpusSBEVdIhQlnVIE5tvTN+nYRWpc89Z5fRHGN4uAyDnb4B5PLxAAD++vsA5O3uAIOzxgBfiL0FY4G9EWOXzRpepNMqW6LOO1mizDxbo9IxYJvRHmeFuxNqfrMJfZ26ANHi5AD///8AAPP5+QD++/0A8Pr7ALrS3wCLqcYCdJa+CHGLvwprjcMNaJDCDW6Jugxulb0IiKHFArK71AHn8vMA/f7+APv7/QBXjxPRmZifdgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEG0lEQVR42gEQBO/7APn69QD6+PoA///+APf//QDG09wAh6W8AHKKuwN1h7gGb4y9B3eCvgV5qcQBnsHLAN7z8QH///8A/Pb5APr6+QAA9fr2AP77+wDW6+8AjLfJAXaWvgVwjLsMY4zBEGKPwxNikcQTZYzDEmuOvA5yj74If6nFAsLb3QD3+fkA+fr6AAD///8AyeHjAGiduwNfhLkLYInEF1Sb0ilYp9FKY6vMaGKrz2xWqdRUV5zOMF6NyBpfhr8QYoi0A7LI1wD+//wAANvp7ACArMQCY4S3DGSVyx5Spc1IbKvDoYOjrN97lZb4dZOV+3ufp+h2qLu4WajKYl6byCZiicASapS5A87m6AAAi7O+AG2Otwljjs0aTqLNUWSYn85yf33/XWxx/4SIi/+Tl5n/ZWtu/253ev9tj5boTqG+cl+byyJifrYNmLTSAQBnjLEDa4zEEVCg1DZKhZm6X2xq/5KdmvlkbnL7nqir/cbO1P1bZ2z6jZua93B1e/9LdoHhUaLIUmOLxhd5nsIFAHKBtQpklcwXSZa4a0ReZfgvPUP9d4WN++nq6v7t8fL+9ff2/ufo6P6hr7L9NEJM/ERRXP9Eh6OaXZ7OI22QwAkAdIKxDV+f0x87fpuXMEVG/0RUYP2CiJP++/7+//////38/fz9/////qWutP5OW2P8PkRO/jFqesRUo9A1borCDAB1gLoOWqTXISp0j6QmMDn+gYaR/Nva3P319fX++fn6/vv6+v729fX96Ont/Z+krPs4QEj+J11qzVak0jpmkbkNAHCDtAxlnM4dOHuYixosOv8HGij9SlNb+/////7////++Pn2/f////2GjpL+CBgh/BQqM/4oYXq7W6PUMHCHvgwAZY6yCGaUyhVLl71YETdH7AkYKP+HkpX4qKyt/cfHyP/h4uT9n6Cm/qWvtvwjMUD8CCI2/jqEp4Rmmc4ebJXDCQBemrUDY4y6Dl6i1SkucImWDR8n/zxBTP8ABxr6YWdv/JWbofsABhP6NDpH/RslNf8bTWrDVKbQPmaFuhSGoMcDAJfBzgFtlr0GaYzJF1ukzTgoaYGgBhUr9gYMHv8gJS7/JjA6/wURH/8EEB3/Gkxhw0yizFBsltMdZX20Cam70QAA8vv7AJe4zwFcfrEIaY/IF1uk2S5Bj7JuI15vsRpDVNIZPVjVHlRvvTSBnIRVpNE9ZpjTHGN4uAyDnb4B5PLxAAD++/wA5ezuAIOzxgBeibsFY4G7EWOXzhpcpNYqX5/TO1uh0TxapdExYZzRHmSEwRNofbUJfZ25ANHi5AD///8AAPX5+wD9/f4A8Pr6ALvR3QCIq8cCc5a+CHGLvwprjcENZ5DBDW2JvwxwlMIIhqLDArG80gHn8fMA/f3+APv7/QAlXTSQL9Q7UgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEGUlEQVR42h2TaUzTdxjHfy1YLnHlKs4BmzgOryxMJiC6ioJzmzO6gQgNW+wmRykt5erBvyct/ffiaAtUGKwBIVB6FzTGMQfMLCabLEHdsiMZWaJLnC9ErvI/fqu+eJLPi+eTfJ88+YIgRoCN9U0AIQTb20Ewd2cZGPQB0NbopKrEszSlcCY0t3c08aaonVoX+Pb2vVe7EGIAwzcB2NrcAiSBgZW/nwJz900gFXrCNchMTGe7h65FXAmodDoRRTwJGrGPLmtxRwoFTmrA+zNYW3sOcBwHAJIkWFn5Bwj404BX64xAEV9Sl3JyX7/JXjRkGWUP9X/Ds5mHKq2o/WiP3JGiEnnpHPZU+PDQPCBIAoDVFxvA2nsrJE9G9Khv7Lbqx/IGrw0Y+gcHH+q7+150dvViBkvPU9vg8OKA2c61akaztTJ/Ard2Knxh4SEA83eXgbRtJhyV+BMtqD2vU6ublqh1kC9VQo5YDutEClgvkcMmhQoiOvS5SW+UW9CJDDHPs0uvd1GAHvVT1JJATK/akS5DlEaeSAov1/KIz9icYOmVqzirmotX1TVhl6u5m5c49ZDd2PSfSd3N6pW7k8UtPhporg+EoYiLbtHZikrLr/xaVccnrSPjweNny0jbyCgUtHcQOUXniY8ufU6cLa3CTl9gwQaeYOIaOpHZ3uiPBhLxTZpR5YrXIOiX75+5uJZ19CQ5NunElpYfhb4FSc+NW6Sxf5gUtKvIrLwS7EjxBfJiGWupD7UXaBDfTiAUeiK61e54haij4VDBaSzxYD75aSUbfyk/fvyYXF1bJ0NMLPz4E/nGO0w8JbeY/OCT8t+sJjtTIXbHAknrLK1LMRuPSk2VWbmFz+IOFBLp75ZgX1TziXOlLPhsdZ2YGJ8gnF4fWVnXjO1IOUh+eL7irtkwmquWhhLwudepapGfbjOOv1d05twPMamHIePQya2I3dkkfW8OLGdzCUZaNpmde4KoaZZir6XlwJqrDSZbl/etlnp/FNCgU0DU4og0a12pMqGCu2fv/tWIPfthfGY+FpeRh9EYGRh9X+529JtH8ChGOjx26uNfzPq+Yj3iSupAAmFgbu4eEDY6qMpWf9ywYTy7lcuXp2Yc/peW+DaMZGTD6NcPQBojxMmZMOcY875Waayw6J1pzZzpqNGRRcqrYsz4lwDnK0e4VjaTYDNOZmplelZpWcVYfiHzfl7B8UdMZvFCLbuuy6IbKjHrvGmyNlesuNFP/euPJwBgWBCsb6yB4a/nKdya6TARz7WrT+lLHjE6swZ0YwU2w/UT/YaJ3MHQzTrpVFIr1xEtFripi98/oEIYKhOOY+AlkCQOFu48AEbUR5E0u2kSvjumE/HFqoSeWHW7f2crJxDVgXjD7cPfUf78/UnICQICw8H/Di4IlwZqb7gAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAED0lEQVR42iVTa0ybZRh9W7oyxkWubpkbIlOYmk0ITGQGChkjxCiiCSFsxiUUxyhtoS0tpfQGpaU3LgVKO0bLpckg0HspVoeMreoMS4bROGfU4LZk3DQRxtrC1+97/cAfT86f55zn5Dw5IIQGwd7eHoAQgnAYAf47PwO1xg2YnBmiUOQlC/lesoh/61ATa4ooV1vBNwv3D3YP9lEUgOABGQGPHz8DfbpbQNziISmEzmi5wBqvEtmS8ElWCB1JHQJnfBvPdpjLthFnXctgZyf4vwCGKz198gxwGqcBnWaPlAvdKTrp1Cmj1lxsGpyoGdGPMq/3j1zSK0ff7RVPnpDxPfE0qo1kGrkNUCwMwIsXQTDQPw/o9Y7I/k7fMb3KnDdsvKExmE2/KHUDz9s1GqR7SLc5PGL2G/rG6Hq55bRS4kmi11lJfv9DAH649wi0tXpIcpE72aAcy+tRDczwOzohlcmCbEkn1JknIJXTDL9o4cI2dddWr6pXMqicfkPAnI3TaDwEoFZ5CDKRM3pQZkvvlMi01VfroGrAgHLFsl2Zpjv8218r4dqGJkStNwbZHTJ4hdb4d5+i//KA1H6Uz3WSAYfpjlAKvfG6LlPxZ9Srv2aXfIBV1TJ2V548xTY2NyAeMrq6uo5+ffcemldagRSWV0IGi3XzumoyQ9ToOoKn7iXr2p2JcpGa+n5J+c6F8mqMxuIj6xub+KcgFtrdw/bxtv97rPJKHXK+rAL7qKp6eVA1lq9s88QAHtcd2S93JEpbFYyM7EKk5hoLW1q6Hw4Egjh5FwuHw1goEED/3drGbB5fuKCsGisq++SRUTtOkfLtsUDM9ZF1UhfuQHspM5fyz0tp76CnsgqQ1bU1dN9CKBTYR3TKaseij7+OJLz9Hnbh46rvjGpLbqfQFQPYTCuxQzAXP6SZPFdS9um3IDEN1jD5obk5H+b2+uDW9nPUPGbB3F/No2eLKxDy8TOw4VpTt6nblcZpcEcBlXIGtDa7DhsUzpMSnoyenH52O7egFMa9/BqSS/kQsbq/RMgJr+y9mUMJnzhDgVn5JT8a1cYStciR0i5yRYD5hSXAY1uJ7S3uhBvam6fZjBZJyquZa4S4NJiYmg3fyrkADx1Lh4TYkzDrXNEDjayvWq+2pXLpjijL6CLhoBTe2WVQXztN6hL7koZ7rBlqafflqsrPLXn5hQ9yss8/LKKU3qVR63uGtMaLerU9VcKbiRVwnMSVP9cB3kAUBIIBYBpZINDrnBF8hjNuqN19dFzjyhzSTuQbesYLhrWW3NGe2TQVbpvLsB8RsD1Ev/8nIp4tOGgUBjGAwjC4s4hXuWuO0NLsIAsa7dEKkTtW3GqNVbQ5Yng0T1SHcJY0bl4k/PH7Ku4c5+DH/wODKCpYmfBgCwAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/Blast_Weapon.91876b57.png\";","export default __webpack_public_path__ + \"static/media/Corrosion.d848b926.png\";","export default __webpack_public_path__ + \"static/media/Fire.678cd613.png\";","export default __webpack_public_path__ + \"static/media/Lock_Down.22e3867d.png\";","export default __webpack_public_path__ + \"static/media/Repulsor.d174ca78.png\";","export default __webpack_public_path__ + \"static/media/Spray_Weapon.7d0ffad2.png\";","export default __webpack_public_path__ + \"static/media/Strafe.4aaa8fd7.png\";","export default __webpack_public_path__ + \"static/media/System_Failure.0aea5e20.png\";","const CardDragEnded = message(\"CARD/DRAG_ENDED\");\nconst CardDragStarted = message(\"CARD/DRAG_STARTED\");\nconst MenuItemClicked = message(\"MENU_ITEM/CLICKED\");\n\nconst FetchedWikiPage = message(\"WIKI_PAGE/FETCHED\");\nconst FetchedWikiPageRevisions = message(\"WIKI_PAGE_REVISIONS/FETCHED\");\nconst RefreshWikiPages = message(\"WIKI_PAGES/REFRESH\");\n\nexport {\n  CardDragEnded,\n  CardDragStarted,\n  FetchedWikiPage,\n  FetchedWikiPageRevisions,\n  MenuItemClicked,\n  RefreshWikiPages,\n};\n\nfunction message(type) {\n  return (payload = {}) => ({ type, payload });\n}\n","import produce from \"immer\";\n\nconst initAll = (...objects) =>\n  pipe(...objects.map((obj) => produce(obj.init)));\n\nconst immer = (f) => (state, action) => produce(f(action) || identity)(state);\n\nconst StateShard = (namespace, init, actions, actionCreators, selectors) => ({\n  namespace,\n  init,\n  dispatch: Object.fromEntries(\n    Object.entries(actions).map(([functionName, f]) => [\n      namespace + \".\" + functionName,\n      f,\n    ])\n  ),\n  ...Object.fromEntries(\n    Object.keys(actions).map((functionName) => [\n      functionName,\n      (payload = {}) => ({ type: namespace + \".\" + functionName, payload }),\n    ])\n  ),\n  ...actionCreators,\n  ...Object.fromEntries(\n    Object.entries(selectors).map(([name, f]) => [\n      name,\n      (...args) =>\n        (state) =>\n          f(state, ...args),\n    ])\n  ),\n});\n\nexport { StateShard, immer, initAll };\n\nfunction identity(a) {\n  return a;\n}\n\nfunction pipe(...fs) {\n  return (a) => {\n    for (const f of fs) {\n      a = f(a);\n    }\n    return a;\n  };\n}\n","import { StateShard } from \"./utils\";\n\nconst AppSync = StateShard(\n  \"AppSync\",\n  init,\n  { done, addReasons },\n  {},\n  { selectDone, selectReasons }\n);\n\nexport { AppSync };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  if (!state.data.sync) {\n    state.data.sync = {};\n  }\n\n  state.data.sync.done = false;\n  state.data.sync.reasons = [];\n}\n\n// Actions\n\nfunction done(state) {\n  const sync = select(state);\n  sync.done = true;\n}\n\nfunction addReasons(state, { reasons }) {\n  const sync = select(state);\n  sync.reasons = [...sync.reasons, ...reasons];\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.sync;\n}\n\nfunction selectDone(state) {\n  const sync = select(state);\n  return sync.done;\n}\n\nfunction selectReasons(state) {\n  const sync = select(state);\n  return sync.reasons;\n}\n","import { StateShard } from \"./utils\";\n\nconst CypherCodecs = StateShard(\n  \"CypherCodecs\",\n  init,\n  { set },\n  {},\n  { select, selectByPage }\n);\n\nexport { CypherCodecs };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.cypherCodecs = [];\n}\n\n// Actions\n\nfunction set(state, { cypherCodecs }) {\n  state.data.cypherCodecs = cypherCodecs;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.cypherCodecs;\n}\n\nfunction selectByPage(state, page) {\n  const codecs = select(state);\n  return codecs.find((codec) => codec.Cypher.page === page);\n}\n","import { StateShard } from \"./utils\";\n\nconst Cyphers = StateShard(\n  \"Cyphers\",\n  init,\n  { setForPage },\n  {},\n  { selectByPage }\n);\n\nexport { Cyphers };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.cyphers = {};\n}\n\n// Actions\n\nfunction setForPage(state, { page, cypher }) {\n  const cyphers = select(state);\n  cyphers[page] = cypher;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.cyphers;\n}\n\nfunction selectByPage(state, page) {\n  const cyphers = select(state);\n  return Object.values(cyphers)\n    .flat()\n    .find((cypher) => cypher.name.page === page);\n}\n","import { StateShard } from \"./utils\";\n\nconst EditMode = StateShard(\"EditMode\", init, { toggle }, {}, { select });\n\nexport { EditMode };\n\nfunction init(state) {\n  if (!state.ui) {\n    state.ui = {};\n  }\n\n  state.ui.editMode = false;\n}\n\n// Actions\n\nfunction toggle(state) {\n  const editMode = select(state);\n  state.ui.editMode = !editMode;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.ui.editMode;\n}\n","import { StateShard } from \"./utils\";\n\nconst FactionModels = StateShard(\n  \"FactionModels\",\n  init,\n  { setForPage },\n  {},\n  { select, selectByPage }\n);\n\nexport { FactionModels };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.factionModels = {};\n}\n\n// Actions\n\nfunction setForPage(state, { page, factionModels }) {\n  const models = select(state);\n  models[page] = factionModels;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.factionModels;\n}\n\nfunction selectByPage(state, page) {\n  const models = select(state);\n  return Object.values(models)\n    .flat()\n    .find((model) => model.Name.page === page);\n}\n","import { StateShard } from \"./utils\";\n\nconst Factions = StateShard(\"Factions\", init, { set }, {}, { select });\n\nexport { Factions };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.factions = {};\n}\n\n// Actions\n\nfunction set(state, { factions }) {\n  state.data.factions = factions;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.factions;\n}\n","import { StateShard } from \"./utils\";\n\nconst Lists = StateShard(\n  \"Lists\",\n  init,\n  {\n    addCard,\n    addEmptyList,\n    moveListBy,\n    removeCard,\n    removeList,\n    set,\n    setCardCortex,\n    setCardVehicleWeapon,\n    setCardWarjackWeapons,\n    setListTitle,\n    toggleCard,\n    moveCard,\n  },\n  {},\n  { select }\n);\n\nexport { Lists };\n\nconst oneEmptyList = [\n  {\n    title: \"\",\n    cards: [],\n  },\n];\n\nfunction init(state) {\n  if (!state.ui) {\n    state.ui = {};\n  }\n\n  state.ui.lists = oneEmptyList;\n}\n\n// Actions\n\nfunction set(state, { lists }) {\n  state.ui.lists = lists.length > 0 ? lists : oneEmptyList;\n}\n\nfunction setListTitle(state, { listIndex, title }) {\n  const lists = select(state);\n  lists[listIndex].title = title;\n}\n\nfunction addCard(state, { pageId }) {\n  const lists = select(state);\n  const card = { pageId, hidden: true };\n  lists[0].cards.push(card);\n}\n\nfunction addEmptyList(state, { listIndex }) {\n  const lists = select(state);\n  lists.splice(listIndex, 0, oneEmptyList[0]);\n}\n\nfunction removeCard(state, { listIndex, cardIndex }) {\n  const lists = select(state);\n  lists[listIndex].cards.splice(cardIndex, 1);\n}\n\nfunction removeList(state, { listIndex }) {\n  const lists = select(state);\n  lists.splice(listIndex, 1);\n  if (lists.length === 0) {\n    addEmptyList(state, { listIndex: 0 });\n  }\n}\n\nfunction moveListBy(state, { listIndex, by }) {\n  const lists = select(state);\n  if (\n    (by > 0 && listIndex + by < lists.length) ||\n    (by < 0 && listIndex + by >= 0)\n  ) {\n    const list = lists[listIndex];\n    lists.splice(listIndex, 1);\n    lists.splice(listIndex + by, 0, list);\n  }\n}\n\nfunction moveCard(state, { listIndex, cardIndex, up }) {\n  const lists = select(state);\n  const list = lists[listIndex];\n  const card = list.cards[cardIndex];\n\n  const newCardIndex = cardIndex + (up ? -1 : 1);\n  if (newCardIndex >= 0 && newCardIndex < list.cards.length) {\n    list.cards.splice(cardIndex, 1);\n    list.cards.splice(newCardIndex, 0, card);\n  } else if (newCardIndex === -1 && listIndex > 0) {\n    const newList = lists[listIndex - 1];\n    list.cards.splice(cardIndex, 1);\n    newList.cards.push(card);\n  } else if (\n    newCardIndex === list.cards.length &&\n    listIndex < lists.length - 1\n  ) {\n    const newList = lists[listIndex + 1];\n    list.cards.splice(cardIndex, 1);\n    newList.cards.splice(0, 0, card);\n  }\n}\n\nfunction toggleCard(state, { listIndex, cardIndex, pageId }) {\n  const lists = select(state);\n  const card = lists[listIndex].cards[cardIndex];\n  if (card.pageId === pageId) {\n    card.hidden = !card.hidden;\n  }\n}\n\nfunction setCardCortex(state, { listIndex, cardIndex, pageId, cortexIds }) {\n  const lists = select(state);\n  const card = lists[listIndex].cards[cardIndex];\n\n  if (!pageId) {\n    delete card.cortexIds;\n  } else {\n    if (card.pageId === pageId) {\n      card.cortexIds = cortexIds;\n    }\n  }\n}\n\nfunction setCardWarjackWeapons(\n  state,\n  { listIndex, cardIndex, hardpointNameIndex, pageId, warjackWeaponId }\n) {\n  const lists = select(state);\n  const card = lists[listIndex].cards[cardIndex];\n  if (card.pageId === pageId) {\n    if (!card.warjackWeaponIds) {\n      card.warjackWeaponIds = [];\n    }\n    if (!warjackWeaponId) {\n      delete card.warjackWeaponIds[hardpointNameIndex];\n    } else {\n      card.warjackWeaponIds[hardpointNameIndex] = warjackWeaponId;\n    }\n  }\n}\n\nfunction setCardVehicleWeapon(\n  state,\n  { listIndex, cardIndex, pageId, vehicleWeaponId }\n) {\n  const lists = select(state);\n  const card = lists[listIndex].cards[cardIndex];\n  if (card.pageId === pageId) {\n    if (!vehicleWeaponId) {\n      delete card.vehicleWeaponId;\n    } else {\n      card.vehicleWeaponId = vehicleWeaponId;\n    }\n  }\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.ui.lists;\n}\n","import { StateShard } from \"./utils\";\n\nconst PageIds = StateShard(\n  \"PageIds\",\n  init,\n  { addPages },\n  {},\n  { select, selectByPage, selectPageByPageId }\n);\n\nexport { PageIds };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.pageIds = {};\n}\n\n// Actions\n\nfunction addPages(state, { pageIdByTitle }) {\n  const pageIds = select(state);\n  for (const title in pageIdByTitle) {\n    pageIds[title] = pageIdByTitle[title];\n  }\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.pageIds;\n}\n\nfunction selectByPage(state, page) {\n  const pageIds = select(state);\n  return pageIds[page];\n}\n\nfunction selectPageByPageId(state, pageId) {\n  const pageIds = select(state);\n  return Object.entries(pageIds).reduce(\n    (acc, [page, statePageId]) =>\n      acc ? acc : statePageId === pageId ? page : acc,\n    undefined\n  );\n}\n","import { StateShard } from \"./utils\";\n\nconst Url = StateShard(\"Url\", init, { set }, {}, { select });\n\nexport { Url };\n\nfunction init(state) {\n  if (!state.ui) {\n    state.ui = {};\n  }\n\n  state.ui.url = \"\";\n}\n\n// Actions\n\nfunction set(state, { url }) {\n  state.ui.url = url;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.ui.url;\n}\n","import { StateShard } from \"./utils\";\n\nconst WildCardModels = StateShard(\n  \"WildCardModels\",\n  init,\n  { set },\n  {},\n  { select, selectByPage }\n);\n\nexport { WildCardModels };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.wildCardModels = {};\n}\n\n// Actions\n\nfunction set(state, { wildCards }) {\n  const models = select(state);\n  for (const wildCard of wildCards) {\n    models[wildCard.faction] = wildCard.models;\n  }\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.wildCardModels;\n}\n\nfunction selectByPage(state, page) {\n  const models = select(state);\n  return Object.values(models)\n    .flat()\n    .find((model) => model.Name.page === page);\n}\n","import { StateShard } from \"./utils\";\n\nconst Models = StateShard(\n  \"Models\",\n  init,\n  { setForPage },\n  {},\n  { select, selectByPage }\n);\n\nexport { Models };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.models = {};\n}\n\n// Actions\n\nfunction setForPage(state, { page, model }) {\n  const models = select(state);\n  models[page] = model;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.models;\n}\n\nfunction selectByPage(state, page) {\n  const models = select(state);\n  return Object.values(models)\n    .flat()\n    .find((model) => model.name.page === page);\n}\n","import { StateShard } from \"./utils\";\n\nconst VehicleWeapons = StateShard(\n  \"VehicleWeapons\",\n  init,\n  { setForPage },\n  {},\n  { select, selectByPage }\n);\n\nexport { VehicleWeapons };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.vehicleWeapons = {};\n}\n\n// Actions\n\nfunction setForPage(state, { page, vehicleWeapon }) {\n  const vehicleWeapons = select(state);\n  vehicleWeapons[page] = vehicleWeapon;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.vehicleWeapons;\n}\n\nfunction selectByPage(state, page) {\n  const vehicleWeapons = select(state);\n  return vehicleWeapons[page];\n}\n","import { StateShard } from \"./utils\";\n\nconst WarjackWeapons = StateShard(\n  \"WarjackWeapons\",\n  init,\n  { setForPage },\n  {},\n  { select, selectByPage }\n);\n\nexport { WarjackWeapons };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.warjackWeapons = {};\n}\n\n// Actions\n\nfunction setForPage(state, { page, warjackWeapon }) {\n  const warjackWeapons = select(state);\n  warjackWeapons[page] = warjackWeapon;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.warjackWeapons;\n}\n\nfunction selectByPage(state, page) {\n  const warjackWeapons = select(state);\n  return warjackWeapons[page];\n}\n","import { StateShard } from \"./utils\";\n\nconst CadreModels = StateShard(\n  \"CadreModels\",\n  init,\n  { set, setForCadrePageId },\n  {},\n  { select, selectCadreModelsByPageId }\n);\n\nexport { CadreModels };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.cadreModels = {};\n}\n\n// Actions\n\nfunction set(state, { cadreModels }) {\n  state.data.cadreModels = cadreModels;\n}\n\nfunction setForCadrePageId(state, { cadrePageId, cadreModels }) {\n  select(state)[cadrePageId] = cadreModels;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.cadreModels;\n}\n\nfunction selectCadreModelsByPageId(state, pageId) {\n  const cadreModels = select(state);\n  return cadreModels[pageId];\n}\n","import { StateShard } from \"./utils\";\n\nconst CadreCategoryMembers = StateShard(\n  \"CadreCategoryMembers\",\n  init,\n  { set },\n  {},\n  { select }\n);\n\nexport { CadreCategoryMembers };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.cadreCategoryMembers = {};\n}\n\n// Actions\n\nfunction set(state, { cadreCategoryMembers }) {\n  state.data.cadreCategoryMembers = cadreCategoryMembers;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.cadreCategoryMembers;\n}\n","import \"./App.css\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Badge,\n  Card,\n  Col,\n  Drawer,\n  Input,\n  Layout,\n  Menu,\n  Row,\n  Select,\n  Tooltip,\n} from \"antd\";\nimport {\n  CaretDownOutlined,\n  CaretUpOutlined,\n  CheckSquareOutlined,\n  DeleteOutlined,\n  FormOutlined,\n  HeartFilled,\n  MenuUnfoldOutlined,\n  PlusSquareOutlined,\n  SyncOutlined,\n  TeamOutlined,\n} from \"@ant-design/icons\";\nimport CompoundArmor from \"./img/advantages/Compound_Armor.png\";\nimport Flight from \"./img/advantages/Flight.png\";\nimport Pathfinder from \"./img/advantages/Pathfinder.png\";\nimport Revelator from \"./img/advantages/Revelator.png\";\nimport Stealth from \"./img/advantages/Stealth.png\";\nimport WeaponExpert from \"./img/advantages/Weapon_Expert.png\";\nimport AeternusContinuum from \"./img/factions/Aeternus_Continuum.png\";\nimport Fallback from \"./img/factions/Fallback.png\";\nimport Empyrean from \"./img/factions/Empyrean.png\";\nimport IronStarAlliance from \"./img/factions/Iron_Star_Alliance.png\";\nimport LostLegion from \"./img/factions/Lost_Legion.png\";\nimport MarcherWorlds from \"./img/factions/Marcher_Worlds.png\";\nimport WildCard from \"./img/factions/Wild_Card.png\";\nimport AeternusContinuumCharged from \"./img/faction_icons/Aeternus_Continuum_Charged.png\";\nimport AeternusContinuumSpike from \"./img/faction_icons/Aeternus_Continuum_Spike.png\";\nimport EmpyreanCharged from \"./img/faction_icons/Empyrean_Charged.png\";\nimport EmpyreanSpike from \"./img/faction_icons/Empyrean_Spike.png\";\nimport IronStarAllianceCharged from \"./img/faction_icons/Iron_Star_Alliance_Charged.png\";\nimport IronStarAllianceSpike from \"./img/faction_icons/Iron_Star_Alliance_Spike.png\";\nimport MarcherWorldsCharged from \"./img/faction_icons/Marcher_Worlds_Charged.png\";\nimport MarcherWorldsSpike from \"./img/faction_icons/Marcher_Worlds_Spike.png\";\nimport WildCardCharged from \"./img/faction_icons/Wild_Card_Charged.png\";\nimport WildCardSpike from \"./img/faction_icons/Wild_Card_Spike.png\";\nimport BlastWeapon from \"./img/weapon_qualities/Blast_Weapon.png\";\nimport Corrosion from \"./img/weapon_qualities/Corrosion.png\";\nimport Fire from \"./img/weapon_qualities/Fire.png\";\nimport LockDown from \"./img/weapon_qualities/Lock_Down.png\";\nimport Repulsor from \"./img/weapon_qualities/Repulsor.png\";\nimport SprayWeapon from \"./img/weapon_qualities/Spray_Weapon.png\";\nimport Strafe from \"./img/weapon_qualities/Strafe.png\";\nimport SystemFailure from \"./img/weapon_qualities/System_Failure.png\";\nimport { MenuItemClicked } from \"../messages\";\nimport { AppSync } from \"../state/AppSync\";\nimport { CypherCodecs } from \"../state/CypherCodecs\";\nimport { Cyphers } from \"../state/Cyphers\";\nimport { EditMode } from \"../state/EditMode\";\nimport { FactionModels } from \"../state/FactionModels\";\nimport { Factions } from \"../state/Factions\";\nimport { Lists } from \"../state/Lists\";\nimport { PageIds } from \"../state/PageIds\";\nimport { Url } from \"../state/Url\";\nimport { WildCardModels } from \"../state/WildCardModels\";\nimport { Models } from \"../state/Models\";\nimport { VehicleWeapons } from \"../state/VehicleWeapons\";\nimport { WarjackWeapons } from \"../state/WarjackWeapons\";\nimport { CadreModels } from \"../state/CadreModels\";\nimport { CadreCategoryMembers } from \"../state/CadreCategoryMembers\";\n\nconst { Header, Footer, Content } = Layout;\nconst { TextArea } = Input;\nconst { SubMenu } = Menu;\n\nfunction FactionImage({ faction, style, height = \"35px\" }) {\n  switch (faction) {\n    case \"Aeternus_Continuum\":\n      return (\n        <img\n          src={AeternusContinuum}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Empyrean\":\n      return <img src={Empyrean} height={height} alt={faction} style={style} />;\n    case \"Iron_Star_Alliance\":\n      return (\n        <img\n          src={IronStarAlliance}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Lost_Legion\":\n      return (\n        <img src={LostLegion} height={height} alt={faction} style={style} />\n      );\n    case \"Marcher_Worlds\":\n      return (\n        <img src={MarcherWorlds} height={height} alt={faction} style={style} />\n      );\n    case \"Wild_Card\":\n      return <img src={WildCard} height={height} alt={faction} style={style} />;\n    case \"Universal\":\n      return <img src={Fallback} height={height} alt={faction} style={style} />;\n    default:\n      return <img src={Fallback} height={height} alt={faction} style={style} />;\n  }\n}\n\nfunction Spike({ faction, style: style2, height = \"18px\" }) {\n  const style = { ...style2, marginTop: \"-4px\" };\n  switch (faction) {\n    case \"Aeternus_Continuum\":\n      return (\n        <img\n          src={AeternusContinuumSpike}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Empyrean\":\n      return (\n        <img src={EmpyreanSpike} height={height} alt={faction} style={style} />\n      );\n    case \"Iron_Star_Alliance\":\n      return (\n        <img\n          src={IronStarAllianceSpike}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Marcher_Worlds\":\n      return (\n        <img\n          src={MarcherWorldsSpike}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Wild_Card\":\n      return (\n        <img src={WildCardSpike} height={height} alt={faction} style={style} />\n      );\n    default:\n      return (\n        <img src={WildCardSpike} height={height} alt={faction} style={style} />\n      );\n  }\n}\n\nfunction Charged({ faction, style: style2, height = \"18px\" }) {\n  const style = { ...style2, marginTop: \"-4px\" };\n  switch (faction) {\n    case \"Aeternus_Continuum\":\n      return (\n        <img\n          src={AeternusContinuumCharged}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Empyrean\":\n      return (\n        <img\n          src={EmpyreanCharged}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Iron_Star_Alliance\":\n      return (\n        <img\n          src={IronStarAllianceCharged}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Marcher_Worlds\":\n      return (\n        <img\n          src={MarcherWorldsCharged}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    case \"Wild_Card\":\n      return (\n        <img\n          src={WildCardCharged}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n    default:\n      return (\n        <img\n          src={WildCardCharged}\n          height={height}\n          alt={faction}\n          style={style}\n        />\n      );\n  }\n}\n\nfunction AdvantageImage({ advantage, style, height = \"30px\" }) {\n  switch (advantage) {\n    case \"Compound Armor\":\n      return (\n        <img\n          src={CompoundArmor}\n          className=\"metallic-img\"\n          alt={advantage}\n          height={height}\n          style={style}\n        />\n      );\n    case \"Flight\":\n      return (\n        <img\n          src={Flight}\n          className=\"metallic-img\"\n          alt={advantage}\n          height={height}\n          style={style}\n        />\n      );\n    case \"Pathfinder\":\n      return (\n        <img\n          src={Pathfinder}\n          className=\"metallic-img\"\n          alt={advantage}\n          height={height}\n          style={style}\n        />\n      );\n    case \"Revelator\":\n      return (\n        <img\n          src={Revelator}\n          className=\"metallic-img\"\n          alt={advantage}\n          height={height}\n          style={style}\n        />\n      );\n    case \"Stealth\":\n      return (\n        <img\n          src={Stealth}\n          className=\"metallic-img\"\n          alt={advantage}\n          height={height}\n          style={style}\n        />\n      );\n    case \"Weapon Expert\":\n      return (\n        <img\n          src={WeaponExpert}\n          className=\"metallic-img\"\n          alt={advantage}\n          height={height}\n          style={style}\n        />\n      );\n    default:\n      return <div className=\"metallic-circle\"></div>;\n  }\n}\n\nconst weaponQualities = {\n  \"Blast Weapon\": BlastWeapon,\n  Corrosion,\n  Fire,\n  \"Lock Down\": LockDown,\n  Repulsor,\n  \"Spray Weapon\": SprayWeapon,\n  Strafe,\n  \"System Failure\": SystemFailure,\n};\n\nfunction WeaponQuality({ weaponQuality, style, height = \"16px\" }) {\n  const src = weaponQualities[weaponQuality];\n\n  if (src) {\n    return (\n      <img\n        src={src}\n        className=\"metallic-img-tiny\"\n        alt={weaponQuality}\n        height={height}\n        style={style}\n      />\n    );\n  }\n\n  return <></>;\n}\n\nfunction AppPresentation({\n  initialized,\n  syncReasons,\n  factionModels,\n  wildCardModels,\n  cypherCodecs,\n  menuItemClicked,\n  allMenuItemsClicked,\n  lists,\n  toggleCard,\n  removeList,\n  removeCard,\n  addEmptyList,\n  moveListBy,\n  moveCardByOne,\n  setListTitle,\n  setUrl,\n  url,\n  bookmark,\n  open,\n  setCardCortex,\n  setCardWarjackWeapons,\n  setCardVehicleWeapon,\n  factions,\n  vehicleWeapons,\n  warjackWeapons,\n  cadres,\n  editMode,\n  toggleEditMode,\n}) {\n  const [openDrawer, setOpenDrawer] = React.useState(\"\");\n\n  const onOpenChangeDrawers = (keys) => {\n    if (keys.length > 0) {\n      const key = keys[0];\n      if (key === openDrawer) {\n        setOpenDrawer(\"\");\n      } else {\n        setOpenDrawer(keys[0]);\n      }\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Layout>\n        <Layout>\n          <Header>\n            <div>\n              <a className=\"logo\" href=\"/\">\n                WARFASTER\n              </a>\n            </div>\n          </Header>\n          {!initialized ? (\n            <Content>\n              <Layout>\n                <Row>\n                  <Col xs={24} sm={12} md={12} lg={12} xl={8} xxl={8}>\n                    <div className=\"cards\" key=\"cards0\">\n                      <div style={{ cursor: \"pointer\" }} className=\"header\">\n                        <Row>\n                          <Col span={16} className=\"army-list-title\">\n                            <TextArea\n                              value={\"Setting up Warfaster\"}\n                              maxLength={30}\n                              autoSize\n                            />\n                          </Col>\n                          <Col span={8} className=\"faction-icons\">\n                            <SyncOutlined\n                              spin\n                              style={{\n                                color: \"#d1c5b1\",\n                                fontSize: \"23px\",\n                                margin: \"3px 10px 0 0\",\n                              }}\n                            />\n                          </Col>\n                        </Row>\n                      </div>\n\n                      <div>\n                        {syncReasons.map(({ reason, description }, index) => (\n                          <div className=\"body\" key={`reason${index}`}>\n                            <Card hoverable className=\"card\">\n                              <Card.Meta\n                                avatar={\n                                  <div\n                                    style={{\n                                      height: \"25px\",\n                                      width: \"35px\",\n                                      textAlign: \"center\",\n                                    }}\n                                  >\n                                    <SyncOutlined\n                                      spin\n                                      style={{\n                                        color: \"#d1c5b1\",\n                                        fontSize: \"35px\",\n                                      }}\n                                    />\n                                  </div>\n                                }\n                                title={\n                                  <>\n                                    <div>{reason}</div>\n                                    <div className=\"card-type\">\n                                      {description}\n                                    </div>\n                                  </>\n                                }\n                              />\n                            </Card>\n                          </div>\n                        ))}\n                      </div>\n                      <div className=\"footer\">\n                        <Badge\n                          size=\"small\"\n                          key=\"_badge\"\n                          count={syncReasons.length}\n                          offset={[10, 5]}\n                        >\n                          Loading:\n                        </Badge>\n                      </div>\n                    </div>\n                  </Col>\n                </Row>\n              </Layout>\n            </Content>\n          ) : (\n            <>\n              <Content>\n                <Menu\n                  id=\"factions\"\n                  openKeys={[]}\n                  onOpenChange={onOpenChangeDrawers}\n                  mode=\"horizontal\"\n                  triggerSubMenuAction=\"click\"\n                >\n                  {factionModels.map(([factionName, faction, models]) => (\n                    <SubMenu\n                      key={faction}\n                      icon={<FactionImage faction={faction} />}\n                    ></SubMenu>\n                  ))}\n                  <SubMenu\n                    className=\"edit\"\n                    key=\"edit\"\n                    icon={\n                      editMode ? (\n                        <CheckSquareOutlined\n                          onClick={toggleEditMode}\n                          style={{ fontSize: \"30px\" }}\n                        />\n                      ) : (\n                        <FormOutlined\n                          onClick={toggleEditMode}\n                          style={{ fontSize: \"30px\" }}\n                        />\n                      )\n                    }\n                    style={{\n                      marginLeft: \"20px\",\n                      paddingTop: \"5px !important\",\n                    }}\n                  ></SubMenu>\n                </Menu>\n              </Content>\n              <Content>\n                <Layout>\n                  <Row gutter={16}>\n                    {lists.map(({ title, cards }, listIndex) => (\n                      <Col\n                        key={`lists_col_${listIndex}`}\n                        xs={24}\n                        sm={12}\n                        md={12}\n                        lg={12}\n                        xl={8}\n                        xxl={8}\n                      >\n                        <>\n                          <div className=\"cards\" key={`cards${listIndex}`}>\n                            <div\n                              style={{ cursor: \"pointer\" }}\n                              className=\"header\"\n                            >\n                              <Row>\n                                <Col span={16} className=\"army-list-title\">\n                                  <TextArea\n                                    placeholder={generateListNamePlaceholder(\n                                      cards,\n                                      factions,\n                                      \"Name your list\"\n                                    )}\n                                    value={title}\n                                    maxLength={30}\n                                    autoSize\n                                    onChange={setListTitle(listIndex)}\n                                  />\n                                </Col>\n                                <Col span={8} className=\"faction-icons\">\n                                  {editMode ? (\n                                    <>\n                                      <CaretUpOutlined\n                                        style={{\n                                          fontSize: \"18px\",\n                                          color: \"white\",\n                                          marginRight: \"16px\",\n                                          marginTop: \"6px\",\n                                        }}\n                                        onClick={moveListBy(listIndex, -1)}\n                                      />\n                                      <CaretDownOutlined\n                                        style={{\n                                          fontSize: \"18px\",\n                                          color: \"white\",\n                                          marginRight: \"16px\",\n                                          marginTop: \"6px\",\n                                        }}\n                                        onClick={moveListBy(listIndex, 1)}\n                                      />\n                                      <DeleteOutlined\n                                        style={{\n                                          fontSize: \"18px\",\n                                          color: \"white\",\n                                          marginRight: \"16px\",\n                                          marginTop: \"6px\",\n                                        }}\n                                        onClick={removeList(listIndex)}\n                                      />\n                                    </>\n                                  ) : (\n                                    Object.entries(\n                                      cards.reduce(\n                                        (acc, card) => ({\n                                          ...acc,\n                                          ...(card.faction\n                                            ? {\n                                                [card.faction]:\n                                                  (acc[card.faction] || 0) + 1,\n                                              }\n                                            : {\n                                                Universal:\n                                                  (acc.Universal || 0) + 1,\n                                              }),\n                                        }),\n                                        {}\n                                      )\n                                    )\n                                      .sort()\n                                      .map(([faction, count], i) => (\n                                        <Badge\n                                          size=\"small\"\n                                          key={`badge${i}`}\n                                          count={count}\n                                          offset={[0, 10]}\n                                        >\n                                          <FactionImage faction={faction} />\n                                        </Badge>\n                                      ))\n                                  )}\n                                </Col>\n                              </Row>\n                            </div>\n\n                            <div key={`cards_${listIndex}`}>\n                              {cards.map(\n                                (\n                                  {\n                                    card,\n                                    hidden,\n                                    type,\n                                    title,\n                                    page,\n                                    pageId,\n                                    cortexIds,\n                                    vehicleWeaponId,\n                                    warjackWeaponIds,\n                                    subtype,\n                                    faction,\n                                    details,\n                                  },\n                                  cardIndex\n                                ) => (\n                                  <div\n                                    className=\"body\"\n                                    key={`${page}_${listIndex}_${cardIndex}`}\n                                  >\n                                    <Card\n                                      hoverable\n                                      className={[\"card\", faction, type]}\n                                    >\n                                      <Card.Meta\n                                        onClick={\n                                          editMode\n                                            ? null\n                                            : toggleCard(\n                                                listIndex,\n                                                cardIndex,\n                                                pageId,\n                                                card\n                                              )\n                                        }\n                                        avatar={\n                                          editMode ? (\n                                            <div\n                                              style={{\n                                                height: \"25px\",\n                                                width: \"35px\",\n                                                textAlign: \"center\",\n                                              }}\n                                            >\n                                              <CaretUpOutlined\n                                                onClick={moveCardByOne(\n                                                  listIndex,\n                                                  cardIndex,\n                                                  true\n                                                )}\n                                                style={{ fontSize: \"18px\" }}\n                                              />\n                                              <CaretDownOutlined\n                                                onClick={moveCardByOne(\n                                                  listIndex,\n                                                  cardIndex,\n                                                  false\n                                                )}\n                                                style={{ fontSize: \"18px\" }}\n                                              />\n                                            </div>\n                                          ) : faction ? (\n                                            <div\n                                              style={{\n                                                height: \"25px\",\n                                                width: \"35px\",\n                                                textAlign: \"center\",\n                                                marginLeft: \"16px\",\n                                                marginRight: \"16px\",\n                                              }}\n                                            >\n                                              {!details ||\n                                              !details.deploymentCost ? (\n                                                <FactionImage\n                                                  faction={faction}\n                                                />\n                                              ) : (\n                                                <>\n                                                  <FactionImage\n                                                    faction={faction}\n                                                    height=\"23px\"\n                                                  />\n                                                  <div className=\"deployment-cost\">\n                                                    DC {details.deploymentCost}\n                                                  </div>\n                                                </>\n                                              )}\n                                            </div>\n                                          ) : (\n                                            <div\n                                              style={{\n                                                marginLeft: \"16px\",\n                                                marginRight: \"16px\",\n                                              }}\n                                            >\n                                              <FactionImage faction=\"Universal\" />\n                                            </div>\n                                          )\n                                        }\n                                        title={\n                                          <div\n                                            style={{\n                                              display: \"flex\",\n                                              alignItems: \"center\",\n                                              marginRight: \"8px\",\n                                            }}\n                                          >\n                                            <div style={{ flex: 100 }}>\n                                              <div>{title}</div>\n                                              <div className=\"card-type\">\n                                                {(faction || \"\").replace(\n                                                  /_/g,\n                                                  \" \"\n                                                )}\n                                                {subtype ? \" \" + subtype : \"\"}\n                                                {type ? \" \" + type : \"\"}\n                                              </div>\n                                              <div>\n                                                <span className=\"subtitle\">\n                                                  {[\n                                                    ...(!details ||\n                                                    !details.vehicleWeaponSelection ||\n                                                    !vehicleWeaponName(\n                                                      details.vehicleWeaponSelection,\n                                                      vehicleWeaponId\n                                                    )\n                                                      ? []\n                                                      : [\n                                                          vehicleWeaponName(\n                                                            details.vehicleWeaponSelection,\n                                                            vehicleWeaponId\n                                                          ),\n                                                        ]),\n                                                    ...(!details ||\n                                                    !details.cortexSelections ||\n                                                    !cortexName(\n                                                      details.cortexSelections,\n                                                      cortexIds\n                                                    )\n                                                      ? []\n                                                      : [\n                                                          cortexName(\n                                                            details.cortexSelections,\n                                                            cortexIds\n                                                          ),\n                                                        ]),\n                                                    ...(!details ||\n                                                    !details.warjackWeaponSelections ||\n                                                    !warjackWeaponIds ||\n                                                    warjackWeaponIds.length ===\n                                                      0\n                                                      ? []\n                                                      : warjackWeaponNamesSubtitle(\n                                                          details.warjackWeaponSelections,\n                                                          warjackWeaponIds\n                                                        )),\n                                                  ].join(\", \")}\n                                                </span>\n                                              </div>\n                                            </div>\n                                            {!editMode ? (\n                                              <></>\n                                            ) : (\n                                              <div style={{ flex: 1 }}>\n                                                <DeleteOutlined\n                                                  style={{\n                                                    fontSize: \"18px\",\n                                                  }}\n                                                  onClick={removeCard(\n                                                    listIndex,\n                                                    cardIndex\n                                                  )}\n                                                />\n                                              </div>\n                                            )}\n                                          </div>\n                                        }\n                                      />\n                                      {hidden ? (\n                                        <></>\n                                      ) : !details ? (\n                                        <div\n                                          style={{\n                                            margin: \"10px 0\",\n                                            textAlign: \"center\",\n                                          }}\n                                        >\n                                          <SyncOutlined\n                                            spin\n                                            style={{ fontSize: \"23px\" }}\n                                          />\n                                        </div>\n                                      ) : (\n                                        <div className=\"card-content\">\n                                          {!details.modelStats ||\n                                          Object.keys(details.modelStats)\n                                            .length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            <div className=\"model-stats\">\n                                              {Object.entries(\n                                                details.modelStats\n                                              ).map(([name, stat], index) => (\n                                                <div key={`${name}_stat`}>\n                                                  <div>{name}</div>\n                                                  <div>{stat}</div>\n                                                </div>\n                                              ))}\n                                            </div>\n                                          )}\n                                          {!details.cortexSelections ||\n                                          Object.entries(\n                                            details.cortexSelections\n                                          ).length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            <>\n                                              <Select\n                                                suffixIcon={\n                                                  <CaretDownOutlined />\n                                                }\n                                                className=\"select-warjack-cortex\"\n                                                defaultValue=\"none\"\n                                                onClick={(event) =>\n                                                  event.stopPropagation()\n                                                }\n                                                onSelect={setCardCortex(\n                                                  listIndex,\n                                                  cardIndex,\n                                                  pageId\n                                                )}\n                                                value={\n                                                  !cortexIds\n                                                    ? \"none\"\n                                                    : cortexName(\n                                                        details.cortexSelections,\n                                                        cortexIds\n                                                      )\n                                                }\n                                                getPopupContainer={() =>\n                                                  document.querySelectorAll(\n                                                    \".card\"\n                                                  )[cardIndex]\n                                                }\n                                              >\n                                                <Select.Option\n                                                  key={\"cortex_-1\"}\n                                                  label={undefined}\n                                                  value=\"none\"\n                                                  onClick={(event) =>\n                                                    event.stopPropagation()\n                                                  }\n                                                >\n                                                  <div>\n                                                    <h3>Select Cortex</h3>\n                                                  </div>\n                                                </Select.Option>\n                                                {Object.entries(\n                                                  details.cortexSelections\n                                                ).map(\n                                                  (\n                                                    [cortex, advantages],\n                                                    index\n                                                  ) => (\n                                                    <Select.Option\n                                                      key={`cortex_${index}`}\n                                                      label={Object.values(\n                                                        advantages\n                                                      ).map(\n                                                        ({ categoryId }) =>\n                                                          categoryId\n                                                      )}\n                                                      value={cortex}\n                                                      onClick={(event) =>\n                                                        event.stopPropagation()\n                                                      }\n                                                    >\n                                                      <h3>{cortex}</h3>\n                                                      {Object.entries(\n                                                        advantages\n                                                      ).map(\n                                                        (\n                                                          [rule, { text }],\n                                                          advantageIndex\n                                                        ) => (\n                                                          <div\n                                                            key={`cortex_${index}_advantage_${advantageIndex}`}\n                                                            className=\"model-cortex-special-rules\"\n                                                          >\n                                                            <span>\n                                                              {markChargedOrSpike(\n                                                                faction,\n                                                                text\n                                                              )}\n                                                              {rule}\n                                                            </span>{\" \"}\n                                                            <span>\n                                                              - {text}\n                                                            </span>\n                                                          </div>\n                                                        )\n                                                      )}\n                                                    </Select.Option>\n                                                  )\n                                                )}\n                                              </Select>\n                                            </>\n                                          )}\n                                          {!details.weaponPoints ? (\n                                            <></>\n                                          ) : (\n                                            <div className=\"special-rules\">\n                                              <span>Weapon Points</span>{\" \"}\n                                              <span>\n                                                - {details.weaponPoints}\n                                              </span>\n                                            </div>\n                                          )}\n                                          {!details.hardpointNames ? (\n                                            <></>\n                                          ) : (\n                                            <>\n                                              {details.hardpointNames.map(\n                                                (\n                                                  hardpointName,\n                                                  hardpointNameIndex\n                                                ) =>\n                                                  !details.warjackWeaponSelections ||\n                                                  Object.keys(\n                                                    details.warjackWeaponSelections\n                                                  ).length === 0 ? (\n                                                    <></>\n                                                  ) : (\n                                                    <div\n                                                      key={`warjack_weapon_${hardpointNameIndex}`}\n                                                    >\n                                                      <Select\n                                                        suffixIcon={\n                                                          <CaretDownOutlined />\n                                                        }\n                                                        className=\"select-warjack-weapon\"\n                                                        defaultValue=\"none\"\n                                                        onClick={(event) =>\n                                                          event.stopPropagation()\n                                                        }\n                                                        onSelect={setCardWarjackWeapons(\n                                                          listIndex,\n                                                          cardIndex,\n                                                          hardpointNameIndex,\n                                                          pageId\n                                                        )}\n                                                        value={\n                                                          !warjackWeaponIds ||\n                                                          !warjackWeaponIds[\n                                                            hardpointNameIndex\n                                                          ]\n                                                            ? \"none\"\n                                                            : warjackWeaponNames(\n                                                                faction,\n                                                                warjackWeapons,\n                                                                details.warjackWeaponSelections,\n                                                                warjackWeaponIds[\n                                                                  hardpointNameIndex\n                                                                ]\n                                                              )\n                                                        }\n                                                        getPopupContainer={() =>\n                                                          document.querySelectorAll(\n                                                            \".card\"\n                                                          )[cardIndex]\n                                                        }\n                                                      >\n                                                        <Select.Option\n                                                          key={`warjack_weapon_${hardpointNameIndex}_-1`}\n                                                          label={undefined}\n                                                          value=\"none\"\n                                                          onClick={(event) =>\n                                                            event.stopPropagation()\n                                                          }\n                                                        >\n                                                          <div\n                                                            className=\"model-weapons\"\n                                                            style={{\n                                                              height: \"52px\",\n                                                            }}\n                                                          ></div>\n                                                        </Select.Option>\n                                                        {Object.values(\n                                                          details.warjackWeaponSelections\n                                                        )\n                                                          .filter(\n                                                            ({ location }) =>\n                                                              location ===\n                                                              hardpointName\n                                                          )\n                                                          .map(\n                                                            (\n                                                              {\n                                                                name,\n                                                                page,\n                                                                pageId,\n                                                                cost,\n                                                                location,\n                                                              },\n                                                              index\n                                                            ) => (\n                                                              <Select.Option\n                                                                key={`warjack_weapon_${hardpointNameIndex}_${index}`}\n                                                                label={pageId}\n                                                                value={name}\n                                                                onClick={(\n                                                                  event\n                                                                ) =>\n                                                                  event.stopPropagation()\n                                                                }\n                                                              >\n                                                                <>\n                                                                  {warjackWeaponNames(\n                                                                    faction,\n                                                                    warjackWeapons,\n                                                                    details.warjackWeaponSelections,\n                                                                    pageId\n                                                                  )}\n                                                                </>\n                                                              </Select.Option>\n                                                            )\n                                                          )}\n                                                      </Select>\n                                                    </div>\n                                                  )\n                                              )}\n                                            </>\n                                          )}\n                                          {!details.vehicleWeaponSelection ||\n                                          details.vehicleWeaponSelection\n                                            .length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            <div key=\"vehicle_weapon_selection\">\n                                              <Select\n                                                suffixIcon={\n                                                  <CaretDownOutlined />\n                                                }\n                                                className=\"select-warjack-weapon\"\n                                                defaultValue=\"none\"\n                                                onClick={(event) =>\n                                                  event.stopPropagation()\n                                                }\n                                                onSelect={setCardVehicleWeapon(\n                                                  listIndex,\n                                                  cardIndex,\n                                                  pageId\n                                                )}\n                                                value={\n                                                  !vehicleWeaponId ||\n                                                  !details ||\n                                                  !details.vehicleWeaponSelection\n                                                    ? \"none\"\n                                                    : vehicleWeaponName2(\n                                                        faction,\n                                                        vehicleWeapons,\n                                                        details.vehicleWeaponSelection,\n                                                        vehicleWeaponId\n                                                      )\n                                                }\n                                                getPopupContainer={() =>\n                                                  document.querySelectorAll(\n                                                    \".card\"\n                                                  )[cardIndex]\n                                                }\n                                              >\n                                                <Select.Option\n                                                  key={\n                                                    \"vehicle_weapon_selection_-1\"\n                                                  }\n                                                  label={undefined}\n                                                  value=\"none\"\n                                                  onClick={(event) =>\n                                                    event.stopPropagation()\n                                                  }\n                                                >\n                                                  <div\n                                                    className=\"model-weapons\"\n                                                    style={{\n                                                      height: \"52px\",\n                                                    }}\n                                                  ></div>\n                                                </Select.Option>\n                                                {details.vehicleWeaponSelection.map(\n                                                  (\n                                                    { text, page, pageId },\n                                                    index\n                                                  ) => (\n                                                    <Select.Option\n                                                      key={`vehicle_weapon_selection_${index}`}\n                                                      label={pageId}\n                                                      value={text}\n                                                      onClick={(event) =>\n                                                        event.stopPropagation()\n                                                      }\n                                                    >\n                                                      {vehicleWeaponName2(\n                                                        faction,\n                                                        vehicleWeapons,\n                                                        details.vehicleWeaponSelection,\n                                                        pageId\n                                                      )}\n                                                    </Select.Option>\n                                                  )\n                                                )}\n                                              </Select>\n                                            </div>\n                                          )}\n                                          {!details.weapons ||\n                                          details.weapons.length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            details.weapons.map(\n                                              (weapon, index) => (\n                                                <React.Fragment\n                                                  key={`weapon_number_${index}`}\n                                                >\n                                                  <div className=\"model-weapons\">\n                                                    <div>\n                                                      {weapon[\"Attack Type\"] ===\n                                                      \"Melee\" ? (\n                                                        <img\n                                                          className=\"faction-melee\"\n                                                          alt=\" \"\n                                                        />\n                                                      ) : (\n                                                        <img\n                                                          className=\"faction-ranged\"\n                                                          alt=\" \"\n                                                        />\n                                                      )}\n                                                    </div>\n                                                    <div>\n                                                      <div>\n                                                        {weapon[\"Name\"]}\n                                                        {Object.keys(\n                                                          weapon.specialRules ||\n                                                            {}\n                                                        ).map(\n                                                          (rule, index2) => (\n                                                            <WeaponQuality\n                                                              key={`weapon_number_${index}_rule_${index2}`}\n                                                              weaponQuality={\n                                                                rule\n                                                              }\n                                                            />\n                                                          )\n                                                        )}\n                                                      </div>\n                                                      <div>\n                                                        {weapon[\"Damage Type\"]}\n                                                      </div>\n                                                    </div>\n                                                    <div>\n                                                      <div>RNG</div>\n                                                      <div>\n                                                        {weapon[\"Range\"]}\n                                                      </div>\n                                                    </div>\n                                                    <div>\n                                                      <div>POW</div>\n                                                      <div>{weapon[\"POW\"]}</div>\n                                                    </div>\n                                                  </div>\n                                                  {!weapon.specialRules ? (\n                                                    <></>\n                                                  ) : (\n                                                    Object.entries(\n                                                      weapon.specialRules\n                                                    )\n                                                      .filter(\n                                                        ([rule]) =>\n                                                          !weaponQualities[rule]\n                                                      )\n                                                      .map(\n                                                        (\n                                                          [rule, text],\n                                                          ruleIndex\n                                                        ) => (\n                                                          <div\n                                                            key={`weapon_number_${index}_${ruleIndex}`}\n                                                            className=\"model-weapons-special-rules\"\n                                                          >\n                                                            <span>\n                                                              {markChargedOrSpike(\n                                                                faction,\n                                                                text\n                                                              )}\n                                                              {rule}\n                                                            </span>{\" \"}\n                                                            <span>\n                                                              - {text}\n                                                            </span>\n                                                          </div>\n                                                        )\n                                                      )\n                                                  )}\n                                                </React.Fragment>\n                                              )\n                                            )\n                                          )}\n                                          <div className=\"card-icons\">\n                                            {!details.wildCardFactions ||\n                                            Object.values(\n                                              details.wildCardFactions\n                                            ).length === 0 ? (\n                                              <></>\n                                            ) : (\n                                              Object.values(\n                                                details.wildCardFactions\n                                              ).map(({ page }, index) => (\n                                                <FactionImage\n                                                  key={`wild_card_faction_${index}`}\n                                                  faction={page}\n                                                  height=\"30px\"\n                                                  style={{\n                                                    filter:\n                                                      \"drop-shadow(0px 3px 6px hsl(200,100%,25%))\",\n                                                  }}\n                                                />\n                                              ))\n                                            )}\n                                            {!details.baseSize ? (\n                                              <></>\n                                            ) : (\n                                              <div className=\"metallic-circle\">\n                                                {details.baseSize.replace(\n                                                  \" mm\",\n                                                  \"\"\n                                                )}\n                                              </div>\n                                            )}\n                                            {!details.health ? (\n                                              <></>\n                                            ) : (\n                                              <div className=\"metallic-circle\">\n                                                <HeartFilled\n                                                  style={{\n                                                    fontSize: \"0.8em\",\n                                                  }}\n                                                />\n                                                {details.health}\n                                              </div>\n                                            )}\n                                            {!details.squadSize ? (\n                                              <></>\n                                            ) : (\n                                              <div className=\"metallic-circle\">\n                                                <TeamOutlined\n                                                  style={{\n                                                    fontSize: \"0.8em\",\n                                                  }}\n                                                />\n                                                {details.squadSize}\n                                              </div>\n                                            )}\n                                            {!details.advantages ||\n                                            Object.entries(details.advantages)\n                                              .length === 0 ? (\n                                              <></>\n                                            ) : (\n                                              Object.entries(\n                                                details.advantages\n                                              ).map(([name, text], index) => (\n                                                <AdvantageImage\n                                                  key={`advantage_${index}`}\n                                                  advantage={name}\n                                                />\n                                              ))\n                                            )}\n                                            {!details.chassisAdvantages ||\n                                            Object.entries(\n                                              details.chassisAdvantages\n                                            ).length === 0 ? (\n                                              <></>\n                                            ) : (\n                                              Object.entries(\n                                                details.chassisAdvantages\n                                              ).map(([name, text], index) => (\n                                                <AdvantageImage\n                                                  key={`advantage_${index}`}\n                                                  advantage={name}\n                                                />\n                                              ))\n                                            )}\n                                          </div>\n                                          {!details.specialRules ||\n                                          Object.entries(details.specialRules)\n                                            .length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            Object.entries(\n                                              details.specialRules\n                                            ).map(([rule, text], index) => (\n                                              <div\n                                                key={`special_rules_${index}`}\n                                                className=\"special-rules\"\n                                              >\n                                                <span>\n                                                  {markChargedOrSpike(\n                                                    faction,\n                                                    text\n                                                  )}\n                                                  {rule}\n                                                </span>{\" \"}\n                                                <span>- {text}</span>\n                                              </div>\n                                            ))\n                                          )}\n                                          {!details.chassisSpecialRules ||\n                                          Object.entries(\n                                            details.chassisSpecialRules\n                                          ).length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            Object.entries(\n                                              details.chassisSpecialRules\n                                            ).map(([rule, text], index) => (\n                                              <div\n                                                key={`chassis_special_rules_${index}`}\n                                                className=\"special-rules\"\n                                              >\n                                                <span>\n                                                  {markChargedOrSpike(\n                                                    faction,\n                                                    text\n                                                  )}\n                                                  {rule}\n                                                </span>{\" \"}\n                                                <span>- {text}</span>\n                                              </div>\n                                            ))\n                                          )}\n                                          {!details.maneuvers ||\n                                          Object.values(details.maneuvers)\n                                            .length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            <>\n                                              <h3>Maneuvers</h3>\n                                              <dl>\n                                                {Object.entries(\n                                                  details.maneuvers\n                                                ).map(([rule, text], index) => (\n                                                  <div\n                                                    key={`maneuvers_advantage_${index}`}\n                                                    className=\"special-rules\"\n                                                  >\n                                                    <span>\n                                                      {markChargedOrSpike(\n                                                        faction,\n                                                        text\n                                                      )}\n                                                      {rule}\n                                                    </span>{\" \"}\n                                                    <span>- {text}</span>\n                                                  </div>\n                                                ))}\n                                              </dl>\n                                            </>\n                                          )}\n                                          {!details.storeLinks ||\n                                          details.storeLinks.length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            <div className=\"special-rules\">\n                                              <span>Privateer Press Store</span>{\" \"}\n                                              <span>\n                                                -{\" \"}\n                                                {details.storeLinks.map(\n                                                  (linkText, index) => (\n                                                    <React.Fragment\n                                                      key={`store_link_${index}`}\n                                                    >\n                                                      <span\n                                                        dangerouslySetInnerHTML={{\n                                                          __html: linkText,\n                                                        }}\n                                                      />\n                                                      {index ===\n                                                      details.storeLinks\n                                                        .length -\n                                                        1 ? (\n                                                        <></>\n                                                      ) : (\n                                                        <> </>\n                                                      )}\n                                                    </React.Fragment>\n                                                  )\n                                                )}\n                                              </span>\n                                            </div>\n                                          )}\n                                          {!details.release ? (\n                                            <></>\n                                          ) : (\n                                            <div className=\"special-rules\">\n                                              <span>Release</span>{\" \"}\n                                              <span>- {details.release}</span>\n                                            </div>\n                                          )}\n                                          {!details.lore ? (\n                                            <></>\n                                          ) : (\n                                            <div className=\"special-rules\">\n                                              <span>Lore</span>{\" \"}\n                                              <span>- {details.lore}</span>\n                                            </div>\n                                          )}\n                                          {!details.pow ? (\n                                            <></>\n                                          ) : (\n                                            <div className=\"special-rules\">\n                                              <span>Pow</span>{\" \"}\n                                              <span>- {details.pow.text}</span>\n                                            </div>\n                                          )}\n                                          {!details.effect ||\n                                          details.effect.length === 0 ? (\n                                            <></>\n                                          ) : (\n                                            details.effect.map(\n                                              (effect, index) => (\n                                                <p\n                                                  className=\"cypher-effect\"\n                                                  key={`cypher_effect_${listIndex}_${cardIndex}_${index}`}\n                                                >\n                                                  {effect}\n                                                </p>\n                                              )\n                                            )\n                                          )}\n                                        </div>\n                                      )}\n                                    </Card>\n                                  </div>\n                                )\n                              )}\n                            </div>\n\n                            {cards.length > 0 ? (\n                              <div className=\"footer\">\n                                <Badge\n                                  size=\"small\"\n                                  key=\"_badge\"\n                                  count={cards.length}\n                                  offset={[10, 5]}\n                                >\n                                  Card:\n                                </Badge>\n                                {Object.entries(\n                                  cards.reduce(\n                                    (acc, card) => ({\n                                      ...acc,\n                                      [card.type]: (acc[card.type] || 0) + 1,\n                                    }),\n                                    {}\n                                  )\n                                )\n                                  .sort()\n                                  .map(([type, count], i) => (\n                                    <Badge\n                                      size=\"small\"\n                                      key={`badge${i}`}\n                                      count={count}\n                                      offset={[10, 5]}\n                                    >\n                                      {type}:\n                                    </Badge>\n                                  ))}\n                              </div>\n                            ) : (\n                              <></>\n                            )}\n                          </div>\n                          {!editMode ? (\n                            <></>\n                          ) : (\n                            <div\n                              key={`add_list${listIndex + 1}`}\n                              style={{\n                                color: \"white\",\n                                cursor: \"pointer\",\n                                textAlign: \"center\",\n                              }}\n                            >\n                              <span onClick={addEmptyList(listIndex + 1)}>\n                                <PlusSquareOutlined /> Add list\n                              </span>\n                            </div>\n                          )}\n                        </>\n                      </Col>\n                    ))}\n                  </Row>\n                </Layout>\n              </Content>\n            </>\n          )}\n\n          <div>\n            <Footer>\n              <div className=\"bookmark\">\n                <Layout>\n                  <Row>\n                    <Col xs={24} sm={24} md={18} lg={18} xl={16} xxl={16}>\n                      <input\n                        value={url}\n                        onChange={setUrl}\n                        onKeyDown={open}\n                        onClick={bookmark}\n                      />\n                    </Col>\n                  </Row>\n                </Layout>\n              </div>\n              <div className=\"copyright-notice\">\n                Images originating from the Privateer Press website are © 2001—\n                <>{new Date().getFullYear()}</> Privateer Press, Inc. All Rights\n                Reserved. Privateer Press, warcaster and their logos are\n                trademarks of Privateer Press, Inc. Images and trademarks used\n                without permission. This website is unofficial and is not\n                endorsed by Privateer Press.\n              </div>\n            </Footer>\n          </div>\n\n          {factionModels.map(([factionName, faction, models, cadreModels]) => (\n            <Drawer\n              key={`drawer_${faction}`}\n              visible={openDrawer === faction}\n              placement=\"right\"\n              onClose={setOpenDrawer}\n              width=\"80%\"\n              mask={false}\n              closeIcon={<MenuUnfoldOutlined />}\n            >\n              <Menu\n                id={`faction_${faction}`}\n                mode=\"inline\"\n                triggerSubMenuAction=\"click\"\n              >\n                <Menu.ItemGroup\n                  title={\n                    <div\n                      onClick={allMenuItemsClicked(\n                        models.map((model) => model.page)\n                      )}\n                    >\n                      {factionName}\n                    </div>\n                  }\n                >\n                  {models.map(({ name, page, type, subtype }) => {\n                    const shortName = name.slice(0, 40);\n\n                    return (\n                      <Menu.Item key={faction + \":\" + page} className={faction}>\n                        <span onClick={menuItemClicked(page)}>\n                          <span className=\"card\">\n                            {shortName.length === name.length ? (\n                              shortName\n                            ) : (\n                              <Tooltip placement=\"top\" title={name}>\n                                {shortName}...\n                              </Tooltip>\n                            )}\n                          </span>\n                          <span className=\"types\">\n                            {subtype ? subtype : \"\"}\n                            {type ? (subtype ? \" \" : \"\") + type : \"\"}\n                          </span>\n                        </span>\n                      </Menu.Item>\n                    );\n                  })}\n                </Menu.ItemGroup>\n                {!cadreModels ? (\n                  <></>\n                ) : (\n                  cadreModels.map(({ cadrePageId, cadreModels }) => (\n                    <Menu.ItemGroup\n                      key={`Cadre:${cadrePageId}`}\n                      title={\n                        <div\n                          onClick={allMenuItemsClicked(\n                            cadreModels.map((model) => model.page)\n                          )}\n                        >\n                          {cadres[cadrePageId]}\n                        </div>\n                      }\n                    >\n                      {cadreModels.map(({ name, page, type, subtype }) => {\n                        const shortName = name.slice(0, 40);\n\n                        return (\n                          <Menu.Item\n                            key={faction + \":\" + page + \":cadre:\" + cadrePageId}\n                            className={faction}\n                          >\n                            <span onClick={menuItemClicked(page)}>\n                              <span className=\"card\">\n                                {shortName.length === name.length ? (\n                                  shortName\n                                ) : (\n                                  <Tooltip placement=\"top\" title={name}>\n                                    {shortName}...\n                                  </Tooltip>\n                                )}\n                              </span>\n                              <span className=\"types\">\n                                {subtype ? subtype : \"\"}\n                                {type ? (subtype ? \" \" : \"\") + type : \"\"}\n                              </span>\n                            </span>\n                          </Menu.Item>\n                        );\n                      })}\n                    </Menu.ItemGroup>\n                  ))\n                )}\n                <Menu.ItemGroup\n                  title={\n                    <div\n                      onClick={allMenuItemsClicked(\n                        (wildCardModels[faction] || []).map(\n                          (model) => model.page\n                        )\n                      )}\n                    >\n                      Wild Cards\n                    </div>\n                  }\n                >\n                  {(wildCardModels[faction] || [])\n                    .sort((w1, w2) => (w1.type < w2.type ? -1 : 1))\n                    .map(({ name, page, type, subtype }, j) => {\n                      const shortName = name.slice(0, 40);\n\n                      return (\n                        <Menu.Item key={faction + \":\" + page}>\n                          <span onClick={menuItemClicked(page)}>\n                            <span className=\"card\">\n                              {shortName.length === name.length ? (\n                                shortName\n                              ) : (\n                                <Tooltip placement=\"top\" title={name}>\n                                  {shortName}...\n                                </Tooltip>\n                              )}\n                            </span>\n                            <span className=\"types\">\n                              {subtype ? subtype : \"\"}\n                              {type ? (subtype ? \" \" : \"\") + type : \"\"}\n                            </span>\n                          </span>\n                        </Menu.Item>\n                      );\n                    })}\n                </Menu.ItemGroup>\n                {Object.entries(\n                  cypherCodecs\n                    .filter(\n                      (cypher) =>\n                        [factionName, \"Universal\"].indexOf(\n                          cypher.Faction.text\n                        ) !== -1\n                    )\n                    .reduce(\n                      (acc, cypher) => ({\n                        ...acc,\n                        [cypher.Faction.text]: [\n                          ...(acc[cypher.Faction.text] || []),\n                          cypher,\n                        ],\n                      }),\n                      {}\n                    )\n                )\n                  .sort(([a], [b]) =>\n                    a === \"Universal\" ? 1 : b === \"Universal\" ? -1 : 1\n                  )\n                  .map(([faction, cyphers]) => (\n                    <Menu.ItemGroup\n                      title={\n                        <div\n                          onClick={allMenuItemsClicked(\n                            cyphers\n                              .sort((c1, c2) =>\n                                c1.Type.text < c2.Type.text ? -1 : 1\n                              )\n                              .map(({ Cypher }) => Cypher.page)\n                          )}\n                        >\n                          {`${faction} Cyphers`}\n                        </div>\n                      }\n                      key={faction}\n                    >\n                      {cyphers\n                        .sort((c1, c2) =>\n                          c1.Type.text < c2.Type.text ? -1 : 1\n                        )\n                        .map(({ Cypher, Type }) => (\n                          <Menu.Item\n                            key={\":\" + Cypher.page}\n                            className={Type.text}\n                          >\n                            <span onClick={menuItemClicked(Cypher.page)}>\n                              <span className=\"card\">{Cypher.text}</span>\n                              <span className=\"types\">{Type.text}</span>\n                            </span>\n                          </Menu.Item>\n                        ))}\n                    </Menu.ItemGroup>\n                  ))}\n              </Menu>\n            </Drawer>\n          ))}\n        </Layout>\n      </Layout>\n    </div>\n  );\n}\n\nconst App = connect(\n  (state) => ({\n    initialized: AppSync.selectDone()(state),\n    syncReasons: AppSync.selectReasons()(state),\n    factionModels: Object.entries(FactionModels.select()(state))\n      .sort()\n      .map(([faction, models]) => [\n        Factions.select()(state)[faction].text,\n        faction,\n        models\n          .map((model) => ({\n            name: model.Name.text,\n            page: model.Name.page,\n            type: model.Type.text,\n            ...(model.Subtype\n              ? { subtype: model.Subtype.map((_) => _.text).join(\" \") }\n              : {}),\n          }))\n          .filter(\n            (model) =>\n              !Object.values(CadreModels.select()(state))\n                .flatMap((models) =>\n                  models.map((cadreModel) => cadreModel.title)\n                )\n                .includes(model.name)\n          ),\n        Object.entries(CadreModels.select()(state)).flatMap(\n          ([cadrePageId, cadreModels]) => {\n            const cadre = cadreModels.map((model) => model.title);\n            const allCadreModels = models\n              .filter((model) => cadre.includes(model.Name.text))\n              .map((model) => ({\n                name: model.Name.text,\n                page: model.Name.page,\n                type: model.Type.text,\n                ...(model.Subtype\n                  ? { subtype: model.Subtype.map((_) => _.text).join(\" \") }\n                  : {}),\n              }));\n\n            if (allCadreModels.length === cadreModels.length)\n              return [{ cadrePageId, cadreModels: allCadreModels }];\n\n            return [];\n          }\n        ),\n      ]),\n    wildCardModels: Object.fromEntries(\n      Object.entries(WildCardModels.select()(state))\n        .sort()\n        .map(([faction, models]) => [\n          faction,\n          models.map((model) => ({\n            name: model.Name.text,\n            page: model.Name.page,\n            type: model.Type.text,\n            ...(model.Subtype\n              ? { subtype: model.Subtype.map((_) => _.text).join(\" \") }\n              : {}),\n          })),\n        ])\n    ),\n    cypherCodecs: CypherCodecs.select()(state),\n    lists: Lists.select()(state).map(({ title, cards }) => ({\n      title,\n      cards: cards.flatMap(\n        ({ pageId, cortexIds, warjackWeaponIds, vehicleWeaponId, hidden }) => {\n          const pageIdByPage = PageIds.select()(state);\n\n          const page =\n            Object.entries(pageIdByPage)\n              .filter(([_, id]) => id === pageId)\n              .map(([page, _]) => page)[0] || \"\";\n\n          const model = Object.entries(FactionModels.select()(state))\n            .flatMap(([faction, models]) =>\n              models.map((model) => ({ ...model, faction }))\n            )\n            .find(({ Name }) => Name.page === page);\n          const wildCard = Object.entries(WildCardModels.select()(state))\n            .flatMap(([faction, models]) =>\n              models.map((model) => ({ ...model, faction }))\n            )\n            .find(({ Name }) => Name.page === page);\n          const cypher = CypherCodecs.select()(state).find(\n            ({ Cypher }) => Cypher.page === page\n          );\n\n          if (model) {\n            const details = Models.selectByPage(page)(state);\n            return [\n              {\n                card: \"model\",\n                hidden,\n                type: model.Type.text,\n                title: model.Name.text,\n                page: model.Name.page,\n                pageId,\n                cortexIds,\n                warjackWeaponIds,\n                vehicleWeaponId,\n                faction: model.faction,\n                ...(model.Subtype\n                  ? { subtype: model.Subtype.map((_) => _.text).join(\" \") }\n                  : {}),\n                ...(!details\n                  ? {}\n                  : {\n                      details: {\n                        ...details,\n                        ...(!details.hardpoints\n                          ? {}\n                          : {\n                              hardpointNames: parseHardpoints(\n                                details.hardpoints\n                              ),\n                            }),\n                        ...(!details.cortexSelections\n                          ? {}\n                          : {\n                              cortexSelections: Object.fromEntries(\n                                Object.entries(details.cortexSelections).map(\n                                  ([cortex, advantages]) => [\n                                    cortex,\n                                    Object.fromEntries(\n                                      Object.entries(advantages).map(\n                                        ([advantage, { text, category }]) => [\n                                          advantage,\n                                          {\n                                            text,\n                                            categoryId: pageIdByPage[category],\n                                          },\n                                        ]\n                                      )\n                                    ),\n                                  ]\n                                )\n                              ),\n                            }),\n                        ...(!details.warjackWeaponSelections\n                          ? {}\n                          : {\n                              warjackWeaponSelections: Object.fromEntries(\n                                Object.entries(\n                                  details.warjackWeaponSelections\n                                ).map(([page, selection]) => [\n                                  page.split(\"#\")[0],\n                                  {\n                                    ...selection,\n                                    pageId: pageIdByPage[page.split(\"#\")[0]],\n                                  },\n                                ])\n                              ),\n                            }),\n                        ...(!details.vehicleWeaponSelection\n                          ? {}\n                          : {\n                              vehicleWeaponSelection:\n                                details.vehicleWeaponSelection.map(\n                                  ({ text, page }) => ({\n                                    text,\n                                    page: page.split(\"#\")[0],\n                                    pageId: pageIdByPage[page.split(\"#\")[0]],\n                                  })\n                                ),\n                            }),\n                      },\n                    }),\n              },\n            ];\n          }\n\n          if (wildCard) {\n            const details = Models.selectByPage(page)(state);\n            return [\n              {\n                card: \"model\",\n                hidden,\n                type: wildCard.Type.text,\n                title: wildCard.Name.text,\n                page: wildCard.Name.page,\n                pageId,\n                faction: \"Wild_Card\",\n                ...(wildCard.Subtype\n                  ? { subtype: wildCard.Subtype.map((_) => _.text).join(\" \") }\n                  : {}),\n                details,\n              },\n            ];\n          }\n\n          if (cypher) {\n            const details = Cyphers.selectByPage(page)(state);\n            return [\n              {\n                card: \"cypher\",\n                hidden,\n                type: cypher.Type.text,\n                title: cypher.Cypher.text,\n                page: cypher.Cypher.page,\n                pageId,\n                ...(cypher.Faction.text === \"Universal\"\n                  ? { faction: \"Universal\" }\n                  : { faction: cypher.Faction.page }),\n                details,\n              },\n            ];\n          }\n\n          return [];\n        }\n      ),\n    })),\n    url: Url.select()(state),\n    factions: Factions.select()(state),\n    vehicleWeapons: VehicleWeapons.select()(state),\n    warjackWeapons: WarjackWeapons.select()(state),\n    cadres: CadreCategoryMembers.select()(state),\n    editMode: EditMode.select()(state),\n  }),\n  (dispatch) => ({\n    toggleCard: (listIndex, cardIndex, pageId, card) => {\n      return () =>\n        dispatch(Lists.toggleCard({ listIndex, cardIndex, pageId, card }));\n    },\n    menuItemClicked: (page) => (event) => {\n      dispatch(MenuItemClicked({ page }));\n      event.stopPropagation();\n    },\n    allMenuItemsClicked: (pages) => (event) => {\n      pages.forEach((page) => dispatch(MenuItemClicked({ page })));\n      event.stopPropagation();\n    },\n    removeList: (listIndex) => () => dispatch(Lists.removeList({ listIndex })),\n    removeCard: (listIndex, cardIndex) => () =>\n      dispatch(\n        Lists.removeCard({\n          listIndex,\n          cardIndex,\n        })\n      ),\n    addEmptyList: (listIndex) => () =>\n      dispatch(Lists.addEmptyList({ listIndex })),\n    moveListBy: (listIndex, by) => () =>\n      dispatch(Lists.moveListBy({ listIndex, by })),\n    moveCardByOne: (listIndex, cardIndex, up) => () =>\n      dispatch(Lists.moveCard({ listIndex, cardIndex, up })),\n    setListTitle: (listIndex) => (event) =>\n      dispatch(Lists.setListTitle({ listIndex, title: event.target.value })),\n    setUrl: (event) => dispatch(Url.set({ url: event.target.value })),\n    bookmark: () => {\n      const bookmark = document.querySelector(\".bookmark input\");\n      if (bookmark) {\n        if (navigator.userAgent.match(/ipad|iphone/i)) {\n          const range = document.createRange();\n          range.selectNodeContents(bookmark);\n\n          const selection = window.getSelection();\n          selection.removeAllRanges();\n          selection.addRange(range);\n          bookmark.setSelectionRange(0, 999999);\n        } else {\n          bookmark.select();\n        }\n      }\n    },\n    open: (event) => {\n      if (event.key === \"Enter\") {\n        const url = document.querySelector(\".bookmark input\").value;\n        if (url) window.open(url, \"_self\");\n      }\n    },\n    setCardCortex:\n      (listIndex, cardIndex, pageId) =>\n      (_, { label }) =>\n        dispatch(\n          Lists.setCardCortex({\n            listIndex,\n            cardIndex,\n            pageId,\n            cortexIds: label,\n          })\n        ),\n    setCardWarjackWeapons:\n      (listIndex, cardIndex, hardpointNameIndex, pageId) =>\n      (_, { label }) =>\n        dispatch(\n          Lists.setCardWarjackWeapons({\n            listIndex,\n            cardIndex,\n            hardpointNameIndex,\n            pageId,\n            warjackWeaponId: label,\n          })\n        ),\n    setCardVehicleWeapon:\n      (listIndex, cardIndex, pageId) =>\n      (_, { label }) =>\n        dispatch(\n          Lists.setCardVehicleWeapon({\n            listIndex,\n            cardIndex,\n            pageId,\n            vehicleWeaponId: label,\n          })\n        ),\n    toggleEditMode: () => dispatch(EditMode.toggle()),\n  })\n)(AppPresentation);\n\nexport default App;\n\nfunction generateListNamePlaceholder(cards, factionNames, defaultValue) {\n  const factions = cards.map((card) => card.faction);\n  if (factions.length === 0) return defaultValue;\n\n  const justFactions = factions.filter(\n    (faction) => [\"Universal\", \"Wild_Card\"].indexOf(faction) === -1\n  );\n  if (justFactions.length === 0) {\n    const justCyphers = factions.filter((faction) => faction === \"Universal\");\n    if (justCyphers.length === factions.length) return \"Universal Cyphers\";\n\n    return defaultValue;\n  }\n\n  const factionsPresent = justFactions.reduce(\n    (acc, faction) => ({ ...acc, [faction]: true }),\n    {}\n  );\n  if (Object.keys(factionsPresent).length > 1) return \"Several factions\";\n\n  const factionName = factionNames[Object.keys(factionsPresent)[0]].text;\n  if (factionName) {\n    const types = cards.map((card) => card.type);\n\n    const cyperTypes = [\"Fury\", \"Geometric\", \"Harmonic\", \"Overdrive\"];\n    const noCyphers = types.filter((type) => cyperTypes.indexOf(type) === -1);\n    if (noCyphers.length === types.length) return factionName + \" Models\";\n\n    const justCyphers = types.filter((type) => cyperTypes.indexOf(type) > -1);\n    if (justCyphers.length === types.length) return factionName + \" Cyphers\";\n\n    return factionName;\n  }\n\n  return defaultValue;\n}\n\nfunction cortexName(cortexSelections, cortexIds) {\n  return (Object.entries(cortexSelections).find(\n    ([cortex, advantages]) =>\n      Object.values(advantages)\n        .map((advantage) => advantage.categoryId)\n        .join(\"\") === (cortexIds || []).join(\"\")\n  ) || [undefined])[0];\n}\n\nfunction vehicleWeaponName(vehicleWeaponSelection, vehicleWeaponId) {\n  const vehicleWeapon = vehicleWeaponSelection.find(\n    ({ pageId }) => pageId === vehicleWeaponId\n  );\n  if (!vehicleWeapon) return undefined;\n  return vehicleWeapon.text;\n}\n\nfunction vehicleWeaponName2(\n  faction,\n  vehicleWeapons,\n  vehicleWeaponSelection,\n  vehicleWeaponId\n) {\n  const vehicleWeapon = vehicleWeaponSelection.find(\n    ({ pageId }) => pageId === vehicleWeaponId\n  );\n\n  if (vehicleWeapon) {\n    const { page } = vehicleWeapon;\n    const weaponConfig = vehicleWeapons[page.split(\"#\")[0]];\n    if (weaponConfig) {\n      const { pointCost: cost } = weaponConfig;\n\n      return (\n        <>\n          {!weaponConfig ||\n          !weaponConfig.weapons ||\n          weaponConfig.weapons.length === 0 ? (\n            <></>\n          ) : (\n            weaponConfig.weapons.map((weapon, index) => (\n              <React.Fragment key={`vehicle_weapon_selection_number_${index}`}>\n                <div className=\"model-weapons\">\n                  <div>\n                    {weapon[\"Attack Type\"] === \"Melee\" ? (\n                      <img className=\"faction-melee\" alt=\" \" />\n                    ) : (\n                      <img className=\"faction-ranged\" alt=\" \" />\n                    )}\n                  </div>\n                  <div>\n                    <div>\n                      {weapon[\"Name\"]}\n                      {Object.keys(weapon.specialRules || {}).map(\n                        (rule, index2) => (\n                          <WeaponQuality\n                            key={`vehicle_weapon_selection_number_${index}_rule_${index2}`}\n                            weaponQuality={rule}\n                          />\n                        )\n                      )}\n                    </div>\n                    <div>\n                      <span className=\"cost\">Cost {cost}</span>{\" \"}\n                      {weapon[\"Damage Type\"].join\n                        ? weapon[\"Damage Type\"].join(\" \")\n                        : weapon[\"Damage Type\"]}\n                    </div>\n                  </div>\n                  <div>\n                    <div>RNG</div>\n                    <div>{weapon[\"Range\"]}</div>\n                  </div>\n                  <div>\n                    <div>POW</div>\n                    <div>{weapon[\"POW\"]}</div>\n                  </div>\n                </div>\n                {!weapon.specialRules ? (\n                  <></>\n                ) : (\n                  Object.entries(weapon.specialRules)\n                    .filter(([rule]) => !weaponQualities[rule])\n                    .map(([rule, text], ruleIndex) => (\n                      <div\n                        key={`vehicle_weapon_selection_number_${index}_${ruleIndex}`}\n                        className=\"model-weapons-special-rules\"\n                      >\n                        <span>\n                          {markChargedOrSpike(faction, text)}\n                          {rule}\n                        </span>{\" \"}\n                        <span>- {text}</span>\n                      </div>\n                    ))\n                )}\n              </React.Fragment>\n            ))\n          )}\n          {!weaponConfig ||\n          !weaponConfig.specialRules ||\n          weaponConfig.specialRules.length === 0 ? (\n            <></>\n          ) : (\n            <>\n              {!weaponConfig.weapons || weaponConfig.weapons.length === 0 ? (\n                <div className=\"model-weapons-special-rules\">\n                  <span>Cost</span> <span>- {cost}</span>\n                </div>\n              ) : (\n                <></>\n              )}\n              {Object.entries(weaponConfig.specialRules)\n                .filter(([rule]) => !weaponQualities[rule])\n                .map(([rule, text], ruleIndex) => (\n                  <div\n                    key={`vehicle_weapon_selection_rules_number_${ruleIndex}`}\n                    className=\"model-weapons-special-rules\"\n                  >\n                    <span>\n                      {markChargedOrSpike(faction, text)}\n                      {rule}\n                    </span>{\" \"}\n                    <span>- {text}</span>\n                  </div>\n                ))}\n            </>\n          )}\n        </>\n      );\n    }\n    return undefined;\n  }\n  return undefined;\n}\n\nfunction markCharged(faction, text) {\n  return text.includes(\"charged\") ? (\n    <>\n      <Charged faction={faction} />{\" \"}\n    </>\n  ) : (\n    <></>\n  );\n}\n\nfunction markSpike(faction, text) {\n  return text.includes(\"spike\") ? (\n    <>\n      <Spike faction={faction} />{\" \"}\n    </>\n  ) : (\n    <></>\n  );\n}\n\nfunction markChargedOrSpike(faction, text) {\n  return (\n    <>\n      {markCharged(faction, text)}\n      {markSpike(faction, text)}\n    </>\n  );\n}\n\nfunction warjackWeaponNames(\n  faction,\n  warjackWeapons,\n  warjackWeaponSelections,\n  weaponId\n) {\n  const weapon = Object.values(warjackWeaponSelections).find(\n    ({ pageId }) => pageId === weaponId\n  );\n  if (weapon) {\n    const { cost, page } = weapon;\n    const weaponConfig = warjackWeapons[page.split(\"#\")[0]];\n\n    return (\n      <>\n        {!weaponConfig ||\n        !weaponConfig.weapons ||\n        weaponConfig.weapons.length === 0 ? (\n          <></>\n        ) : (\n          weaponConfig.weapons.map((weapon, index) => (\n            <React.Fragment key={`weapon_selection_number_${index}`}>\n              <div className=\"model-weapons\">\n                <div>\n                  {weapon[\"Attack Type\"] === \"Melee\" ? (\n                    <img className=\"faction-melee\" alt=\" \" />\n                  ) : (\n                    <img className=\"faction-ranged\" alt=\" \" />\n                  )}\n                </div>\n                <div>\n                  <div>\n                    {weapon[\"Name\"]}\n                    {Object.keys(weapon.specialRules || {}).map(\n                      (rule, index2) => (\n                        <WeaponQuality\n                          key={`weapon_selection_number_${index}_rule_${index2}`}\n                          weaponQuality={rule}\n                        />\n                      )\n                    )}\n                  </div>\n                  <div>\n                    <span className=\"cost\">Cost {cost}</span>{\" \"}\n                    {weapon[\"Damage Type\"].join\n                      ? weapon[\"Damage Type\"].join(\" \")\n                      : weapon[\"Damage Type\"]}\n                  </div>\n                </div>\n                <div>\n                  <div>RNG</div>\n                  <div>{weapon[\"Range\"]}</div>\n                </div>\n                <div>\n                  <div>POW</div>\n                  <div>{weapon[\"POW\"]}</div>\n                </div>\n              </div>\n              {!weapon.specialRules ? (\n                <></>\n              ) : (\n                Object.entries(weapon.specialRules)\n                  .filter(([rule]) => !weaponQualities[rule])\n                  .map(([rule, text], ruleIndex) => (\n                    <div\n                      key={`weapon_selection_number_${index}_${ruleIndex}`}\n                      className=\"model-weapons-special-rules\"\n                    >\n                      <span>\n                        {markChargedOrSpike(faction, text)}\n                        {rule}\n                      </span>{\" \"}\n                      <span>- {text}</span>\n                    </div>\n                  ))\n              )}\n            </React.Fragment>\n          ))\n        )}\n        {!weaponConfig ||\n        !weaponConfig.specialRules ||\n        weaponConfig.specialRules.length === 0 ? (\n          <></>\n        ) : (\n          <>\n            {!weaponConfig.weapons || weaponConfig.weapons.length === 0 ? (\n              <div className=\"model-weapons-special-rules\">\n                <span>Cost</span> <span>- {cost}</span>\n              </div>\n            ) : (\n              <></>\n            )}\n            {Object.entries(weaponConfig.specialRules)\n              .filter(([rule]) => !weaponQualities[rule])\n              .map(([rule, text], ruleIndex) => (\n                <div\n                  key={`weapon_selection_rules_number_${ruleIndex}`}\n                  className=\"model-weapons-special-rules\"\n                >\n                  <span>\n                    {markChargedOrSpike(faction, text)}\n                    {rule}\n                  </span>{\" \"}\n                  <span>- {text}</span>\n                </div>\n              ))}\n          </>\n        )}\n      </>\n    );\n  }\n  return undefined;\n}\n\nfunction warjackWeaponNamesSubtitle(warjackWeaponSelections, weaponIds) {\n  return weaponIds.flatMap((weaponId) => {\n    const weapon = Object.values(warjackWeaponSelections).find(\n      ({ pageId }) => pageId === weaponId\n    );\n    if (weapon) {\n      return [weapon.name];\n    }\n    return [];\n  });\n}\n\nfunction parseHardpoints(hardpoints) {\n  // Parses strings of the following type: \"3 : 2 Arm, 1 Back\"\n\n  const rHardpointCount = \"\\\\s*(\\\\d+)\\\\s*\";\n  const rHardpointGroup = \"\\\\s*(\\\\d+)\\\\s*(\\\\w+)\\\\s*\";\n\n  let results = null;\n  for (let n = 1; n <= 10; n++) {\n    const regexp = new RegExp(\n      `^${rHardpointCount}:${rHardpointGroup}${repeat(\n        `,${rHardpointGroup}`,\n        n - 1\n      )}$`\n    );\n    results = regexp.exec(hardpoints);\n    if (results !== null) {\n      break;\n    }\n  }\n\n  if (results === null) {\n    return undefined;\n  }\n\n  const hardpointCount = parseInt(results[1], 10);\n\n  const hardpointNames = [];\n  for (let n = 2; n < results.length; n += 2) {\n    const groupCount = parseInt(results[n], 10);\n    const groupName = results[n + 1];\n\n    for (let i = 1; i <= groupCount; i++) {\n      hardpointNames.push(groupName);\n    }\n  }\n\n  if (hardpointCount !== hardpointNames.length) {\n    console.error(\n      \"Hardpoints do not add up!\",\n      hardpoints,\n      hardpointCount,\n      hardpointNames\n    );\n  }\n\n  return hardpointNames;\n\n  function repeat(s, n) {\n    if (n === 0) return \"\";\n    return s + repeat(s, n - 1);\n  }\n}\n","import { StateShard } from \"../utils\";\nimport { put } from \"redux-saga/effects\";\n\nconst Requests = StateShard(\n  \"Requests\",\n  init,\n  { cache, expire, fetch, fetched },\n  {\n    parsePage,\n    queryCadreModels,\n    queryCadres,\n    queryRevisions,\n    queryPageIds,\n  },\n  {\n    selectCachedRequestsByPageIds,\n    selectCachedParsedPageIds,\n    selectCachedUrl,\n    selectPending,\n  }\n);\n\nexport { Requests };\n\nfunction init(state) {\n  if (!state.io) {\n    state.io = {};\n  }\n\n  state.io.requests = { cached: {}, pending: [] };\n}\n\n// Actions\n\nfunction cache(state, { url, data, queryParams }) {\n  const cached = selectCached(state);\n\n  cached[url] = { data, queryParams };\n}\n\nfunction expire(state, { url }) {\n  const cached = selectCached(state);\n\n  delete cached[url];\n}\n\nfunction fetch(state, params) {\n  const pending = selectPending(state);\n\n  if (!pending.find((request) => request.url === params.url)) {\n    pending.push(params);\n  }\n}\n\nfunction fetched(state, { url }) {\n  const pending = selectPending(state);\n\n  const index = pending.findIndex((request) => request.url === url);\n  if (index > -1) {\n    pending.splice(index, 1);\n  }\n}\n\n// Action Creators\n\nfunction* parsePage({ page, parserName }) {\n  const queryParams = { action: \"parse\", page };\n\n  yield put(\n    Requests.fetch({\n      desc: \"parsePage\",\n      parserName,\n      queryParams,\n      url: jsonApiRequest(queryParams),\n    })\n  );\n}\n\nfunction* queryCadreModels({ pageId }) {\n  const queryParams = {\n    action: \"query\",\n    list: \"categorymembers\",\n    cmpageid: pageId,\n    cmtype: \"page\",\n    cmlimit: \"max\",\n  };\n\n  yield put(\n    Requests.fetch({\n      desc: \"queryCadreModels\",\n      queryParams,\n      url: jsonApiRequest(queryParams),\n    })\n  );\n}\n\nfunction* queryCadres() {\n  const queryParams = {\n    action: \"query\",\n    list: \"categorymembers\",\n    cmtitle: \"Category:Cadre\",\n    cmtype: \"subcat\",\n    cmlimit: \"max\",\n  };\n\n  yield put(\n    Requests.fetch({\n      desc: \"queryCadres\",\n      queryParams,\n      url: jsonApiRequest(queryParams),\n    })\n  );\n}\n\nfunction* queryRevisions({ pageIds }) {\n  const queryParams = {\n    action: \"query\",\n    prop: \"revisions\",\n    pageids: pageIds.join(\"|\"),\n  };\n\n  yield put(\n    Requests.fetch({\n      desc: \"queryRevisions\",\n      queryParams,\n      url: jsonApiRequest(queryParams),\n    })\n  );\n}\n\nfunction* queryPageIds({ pages }) {\n  const queryParams = {\n    action: \"query\",\n    prop: \"pageprops\",\n    titles: encodeURIComponent(pages.map((_) => _.text).join(\"|\")),\n  };\n\n  yield put(\n    Requests.fetch({\n      desc: \"queryPageIds\",\n      pages,\n      queryParams,\n      url: jsonApiRequest(queryParams),\n    })\n  );\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.io.requests;\n}\n\nfunction selectCached(state) {\n  const requests = select(state);\n  return requests.cached;\n}\n\nfunction selectCachedUrl(state, url) {\n  const cached = selectCached(state);\n  return cached[url];\n}\n\nfunction selectCachedRequestsByPageIds(state, pageIds) {\n  const cached = selectCached(state);\n  return Object.fromEntries(\n    Object.entries(cached).filter(\n      ([key, { data }]) =>\n        data && data.parse && pageIds.includes(data.parse.pageid)\n    )\n  );\n}\n\nfunction selectCachedParsedPageIds(state) {\n  const cached = selectCached(state);\n  return Object.values(cached)\n    .filter(({ data }) => data && data.parse)\n    .map(({ data }) => data.parse.pageid);\n}\n\nfunction selectPending(state) {\n  const requests = select(state);\n  return requests.pending;\n}\n\n// Utils\n\nfunction jsonApiRequest(queryParams) {\n  const jsonFormat = {\n    formatversion: 2,\n    format: \"json\",\n  };\n  const params = { ...queryParams, ...jsonFormat };\n\n  const queryString = Object.entries(params)\n    .map((keyValue) => keyValue.join(\"=\"))\n    .join(\"&\");\n\n  return \"https://privateerpress.wiki/api.php?\" + queryString;\n}\n","import { StateShard } from \"./utils\";\n\nconst ParserNames = StateShard(\n  \"ParserNames\",\n  init,\n  { setForPage },\n  {},\n  { selectByPage }\n);\n\nexport { ParserNames };\n\nfunction init(state) {\n  if (!state.data) {\n    state.data = {};\n  }\n\n  state.data.parserNames = {};\n}\n\n// Actions\n\nfunction setForPage(state, { page, parserName }) {\n  const parserNames = select(state);\n  parserNames[page] = parserName;\n}\n\n// Selectors\n\nfunction select(state) {\n  return state.data.parserNames;\n}\n\nfunction selectByPage(state, page) {\n  const parserNames = select(state);\n  return parserNames[page];\n}\n","import { put, take } from \"redux-saga/effects\";\n\nimport { Requests } from \"../../state/io/Requests\";\nimport { ParserNames } from \"../../state/ParserNames\";\n\nfunction* cacheParserNames() {\n  while (true) {\n    const action = yield take(Requests.fetch().type);\n    const { payload } = action;\n    const { desc, queryParams, parserName } = payload;\n\n    if (desc !== \"parsePage\") {\n      continue;\n    }\n\n    const page = queryParams.page;\n\n    if (!page || !parserName) {\n      console.error(\"Could not cache parser!\", { page, parserName }, action);\n      continue;\n    }\n\n    yield put(ParserNames.setForPage({ page, parserName }));\n  }\n}\n\nexport { cacheParserNames };\n","const jsonp = (url) => {\n  return new Promise(function (resolve, reject) {\n    const callbackName = \"jsonp_callback_\" + Math.round(100000 * Math.random());\n    window[callbackName] = function (data) {\n      delete window[callbackName];\n      document.body.removeChild(script);\n      resolve(data);\n    };\n\n    const script = document.createElement(\"script\");\n    script.src =\n      url + (url.indexOf(\"?\") >= 0 ? \"&\" : \"?\") + \"callback=\" + callbackName;\n    document.body.appendChild(script);\n  });\n};\n\nexport { jsonp };\n","/*\nThese sagas fetch and cache wiki pages.\n\nThe wiki's JSONP API is used to fetch page contents. Since we want to be\npolite, we only call the API every two seconds. This throttle is implemented in\nfetchWikiPage through an actionChannel and a call to delay.\n*/\n\nimport {\n  actionChannel,\n  call,\n  delay,\n  put,\n  select,\n  take,\n} from \"redux-saga/effects\";\nimport { FetchedWikiPage, FetchedWikiPageRevisions } from \"../../../messages\";\nimport { jsonp } from \"../jsonp\";\n\nimport { Requests } from \"../../../state/io/Requests\";\nimport { CadreCategoryMembers } from \"../../../state/CadreCategoryMembers\";\nimport { CadreModels } from \"../../../state/CadreModels\";\nimport { PageIds } from \"../../../state/PageIds\";\n\nfunction* fetchWikiPage() {\n  const wikiPageChannel = yield actionChannel(Requests.fetch().type);\n\n  while (true) {\n    const action = yield take(wikiPageChannel);\n    const { payload } = action;\n    const { desc, parserName, queryParams, url } = payload;\n\n    let request = yield select(Requests.selectCachedUrl(url));\n    let wait = false;\n    if (!request) {\n      const data = yield call(jsonp, url);\n      request = { data, queryParams };\n      wait = true;\n      yield put(Requests.cache({ url, data, queryParams }));\n    }\n    yield put(Requests.fetched({ url }));\n\n    const data = request.data;\n\n    if (desc === \"queryRevisions\") {\n      const pageRevisions = data.query.pages;\n\n      yield put(FetchedWikiPageRevisions({ pageRevisions }));\n    }\n\n    if (desc === \"queryCadres\") {\n      const categorymembers = data.query.categorymembers;\n      if (categorymembers) {\n        const cadreCategoryMembers = Object.fromEntries(\n          categorymembers.map((member) => [\n            member.pageid,\n            member.title.replace(/^Category:/, \"\"),\n          ])\n        );\n\n        yield put(CadreCategoryMembers.set({ cadreCategoryMembers }));\n      }\n    }\n\n    if (desc === \"queryCadreModels\") {\n      const { cmpageid: cadrePageId } = queryParams;\n\n      const categoryMembers = data.query.categorymembers;\n      if (categoryMembers) {\n        const cadreModels = categoryMembers.map(({ pageid, title }) => ({\n          pageId: pageid,\n          title,\n        }));\n\n        yield put(CadreModels.setForCadrePageId({ cadrePageId, cadreModels }));\n      }\n    }\n\n    if (desc === \"parsePage\") {\n      const { page } = queryParams;\n\n      if (!page) {\n        console.error(\"No page to fetch!\", action);\n        continue;\n      }\n\n      yield put(FetchedWikiPage({ page, data: data.parse, parserName }));\n    }\n\n    if (desc === \"queryPageIds\") {\n      const { pages } = payload;\n\n      const titleToPageId = Object.fromEntries(\n        data.query.pages.map(({ title, pageid }) => [title, pageid])\n      );\n\n      const pageIdByTitle = Object.fromEntries(\n        pages.map(({ text, page }) => [page.split(\"#\")[0], titleToPageId[text]])\n      );\n\n      yield put(PageIds.addPages({ pageIdByTitle }));\n    }\n\n    if (wait) {\n      const twoSecondsInMs = 2 * 1000;\n      yield delay(twoSecondsInMs);\n    }\n  }\n}\n\nexport { fetchWikiPage };\n","/*\nThese sagas make sure, cached wiki pages stay up-to-date.\n\nEach app reload triggers a RefreshWikiPages action, that starts the cache\nupdate process. The refreshWikiPages saga bulk loads revision data for all\ncached pages from the wiki API. If a page cannot be found (probably because it\nwas deleted from the wiki), it is removed from the cache. If revision\ninformation is found, it is compared with the cached revision of the page. If\nthe loaded revision is higher, the page is removed and fetched again. If the\ncached revision is higher or equal, the page is not refreshed and remains\ncached.\n*/\n\nimport { FetchedWikiPageRevisions, RefreshWikiPages } from \"../../../messages\";\nimport { all, put, take, select } from \"redux-saga/effects\";\n\nimport { Requests } from \"../../../state/io/Requests\";\nimport { ParserNames } from \"../../../state/ParserNames\";\n\nfunction* updateCache() {\n  yield all([refreshWikiPages(), refreshOutdatedWikiPages()]);\n}\n\nexport { updateCache };\n\nfunction* refreshWikiPages() {\n  yield take(RefreshWikiPages().type);\n  const parsedPageIds = yield select(Requests.selectCachedParsedPageIds());\n\n  const queryLength = 50;\n  for (let i = 0; i < parsedPageIds.length; i += queryLength) {\n    const pageIds = parsedPageIds.slice(i, i + queryLength);\n\n    yield* Requests.queryRevisions({ pageIds });\n  }\n}\n\nfunction* refreshOutdatedWikiPages() {\n  while (true) {\n    const { payload } = yield take(FetchedWikiPageRevisions().type);\n    const { pageRevisions } = payload;\n    const revInfoByPageId = Object.fromEntries(\n      pageRevisions.map((revision) => [\n        revision.pageid,\n        revision.missing\n          ? { missing: revision.missing }\n          : {\n              revid: Math.max(\n                ...revision.revisions.map((revision) => revision.revid)\n              ),\n            },\n      ])\n    );\n    const pageIds = pageRevisions.map((revision) => revision.pageid);\n\n    const requests = yield select(\n      Requests.selectCachedRequestsByPageIds(pageIds)\n    );\n\n    for (const [url, { data, queryParams }] of Object.entries(requests)) {\n      const { page } = queryParams;\n      const { parse } = data;\n\n      const revInfo = revInfoByPageId[parse.pageid];\n      if (revInfo.missing) {\n        yield put(Requests.expire({ url }));\n      } else if (parse.revid < revInfo.revid) {\n        yield put(Requests.expire({ url }));\n        const parserName = yield select(ParserNames.selectByPage(page));\n\n        yield* Requests.parsePage({ page, parserName });\n      }\n    }\n  }\n}\n","function partitionBy(slice, array) {\n  var arrays = [];\n\n  for (var i = 0; i < array.length; i += slice) {\n    arrays[arrays.length] = array.slice(i, i + slice);\n  }\n\n  return arrays;\n}\n\nexport { partitionBy };\n","import { all, put, take, select } from \"redux-saga/effects\";\n\nimport { AppSync } from \"../../../state/AppSync\";\nimport { CypherCodecs } from \"../../../state/CypherCodecs\";\nimport { FactionModels } from \"../../../state/FactionModels\";\nimport { Factions } from \"../../../state/Factions\";\nimport { PageIds } from \"../../../state/PageIds\";\nimport { WildCardModels } from \"../../../state/WildCardModels\";\n\nimport { partitionBy } from \"../partitionBy\";\nimport { Requests } from \"../../../state/io/Requests\";\n\nfunction* fetchPageIds() {\n  const cachedPageIds = yield select(PageIds.select());\n\n  if (Object.keys(cachedPageIds).length === 0) {\n    yield put(\n      AppSync.addReasons({\n        reasons: [\n          {\n            reason: \"Loading factions\",\n            description: \"Load available Warcaster factions\",\n          },\n          {\n            reason: \"Loading cyphers\",\n            description: \"Load available Cypher Codecs\",\n          },\n          {\n            reason: \"Loading wildcard models\",\n            description: \"Load available Wild Cards\",\n          },\n        ],\n      })\n    );\n\n    const [factionsSet] = yield all([\n      take(Factions.set().type),\n      take(CypherCodecs.set().type),\n      take(WildCardModels.set().type),\n    ]);\n\n    const factions = Object.keys(factionsSet.payload.factions);\n\n    yield put(\n      AppSync.addReasons({\n        reasons: factions.map((faction) => ({\n          reason: `Loading ${faction.replace(/_/g, \" \")}`,\n          description: `Used to build ${faction.replace(/_/g, \" \")} menu`,\n        })),\n      })\n    );\n\n    yield all(\n      factions.map((faction) =>\n        take(\n          (action) =>\n            action.type === FactionModels.setForPage().type &&\n            action.payload.page === faction\n        )\n      )\n    );\n\n    const factionModelPages = Object.values(\n      yield select(FactionModels.select())\n    )\n      .flat()\n      .map((_) => _.Name);\n\n    const wildCardPages = Object.values(yield select(WildCardModels.select()))\n      .flat()\n      .map((_) => _.Name)\n      .sort(({ text, page }) => [text, page])\n      .filter(\n        ({ text, page }, index, cards) =>\n          !index ||\n          (text !== cards[index - 1].text && page !== cards[index - 1].page)\n      );\n\n    const cypherPages = (yield select(CypherCodecs.select())).map(\n      (_) => _.Cypher\n    );\n\n    const pages = [...factionModelPages, ...wildCardPages, ...cypherPages].sort(\n      (_) => _.page\n    );\n    const pageSlices = partitionBy(50, pages);\n\n    yield put(\n      AppSync.addReasons({\n        reasons: pageSlices.map((_, index) => ({\n          reason: `Loading page ids ${index + 1} of ${pageSlices.length}`,\n          description:\n            \"Card lists are encoded in the URL using unique wiki page ids\",\n        })),\n      })\n    );\n\n    for (const pages of pageSlices) {\n      yield* Requests.queryPageIds({ pages });\n    }\n\n    let processedCount = 0;\n    while (yield take(PageIds.addPages().type)) {\n      processedCount += 1;\n      if (pageSlices.length === processedCount) {\n        yield put(AppSync.done());\n      }\n    }\n  }\n}\n\nexport { fetchPageIds };\n","import { all } from \"redux-saga/effects\";\nimport { fetchWikiPage } from \"./fetchWikiPage\";\nimport { updateCache } from \"./updateCache\";\nimport { fetchPageIds } from \"./fetchPageIds\";\n\nfunction* cacheWikiPages() {\n  yield all([fetchPageIds(), updateCache(), fetchWikiPage()]);\n}\n\nexport { cacheWikiPages };\n","import { Requests } from \"../../../state/io/Requests\";\n\nfunction* fetchCadreCategoryMembers() {\n  yield* Requests.queryCadres();\n}\n\nexport { fetchCadreCategoryMembers };\n","import { take } from \"redux-saga/effects\";\nimport { CadreCategoryMembers } from \"../../../state/CadreCategoryMembers\";\nimport { Requests } from \"../../../state/io/Requests\";\n\nfunction* fetchCadreModels() {\n  while (true) {\n    const {\n      payload: { cadreCategoryMembers },\n    } = yield take(CadreCategoryMembers.set().type);\n\n    const pageIds = Object.keys(cadreCategoryMembers);\n    for (const pageId of pageIds) {\n      yield* Requests.queryCadreModels({ pageId });\n    }\n  }\n}\n\nexport { fetchCadreModels };\n","/*\nThese sagas load meta data necessary for grouping models into cadres.\n\n`fetchCadreCategoryMembers` gets a list of all cadres in game, while `fetchCadreModels` fetches\nthe cadre models for a given cadre.\n*/\n\nimport { all } from \"redux-saga/effects\";\nimport { fetchCadreCategoryMembers } from \"./fetchCadreCategoryMembers\";\nimport { fetchCadreModels } from \"./fetchCadreModels\";\n\nfunction* fetchCadres() {\n  yield all([fetchCadreCategoryMembers(), fetchCadreModels()]);\n}\n\nexport { fetchCadres };\n","function cleanText(text) {\n  return text.replace(/\\n/g, \"\");\n}\n\nfunction prepareDOM(text) {\n  const doc = new DOMParser().parseFromString(text, \"text/html\");\n  doc\n    .querySelectorAll(\n      \"h1 > span[id], h2 > span[id], h3 > span[id], h4 > span[id]\"\n    )\n    .forEach((node) => {\n      node.parentNode.id = node.id;\n    });\n\n  return doc;\n}\n\nexport { cleanText, prepareDOM };\n","import { prepareDOM } from \"./utils\";\n\nconst parseCypherText = (text) => {\n  const doc = prepareDOM(text);\n\n  const type = extractLink(doc, \"Type\");\n  const pow = extractLink(doc, \"Pow\");\n  const effect = extractParagraphs(doc, \"Effect\");\n  const faction = extractLink(doc, \"Faction\");\n  const source = extractLink(doc, \"Source\");\n\n  const cypher = {\n    type,\n    pow,\n    effect,\n    faction,\n    source,\n  };\n\n  return removeUndefinedValues(cypher);\n};\n\nexport { parseCypherText };\n\nfunction extractLink(doc, id) {\n  const p = doc.querySelector(`h2#${id} ~ p`);\n  if (!p) return undefined;\n\n  const a = p.querySelector(\"a\");\n  if (!a) return { text: p.innerText };\n\n  const hrefs = a.href.split(\"title=\");\n  return { text: a.innerText, page: hrefs[hrefs.length - 1] };\n}\n\nfunction extractParagraphs(doc, id) {\n  function helper(node, texts) {\n    switch (node.tagName) {\n      case \"P\":\n        return helper(node.nextSibling, [...texts, node.innerText.trim()]);\n      case \"H2\":\n        return texts;\n      default:\n        return helper(node.nextSibling, texts);\n    }\n  }\n\n  const node = doc.querySelector(`h2#${id} ~ p`);\n  if (!node) return undefined;\n\n  return helper(node, []);\n}\n\nfunction removeUndefinedValues(obj) {\n  if (Array.isArray(obj)) return obj.map(removeUndefinedValues);\n  if (typeof obj !== \"object\") return obj;\n\n  return Object.fromEntries(\n    Object.entries(obj)\n      .filter(([key, value]) => typeof value !== \"undefined\")\n      .map(([key, value]) => [key, removeUndefinedValues(value)])\n  );\n}\n","import { cleanText } from \"./utils\";\n\nfunction parseAnchorTable(table) {\n  const header = [...table.querySelectorAll(\"th\")].map((th) =>\n    cleanText(th.innerText)\n  );\n\n  const body = [...table.querySelectorAll(\"tr\")].map((tr) =>\n    [...tr.querySelectorAll(\"td\")].map((td) => {\n      const anchors = [...td.querySelectorAll(\"a\")].map(parseAnchor);\n      if (anchors.length > 0) {\n        return anchors;\n      }\n      const text = parseText(td);\n      if (text) {\n        return [{ text }];\n      }\n      return [];\n    })\n  );\n\n  return body\n    .filter((row) => row.length === header.length)\n    .map((row) =>\n      Object.fromEntries(\n        header.flatMap((title, i) => (row[i] ? [[title, row[i]]] : []))\n      )\n    );\n}\n\nfunction parseAnchor(a) {\n  const titleColon = a.title.split(\":\");\n  const hrefTitle = a.href.split(\"title=\");\n  return {\n    text: titleColon[titleColon.length - 1],\n    page: hrefTitle[hrefTitle.length - 1],\n  };\n}\n\nexport { parseAnchor, parseAnchorTable };\n\nfunction parseText(node) {\n  return cleanText(node.innerText);\n}\n","import { parseAnchorTable } from \"./parsers\";\nimport { prepareDOM } from \"./utils\";\n\nconst parseCypherCodecsText = (text) => {\n  const doc = prepareDOM(text);\n\n  const cypherCodecsTable = doc.querySelector(\"table.sortable\");\n  if (!cypherCodecsTable) {\n    console.error(\"parseCypherCodecsText: cypherCodecsTable not found!\");\n    return undefined;\n  }\n\n  const cypherCodecs = parseAnchorTable(cypherCodecsTable);\n  return cypherCodecs.map((cypherCodec) =>\n    Object.fromEntries(\n      Object.entries(cypherCodec).map(([key, values]) => [key, values[0]])\n    )\n  );\n};\n\nexport { parseCypherCodecsText };\n","import { parseAnchorTable } from \"./parsers\";\nimport { prepareDOM } from \"./utils\";\n\nconst parseFactionModelsText = (text) => {\n  const doc = prepareDOM(text);\n\n  const table = doc.querySelector(\"h1#Models ~ table\");\n  if (!table) {\n    console.error(\"parseFactionModelsText: table not found!\");\n    return undefined;\n  }\n  const models = parseAnchorTable(table);\n\n  return models.map((model) =>\n    Object.fromEntries(\n      Object.entries(model).flatMap(([key, values]) =>\n        key === \"Subtype\"\n          ? values.length > 0\n            ? [[key, values]]\n            : []\n          : [[key, values[0]]]\n      )\n    )\n  );\n};\n\nexport { parseFactionModelsText };\n","import { parseAnchor } from \"./parsers\";\nimport { prepareDOM } from \"./utils\";\n\nconst parseFactionsText = (text) => {\n  const doc = prepareDOM(text);\n\n  const p = doc.querySelector(\"h2#Factions ~ p\");\n  const factions = Object.fromEntries(collectFactions(p, []));\n  delete factions.Wild_Card; // Wild Cards are crawled independently.\n  return factions;\n};\n\nexport { parseFactionsText };\n\nfunction collectFactions(node, factions) {\n  switch (node.tagName) {\n    case \"P\":\n      const a = node.querySelector(\"a\");\n      if (!a) {\n        console.error(\"collectFactions: a not found!\");\n        return collectFactions(node.nextSibling, factions);\n      }\n      const anchor = parseAnchor(a);\n      const faction = [anchor.page, anchor];\n      return collectFactions(node.nextSibling, [...factions, faction]);\n    case \"H2\":\n      return factions;\n    default:\n      return collectFactions(node.nextSibling, factions);\n  }\n}\n","import { parseAnchor } from \"./parsers\";\nimport { cleanText, prepareDOM } from \"./utils\";\n\nconst parseModelText = (text) => {\n  const doc = prepareDOM(text);\n\n  const storeLinks = extractStoreLinks(doc);\n  const factionAndTypes =\n    extractList(doc, \"Unit_Faction_and_Type\") ||\n    extractList(doc, \"Model_Faction_and_Type\");\n  const faction = factionAndTypes[0];\n  const types = factionAndTypes.slice(1);\n  const squadSize = extractText(doc, \"Squad_Size\");\n  const deploymentCost = extractText(doc, \"Deployment_Cost\");\n  const baseSize = extractText(doc, \"Base_Size\");\n  const health = extractText(doc, \"Health\");\n  const wildCardFactions = extractList(doc, \"Wild_Card_Factions\");\n  const weaponPoints = extractText(doc, \"Weapon_Points\");\n  const hardpoints = extractText(doc, \"Hardpoints\");\n  const specialRules = extractDefinitions(doc, \"Special_Rules\");\n  const chassisSpecialRules = extractDefinitions(doc, \"Chassis_Special_Rules\");\n  const chassisAdvantages = extractDefinitions(doc, \"Chassis_Advantages\");\n  const advantages = extractDefinitions(doc, \"Advantages\");\n  const maneuvers = extractDefinitions(doc, \"Maneuvers\");\n  const vehicleWeaponSelection = extractWeaponSelection(\n    doc,\n    \"Weapon_Selection\"\n  );\n  const cortexes = extractCortexes(doc, \"Cortexes\");\n\n  const modelStatsData = [\n    ...doc\n      .querySelector(\"h3#Unit_Stats ~ table, h3#Model_Stats ~ table\")\n      .querySelectorAll(\"tr > td\"),\n  ].map((_) => cleanText(_.innerText));\n  const modelStatsLength = modelStatsData.length / 2;\n  const modelStats = Object.fromEntries(\n    Array.from({ length: modelStatsLength }, (_, i) => i).map((i) => [\n      modelStatsData[i],\n      modelStatsData[i + modelStatsLength],\n    ])\n  );\n\n  let weaponsData = [...doc.querySelectorAll(\"h3#Weapons ~ table tr\")].map(\n    (tr) => [...tr.querySelectorAll(\"td\")]\n  );\n  let weapons = undefined;\n  if (weaponsData.length > 0) {\n    weapons = [];\n    let header = weaponsData[0].map((td) => td.innerText);\n    let weaponsList = weaponsData.slice(1);\n    for (const tds of weaponsList) {\n      if (tds.length === header.length) {\n        const stats = tds.map((td) => td.innerText);\n        const weapon = Object.fromEntries(\n          header.map((key, i) => [cleanText(key), cleanText(stats[i])])\n        );\n        weapons.push(weapon);\n      }\n      if (tds.length === 1) {\n        const previousWeapons = weapons.slice(0, weapons.length - 1);\n        const lastWeapon = weapons[weapons.length - 1];\n\n        const weapon = {\n          ...lastWeapon,\n          specialRules: parseDefinitionText(tds[0]),\n        };\n        weapons = [...previousWeapons, weapon];\n      }\n    }\n  }\n\n  function weaponDetails() {\n    const weaponDetailsTable = doc.querySelector(\"table.mw-collapsible\");\n    if (!weaponDetailsTable) return undefined;\n\n    const weaponDetailsData = [...weaponDetailsTable.querySelectorAll(\"tr\")]\n      .map((tr) => [...tr.querySelectorAll(\"td, th\")])\n      .filter((_) => _.length === 4);\n    if (!weaponDetailsData || weaponDetailsData.length === 0) return undefined;\n\n    const detailsHeader = weaponDetailsData[0].map((_) =>\n      cleanText(_.innerText)\n    );\n    return weaponDetailsData.slice(1).map((tds) =>\n      Object.fromEntries(\n        tds.map((td, i) => {\n          const a = td.querySelector(\"a\");\n          const hrefs = a ? a.href.split(\"title=\") : undefined;\n          const text = cleanText(td.innerText);\n          return [\n            detailsHeader[i],\n            a ? { text, page: hrefs[hrefs.length - 1] } : { text },\n          ];\n        })\n      )\n    );\n  }\n\n  const release = extractText(doc, \"Release\", { node: \"h1\" });\n  const lore = extractText(doc, \"Lore\", { node: \"h1\" });\n\n  const model = {\n    storeLinks,\n    faction,\n    types,\n    squadSize,\n    deploymentCost,\n    baseSize,\n    health,\n    wildCardFactions,\n    hardpoints,\n    weaponPoints,\n    modelStats,\n    specialRules,\n    weapons,\n    advantages,\n    maneuvers,\n    vehicleWeaponSelection,\n    cortexes,\n    chassisSpecialRules,\n    chassisAdvantages,\n    weaponDetails: weaponDetails(),\n    release,\n    lore,\n  };\n\n  return removeUndefinedValues(model);\n};\n\nexport { parseModelText };\n\nfunction extractStoreLinks(doc) {\n  return [...doc.querySelectorAll(\"p\")]\n    .filter((p) =>\n      [...p.querySelectorAll(\"a\")].some((a) => a.href.includes(\"store\"))\n    )\n    .map((p) => p.innerHTML.replace(/\\n/g, \"\"))\n    .flatMap((html) => html.split(\"<br>\"));\n}\n\nfunction removeUndefinedValues(obj) {\n  if (Array.isArray(obj)) return obj.map(removeUndefinedValues);\n  if (typeof obj !== \"object\") return obj;\n\n  return Object.fromEntries(\n    Object.entries(obj)\n      .filter(([key, value]) => typeof value !== \"undefined\")\n      .map(([key, value]) => [key, removeUndefinedValues(value)])\n  );\n}\n\nfunction extractText(doc, id, { node = \"h3\" } = {}) {\n  const p = doc.querySelector(`${node}#${id} ~ p`);\n  if (!p) return undefined;\n\n  return cleanText(p.innerText);\n}\n\nfunction extractList(doc, id) {\n  const p = doc.querySelector(`h3#${id} ~ p`);\n  if (!p) return undefined;\n\n  const as = [...p.querySelectorAll(\"a\")];\n  if (as.length === 0) return undefined;\n\n  return as.map((a) => {\n    const hrefs = a.href.split(\"title=\");\n    return { text: a.innerText, page: hrefs[hrefs.length - 1] };\n  });\n}\n\nfunction extractWeaponSelection(doc, id) {\n  const node = doc.querySelector(`h3#${id} + p`);\n  if (!node) return undefined;\n\n  const anchors = [...node.querySelectorAll(\"a\")];\n\n  return anchors.map((a) => parseAnchor(a));\n}\n\nfunction extractCortexes(doc, id) {\n  function helper(node, cortexes) {\n    switch (node.tagName) {\n      case \"P\":\n        const cortex = node.querySelector(\"b\").innerText;\n        const definitions = parseDefinitionText(node);\n        return helper(node.nextSibling, [...cortexes, [cortex, definitions]]);\n      case \"H3\":\n        return cortexes;\n      default:\n        return helper(node.nextSibling, cortexes);\n    }\n  }\n\n  const node = doc.querySelector(`h3#${id} ~ p`);\n  if (!node) return undefined;\n\n  return Object.fromEntries(helper(node, []));\n}\n\nfunction parseDefinitionText(node) {\n  const uls = [...node.querySelectorAll(\"ul\")];\n\n  for (const ul of uls) {\n    const list = [...ul.querySelectorAll(\"li\")].map(\n      (li) => \" • \" + li.innerText\n    );\n    ul.replaceWith(list.join(\"\"));\n  }\n\n  const definitions = node.innerHTML\n    .split(\"<br>\")\n    .map((_) => _.replace(/<[^>]+>/g, \"\").trim());\n\n  const pairs = definitions.flatMap((definition) => {\n    const separator = \": \";\n    const groups = definition.split(separator).map(cleanText).map(encodeHTML);\n    if (groups.length < 2) return [];\n    const key = groups[0];\n    const val = groups.slice(1).join(separator).replace(/\\s•\\s/g, \"\\n • \");\n    return [[key, val]];\n  });\n  if (pairs.length === 0) return undefined;\n\n  return Object.fromEntries(pairs);\n}\n\nfunction encodeHTML(text) {\n  const parser = new DOMParser();\n  const dom = parser.parseFromString(\n    \"<!doctype html><body>\" + text,\n    \"text/html\"\n  );\n  return dom.body.textContent;\n}\n\nfunction extractDefinitions(doc, id) {\n  const ul = doc.querySelector(`h3#${id} ~ p ~ ul`);\n  const p = doc.querySelector(`h3#${id} ~ p`);\n  if (!p) return undefined;\n\n  if (ul) p.append(ul);\n\n  return parseDefinitionText(p);\n}\n","import { parseAnchor } from \"./parsers\";\nimport { prepareDOM } from \"./utils\";\n\nconst parseVehicleAndWarjackWeaponText = (text) => {\n  const doc = prepareDOM(text);\n\n  const vehicleWeaponId = doc.querySelector(\"#Vehicle_Weapon\");\n  const warjackWeaponId = doc.querySelector(\"#Warjack_Weapon\");\n\n  if (vehicleWeaponId && warjackWeaponId) {\n    const vehicleWeapon = parseVehicleOrWarjackWeapon(\n      \"#Vehicle_Weapon ~ \",\n      doc\n    );\n    const warjackWeapon = parseVehicleOrWarjackWeapon(\n      \"#Warjack_Weapon ~ \",\n      doc\n    );\n\n    return { vehicleWeapon, warjackWeapon };\n  } else {\n    const vehicleOrWarjackWeapon = parseVehicleOrWarjackWeapon(\"\", doc);\n\n    return { vehicleOrWarjackWeapon };\n  }\n};\n\nexport { parseVehicleAndWarjackWeaponText };\n\nfunction parseVehicleOrWarjackWeapon(prefix, doc) {\n  let res = {};\n\n  const availableFor = [\n    ...doc.querySelectorAll(`${prefix}[id^=Available_For] + p > a`),\n  ].map(parseAnchor);\n\n  res.availableFor = availableFor;\n\n  const pointCostNode = doc.querySelector(`${prefix}[id^=Point_Cost] + p`);\n  if (pointCostNode) {\n    const pointCost = parseInt(pointCostNode.innerText);\n\n    res.pointCost = pointCost;\n  }\n\n  const locationNode = doc.querySelector(`${prefix}[id^=Location] + p`);\n  if (locationNode) {\n    const location = locationNode.innerText.replace(/\\n/g, \"\");\n\n    res.location = location;\n  }\n\n  // Good special rules example: Metaperceptor\n  const specialRulesP = doc.querySelector(`${prefix}[id^=Special_Rules] + p`);\n  if (specialRulesP) {\n    const specialRules = specialRulesP\n      ? Object.fromEntries(\n          specialRulesP.innerText\n            .replace(/\\n$/g, \"\")\n            .split(\"\\n\")\n            .map((specialRule) => specialRule.split(\": \"))\n        )\n      : {};\n\n    res.specialRules = specialRules;\n  }\n\n  // Good weapons examples:\n  // - Nova_Cannon#Warjack_Weapon (several special abilities)\n  // - Protean_Forge (several attack modes)\n  // - Assault_Rifle_%26_Bayonet (several weapons)\n  const table = doc.querySelector(`${prefix}[id^=Weapons] + table`);\n\n  if (table) {\n    const header = [...table.querySelectorAll(\"tr:first-of-type td\")].map(\n      (td) => td.innerText.replace(/\\n/g, \"\")\n    );\n\n    const weapons = [...table.querySelectorAll(\"tr:not(:first-of-type)\")]\n      .map((tr) => [...tr.querySelectorAll(\"td\")])\n      .flatMap((tr, index) =>\n        index % 2 === 0\n          ? [\n              tr.map((td) =>\n                [...td.childNodes]\n                  .map((node) =>\n                    (node.innerText || node.textContent).replace(/\\n$/g, \"\")\n                  )\n                  .filter((text) => [\" \", \"\"].indexOf(text) === -1)\n              ),\n            ]\n          : tr.map((td) => {\n              if (td.innerText === \"\") return {};\n              const ul = td.querySelector(\"ul\");\n\n              if (ul) {\n                const textNode = td.querySelector(\"ul\").previousSibling;\n                textNode.nodeValue.replace(/\\n/g, \" \");\n\n                td.querySelector(\"ul\").insertAdjacentText(\n                  \"beforebegin\",\n                  textNode.nodeValue.replace(/\\n/g, \" \") +\n                    td.querySelector(\"ul\").innerText.replace(/\\n/g, \" \")\n                );\n                textNode.remove();\n                td.querySelector(\"ul\").remove();\n              }\n\n              const specialRules = Object.fromEntries(\n                [...td.childNodes]\n                  .map((node) =>\n                    node.nodeName === \"BR\"\n                      ? \"\\n\"\n                      : node.innerText || node.textContent\n                  )\n                  .join(\"\")\n                  .replace(/\\n$/, \"\")\n                  .split(\"\\n\")\n                  .filter((text) => text !== \"\")\n                  .map((entry) => {\n                    let colonIndex = entry.indexOf(\": \");\n                    return [\n                      entry.slice(0, colonIndex),\n                      entry.slice(colonIndex + 2),\n                    ];\n                  })\n              );\n\n              if (Object.keys(specialRules).length === 0) return {};\n              return { specialRules };\n            })\n      )\n      .reduce(\n        (acc, tr, index) =>\n          index % 2 === 0\n            ? [\n                ...acc,\n                tr.reduce(\n                  (acc2, value, index2) => ({\n                    ...acc2,\n                    [header[index2]]: value.length === 1 ? value[0] : value,\n                  }),\n                  {}\n                ),\n              ]\n            : [\n                ...acc.slice(0, acc.length - 1),\n                { ...acc[acc.length - 1], ...tr },\n              ],\n        []\n      );\n    if (weapons.length > 0) {\n      res.weapons = weapons;\n    }\n  }\n\n  return res;\n}\n","import { parseAnchorTable } from \"./parsers\";\nimport { prepareDOM } from \"./utils\";\n\nconst parseWildCardText = (text) => {\n  const doc = prepareDOM(text);\n\n  const h1OrTable = doc.querySelectorAll(\"h1, table.sortable\");\n  const factionAndModels = [];\n\n  for (let i = 0; i < h1OrTable.length; i++) {\n    if (i % 2 === 0) {\n      const h1 = h1OrTable[i];\n      if (h1.tagName !== \"H1\") {\n        console.error(\n          `parseWildCardText: expected H1, but got ${h1.tagName}!`,\n          h1\n        );\n      }\n      factionAndModels.push({ faction: h1.id });\n    } else {\n      const table = h1OrTable[i];\n      if (table.tagName !== \"TABLE\") {\n        console.error(\n          `parseWildCardText: expected TABLE, but got ${table.tagName}!`,\n          table\n        );\n      }\n      const last = factionAndModels[factionAndModels.length - 1];\n      const models = parseAnchorTable(table);\n      last.models = models.map((model) =>\n        Object.fromEntries(\n          Object.entries(model).flatMap(([key, values]) =>\n            key === \"Subtype\"\n              ? values.length > 0\n                ? [[key, values]]\n                : []\n              : [[key, values[0]]]\n          )\n        )\n      );\n    }\n  }\n\n  return factionAndModels;\n};\n\nexport { parseWildCardText };\n","import { put } from \"redux-saga/effects\";\nimport { parseModelText } from \"../../core/parse\";\nimport { Models } from \"../../../state/Models\";\nimport { partitionBy } from \"../partitionBy\";\nimport { Requests } from \"../../../state/io/Requests\";\n\nfunction* parseModel({ data, page }) {\n  const model = parseModelText(data.text);\n  model.name = { text: data.title, page };\n\n  const cortexSelections = identifyCortexSelections(\n    model.cortexes,\n    data.categories\n  );\n\n  if (cortexSelections) {\n    model.cortexSelections = cortexSelections;\n  }\n\n  const warjackWeaponSelections = buildWarjackWeaponSelections(\n    model.weaponDetails\n  );\n\n  if (warjackWeaponSelections) {\n    model.warjackWeaponSelections = warjackWeaponSelections;\n  }\n\n  yield put(Models.setForPage({ page, model }));\n\n  let fetchPages = [];\n\n  if (cortexSelections) {\n    const cortexCategories = Object.values(cortexSelections).flatMap(\n      (advantages) =>\n        Object.values(advantages).flatMap(({ category }) => ({\n          text: category.replace(/_/g, \" \"),\n          page: category,\n        }))\n    );\n\n    fetchPages = [...fetchPages, ...cortexCategories];\n  }\n\n  if (warjackWeaponSelections) {\n    const weaponPages = Object.values(warjackWeaponSelections).map(\n      ({ name, page }) => ({ text: name, page })\n    );\n\n    fetchPages = [...fetchPages, ...weaponPages];\n  }\n\n  if (model.vehicleWeaponSelection) {\n    fetchPages = [...fetchPages, ...model.vehicleWeaponSelection];\n  }\n\n  if (fetchPages.length > 0) {\n    const pageSlices = partitionBy(50, fetchPages);\n\n    for (const pages of pageSlices) {\n      yield* Requests.queryPageIds({ pages: pages });\n    }\n  }\n}\n\nexport { parseModel };\n\nfunction buildWarjackWeaponSelections(weaponDetails) {\n  if (!weaponDetails) {\n    return undefined;\n  }\n\n  return Object.fromEntries(\n    weaponDetails.map(({ Cost, Location, Weapon }) => [\n      Weapon.page,\n      {\n        cost: Cost.text,\n        location: Location.text,\n        name: Weapon.text,\n        page: Weapon.page,\n      },\n    ])\n  );\n}\n\nfunction identifyCortexSelections(cortexes, categories) {\n  if (\n    !cortexes ||\n    Object.entries(cortexes).length === 0 ||\n    !categories ||\n    Object.entries(categories).length === 0\n  ) {\n    return undefined;\n  }\n\n  const categoryTexts = categories.map(({ category }) => category);\n\n  return Object.fromEntries(\n    Object.entries(cortexes).map(([cortex, advantages]) => [\n      cortex,\n      Object.fromEntries(\n        Object.entries(advantages).map(([advantage, text]) => [\n          advantage,\n          {\n            category: `Category:${findClosestCategory(\n              advantage,\n              categoryTexts\n            )}`,\n            text,\n          },\n        ])\n      ),\n    ])\n  );\n}\n\nfunction findClosestCategory(advantage, categoryTexts) {\n  return categoryTexts.find(\n    (category) => advantage === category.replace(/^WNM_/, \"\").replace(/_/g, \" \")\n  );\n}\n","import { parseCypher } from \"./parseCypher\";\nimport { parseCypherCodecs } from \"./parseCypherCodecs\";\nimport { parseFactionModels } from \"./parseFactionModels\";\nimport { parseFactions } from \"./parseFactions\";\nimport { parseModel } from \"./parseModel\";\nimport { parseVehicleOrWarjackWeapon } from \"./parseVehicleOrWarjackWeapon\";\nimport { parseWildCard } from \"./parseWildCard\";\n\nconst parsers = {\n  parseCypher,\n  parseCypherCodecs,\n  parseFactionModels,\n  parseFactions,\n  parseModel,\n  parseVehicleOrWarjackWeapon,\n  parseWildCard,\n};\n\nexport default parsers;\n","import { put } from \"redux-saga/effects\";\nimport { parseCypherText } from \"../../core/parse\";\nimport { Cyphers } from \"../../../state/Cyphers\";\n\nfunction* parseCypher({ data, page }) {\n  const cypher = parseCypherText(data.text);\n  cypher.name = { text: data.title, page };\n  yield put(Cyphers.setForPage({ page, cypher }));\n}\n\nexport { parseCypher };\n","import { put } from \"redux-saga/effects\";\nimport { parseCypherCodecsText } from \"../../core/parse\";\nimport { CypherCodecs } from \"../../../state/CypherCodecs\";\n\nfunction* parseCypherCodecs({ data }) {\n  const cypherCodecs = parseCypherCodecsText(data.text);\n  yield put(CypherCodecs.set({ cypherCodecs }));\n}\n\nexport { parseCypherCodecs };\n","import { put } from \"redux-saga/effects\";\nimport { parseFactionModelsText } from \"../../core/parse\";\nimport { FactionModels } from \"../../../state/FactionModels\";\n\nfunction* parseFactionModels({ data, page }) {\n  const factionModels = parseFactionModelsText(data.text);\n  yield put(FactionModels.setForPage({ page, factionModels }));\n}\n\nexport { parseFactionModels };\n","import { put } from \"redux-saga/effects\";\nimport { parseFactionsText } from \"../../core/parse\";\nimport { Factions } from \"../../../state/Factions\";\n\nfunction* parseFactions({ data }) {\n  const factions = parseFactionsText(data.text);\n  yield put(Factions.set({ factions }));\n}\n\nexport { parseFactions };\n","import { put, select } from \"redux-saga/effects\";\nimport { parseVehicleAndWarjackWeaponText } from \"../../core/parse\";\nimport { VehicleWeapons } from \"../../../state/VehicleWeapons\";\nimport { WarjackWeapons } from \"../../../state/WarjackWeapons\";\nimport { Models } from \"../../../state/Models\";\n\nfunction* parseVehicleOrWarjackWeapon({ data, page }) {\n  const { vehicleWeapon, vehicleOrWarjackWeapon, warjackWeapon } =\n    parseVehicleAndWarjackWeaponText(data.text);\n\n  if (vehicleWeapon)\n    yield put(VehicleWeapons.setForPage({ page, vehicleWeapon }));\n  if (warjackWeapon)\n    yield put(WarjackWeapons.setForPage({ page, warjackWeapon }));\n  if (vehicleOrWarjackWeapon) {\n    const models = Object.values(yield select(Models.select()));\n\n    const vehicles = models.filter(({ types }) =>\n      types.some(({ text }) => text === \"Vehicle\")\n    );\n    const warjacks = models.filter(({ types }) =>\n      types.some(({ text }) => text === \"Warjack\")\n    );\n\n    const vehicleWeapons = vehicles.flatMap((vehicle) =>\n      vehicle.vehicleWeaponSelection.map((weapon) => weapon.page)\n    );\n    const warjackWeapons = warjacks.flatMap((warjack) =>\n      !warjack.weaponDetails\n        ? []\n        : warjack.weaponDetails.map(({ Weapon }) => Weapon.page)\n    );\n\n    if (vehicleWeapons.includes(page) && warjackWeapons.includes(page)) {\n      console.error(\n        `Vehicle weapons and warjack weapons cannot both contain page ${page}!`\n      );\n    }\n\n    if (vehicleWeapons.includes(page)) {\n      yield put(\n        VehicleWeapons.setForPage({\n          page,\n          vehicleWeapon: vehicleOrWarjackWeapon,\n        })\n      );\n    }\n\n    if (warjackWeapons.includes(page)) {\n      yield put(\n        WarjackWeapons.setForPage({\n          page,\n          warjackWeapon: vehicleOrWarjackWeapon,\n        })\n      );\n    }\n  }\n}\n\nexport { parseVehicleOrWarjackWeapon };\n","import { put } from \"redux-saga/effects\";\nimport { parseWildCardText } from \"../../core/parse\";\nimport { WildCardModels } from \"../../../state/WildCardModels\";\n\nfunction* parseWildCard({ data }) {\n  const wildCards = parseWildCardText(data.text);\n  yield put(WildCardModels.set({ wildCards }));\n}\n\nexport { parseWildCard };\n","import { select, take } from \"redux-saga/effects\";\n\nimport { FetchedWikiPage } from \"../../messages\";\nimport parsers from \"./parsers\";\nimport { ParserNames } from \"../../state/ParserNames\";\n\nfunction* parseWikiPages() {\n  while (true) {\n    const action = yield take(FetchedWikiPage().type);\n    const { payload } = action;\n\n    let parserName = payload.parserName;\n    if (!parserName) {\n      parserName = yield select(ParserNames.selectByPage(payload.page));\n    }\n\n    if (!parserName) {\n      console.error(\"Parser name not found!\", action);\n      continue;\n    }\n\n    const parser = parsers[parserName];\n\n    if (!parser) {\n      console.error(\"Parser not found!\", action);\n      continue;\n    }\n\n    yield* parser(payload);\n  }\n}\n\nexport { parseWikiPages };\n","import { all, take } from \"redux-saga/effects\";\nimport { Factions } from \"../../state/Factions\";\nimport { Requests } from \"../../state/io/Requests\";\n\nfunction* triggerFetchWikiPages() {\n  yield all([triggerFetchFactions()]);\n}\n\nexport { triggerFetchWikiPages };\n\nfunction* triggerFetchFactions() {\n  while (true) {\n    const { payload } = yield take(Factions.set().type);\n    const { factions } = payload;\n\n    const factionPages = Object.values(factions).map((faction) => faction.page);\n\n    for (const page of factionPages) {\n      yield* Requests.parsePage({ page, parserName: \"parseFactionModels\" });\n    }\n  }\n}\n","const digitsBase62 =\n  \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\nfunction toBase62(n) {\n  if (n === 0) return \"0\";\n  var result = \"\";\n  while (n > 0) {\n    result = digitsBase62[n % digitsBase62.length] + result;\n    n = parseInt(n / digitsBase62.length, 10);\n  }\n  return result;\n}\n\nfunction fromBase62(s) {\n  var result = 0;\n  for (var i = 0; i < s.length; i++) {\n    var p = digitsBase62.indexOf(s[i]);\n    if (p < 0) return NaN;\n    result += p * Math.pow(digitsBase62.length, s.length - i - 1);\n  }\n  return result;\n}\n\nexport { fromBase62, toBase62 };\n","import { eventChannel } from \"redux-saga\";\nimport { all, put, select, take } from \"redux-saga/effects\";\nimport { MenuItemClicked } from \"../../messages\";\nimport { AppSync } from \"../../state/AppSync\";\nimport { CypherCodecs } from \"../../state/CypherCodecs\";\nimport { FactionModels } from \"../../state/FactionModels\";\nimport { Requests } from \"../../state/io/Requests\";\nimport { Lists } from \"../../state/Lists\";\nimport { Models } from \"../../state/Models\";\nimport { PageIds } from \"../../state/PageIds\";\nimport { Url } from \"../../state/Url\";\nimport { VehicleWeapons } from \"../../state/VehicleWeapons\";\nimport { WarjackWeapons } from \"../../state/WarjackWeapons\";\nimport { WildCardModels } from \"../../state/WildCardModels\";\nimport { toBase62, fromBase62 } from \"./base62\";\n\nfunction* ui() {\n  yield all([\n    addCard(),\n    updateUrl(),\n    parseListsFromQuery(),\n    parseListsFromQuery2(),\n    fetchCardOnShow(),\n    fetchWeaponsIfVehicleAdded(),\n    fetchWeaponsIfWarjackAdded(),\n  ]);\n}\n\nexport { ui };\n\nfunction* addCard() {\n  while (true) {\n    const { payload } = yield take(MenuItemClicked().type);\n    const { page } = payload;\n    const model = yield select(FactionModels.selectByPage(page));\n    const wildCard = yield select(WildCardModels.selectByPage(page));\n    const cypher = yield select(CypherCodecs.selectByPage(page));\n    if (model || wildCard || cypher) {\n      const pageId = yield select(PageIds.selectByPage(page));\n      yield put(Lists.addCard({ pageId }));\n    }\n  }\n}\n\nfunction* updateUrl() {\n  while (yield take((action) => action.type.startsWith(\"Lists.\"))) {\n    const lists = yield select(Lists.select());\n    const pageIds = lists.map(({ cards }) => cards.map((_) => _.pageId));\n\n    if (window.history && window.history.replaceState) {\n      const maxPageId = Math.max(0, ...pageIds.flat());\n      const codeLength = Math.ceil(Math.log(maxPageId + 1) / Math.log(62)) || 0;\n\n      function renderWarjackWeaponIds(warjackWeaponIds, codeLength) {\n        const ids = warjackWeaponIds || [];\n        let res = \"\";\n        for (let i = 0; i < ids.length; i++) {\n          const id = ids[i];\n          res += (id ? toBase62(id) : \"0\").padStart(codeLength, \"0\");\n        }\n        return res;\n      }\n\n      const state = lists.reduce(\n        (state, list, index) => ({\n          ...state,\n          ...(list.title ? { [`t${index}`]: list.title } : {}),\n          [`l${index}`]: list.cards.reduce(\n            (acc, card) =>\n              acc +\n              toBase62(card.pageId).padStart(codeLength, \"0\") +\n              (card.cortexIds || card.warjackWeaponIds\n                ? `(${(card.cortexIds || [])\n                    .map((id) => toBase62(id).padStart(codeLength, \"0\"))\n                    .join(\"\")},${renderWarjackWeaponIds(\n                    card.warjackWeaponIds,\n                    codeLength\n                  )})`\n                : \"\") +\n              (card.vehicleWeaponId\n                ? `[${toBase62(card.vehicleWeaponId).padStart(\n                    codeLength,\n                    \"0\"\n                  )}]`\n                : \"\"),\n            \"\"\n          ),\n        }),\n        { v: 1, e: codeLength }\n      );\n\n      const query = Object.entries(state)\n        .map(([key, value]) => `${key}=${value}`)\n        .join(\"&\");\n      const url =\n        window.location.origin + window.location.pathname + \"?\" + query;\n\n      yield put(Url.set({ url }));\n\n      window.history.replaceState(query, \"\", url);\n    }\n  }\n}\n\nfunction* parseListsFromQuery() {\n  const loadChannel = eventChannel((emitter) => {\n    window.addEventListener(\"load\", emitter);\n\n    return () => {\n      window.removeEventListener(\"load\", emitter);\n    };\n  });\n\n  while (true) {\n    yield take(loadChannel);\n\n    yield* parseLists();\n  }\n}\n\nfunction* parseListsFromQuery2() {\n  yield take(AppSync.done().type);\n\n  yield* parseLists();\n}\n\nfunction* parseLists() {\n  const urlParams = new URLSearchParams(window.location.search);\n  const params = Object.fromEntries(urlParams);\n\n  const version = params.v;\n  const exponent = parseInt(params.e, 10) || 0;\n\n  let lists = null;\n  if (version === \"1\" && exponent) {\n    const listIndexes = Object.keys(params)\n      .filter((key) => key.match(/^l[\\d]+$/))\n      .map((key) => parseInt(key.substring(1), 10))\n      .sort((a, b) => a - b);\n\n    lists = listIndexes.map((index) => ({\n      title: params[\"t\" + index] || \"\",\n      cards: parseList(exponent, params[\"l\" + index]),\n    }));\n  } else {\n    lists = yield select(Lists.select());\n  }\n\n  // If the card is either a configured warjack or a configured vehicle, its page must be\n  // fetched in order for its subtitle to be shown correctly. A warjack or vehicle can be\n  // identified by having at least one cortex id, warjack weapon id or vehicle weapon id.\n  for (const list of lists) {\n    for (const {\n      pageId,\n      cortexIds,\n      warjackWeaponIds,\n      vehicleWeaponId,\n    } of list.cards) {\n      if (cortexIds || warjackWeaponIds || vehicleWeaponId) {\n        const page = yield select(PageIds.selectPageByPageId(pageId));\n        if (page) {\n          yield* Requests.parsePage({ page, parserName: \"parseModel\" });\n        }\n      }\n    }\n  }\n\n  yield put(Lists.set({ lists }));\n}\n\nfunction* fetchWeaponsIfVehicleAdded() {\n  while (true) {\n    const { payload } = yield take(Models.setForPage().type);\n    if (\n      payload &&\n      payload.model &&\n      payload.model.types &&\n      payload.model.types.map((type) => type.text).includes(\"Vehicle\")\n    ) {\n      const vehicleWeaponSelection = payload.model.vehicleWeaponSelection;\n      if (vehicleWeaponSelection) {\n        for (const { page } of vehicleWeaponSelection) {\n          if (page) {\n            const pageWithoutTarget = page.split(\"#\")[0];\n            const weapon = yield select(\n              VehicleWeapons.selectByPage(pageWithoutTarget)\n            );\n            if (!weapon) {\n              yield put(\n                VehicleWeapons.setForPage({\n                  page: pageWithoutTarget,\n                  vehicleWeapon: {},\n                })\n              );\n            }\n            yield* Requests.parsePage({\n              page: pageWithoutTarget,\n              parserName: \"parseVehicleOrWarjackWeapon\",\n            });\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction* fetchWeaponsIfWarjackAdded() {\n  while (true) {\n    const { payload } = yield take(Models.setForPage().type);\n    if (\n      payload &&\n      payload.model &&\n      payload.model.types &&\n      payload.model.types.map((type) => type.text).includes(\"Warjack\")\n    ) {\n      const weaponDetails = payload.model.weaponDetails;\n      if (weaponDetails) {\n        for (const { Weapon } of weaponDetails) {\n          const page = Weapon.page;\n          if (page) {\n            const pageWithoutTarget = page.split(\"#\")[0];\n            const weapon = yield select(\n              WarjackWeapons.selectByPage(pageWithoutTarget)\n            );\n            if (!weapon) {\n              yield put(\n                WarjackWeapons.setForPage({\n                  page: pageWithoutTarget,\n                  warjackWeapon: {},\n                })\n              );\n            }\n            yield* Requests.parsePage({\n              page: pageWithoutTarget,\n              parserName: \"parseVehicleOrWarjackWeapon\",\n            });\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction* fetchCardOnShow() {\n  while (true) {\n    const { payload } = yield take(Lists.toggleCard().type);\n    if (payload && payload.pageId) {\n      const page = yield select(PageIds.selectPageByPageId(payload.pageId));\n      if (page) {\n        const cypher = yield select(CypherCodecs.selectByPage(page));\n        if (cypher) {\n          yield* Requests.parsePage({ page, parserName: \"parseCypher\" });\n        } else {\n          yield* Requests.parsePage({ page, parserName: \"parseModel\" });\n        }\n      }\n    }\n  }\n}\n\nfunction parseList(exponent, encodedList) {\n  function parseCards(cards, rest) {\n    if (rest === \"\") {\n      return cards;\n    }\n\n    const pageId = rest.slice(0, exponent);\n\n    if (rest[exponent] === \"(\") {\n      const blockEnd = rest.indexOf(\")\");\n      const delimiter = rest.indexOf(\",\");\n      if (!blockEnd || !delimiter) {\n        return [];\n      }\n\n      const block = rest.slice(exponent + 1, blockEnd);\n      const [cortexIds, warjackWeaponIds] = block.split(\",\");\n      return parseCards(\n        [\n          ...cards,\n          {\n            pageId,\n            cortexIds: partitionBy(exponent, cortexIds),\n            warjackWeaponIds: partitionBy(exponent, warjackWeaponIds),\n            vehicleWeaponId: [],\n          },\n        ],\n        rest.slice(blockEnd + 1)\n      );\n    }\n\n    if (rest[exponent] === \"[\") {\n      const blockEnd = rest.indexOf(\"]\");\n      if (!blockEnd) {\n        return [];\n      }\n\n      const vehicleWeaponId = rest.slice(exponent + 1, blockEnd);\n      return parseCards(\n        [\n          ...cards,\n          {\n            pageId,\n            cortexIds: [],\n            warjackWeaponIds: [],\n            vehicleWeaponId: [vehicleWeaponId],\n          },\n        ],\n        rest.slice(blockEnd + 1)\n      );\n    }\n\n    return parseCards(\n      [\n        ...cards,\n        { pageId, cortexIds: [], warjackWeaponIds: [], vehicleWeaponId: [] },\n      ],\n      rest.slice(exponent)\n    );\n  }\n\n  const cards = parseCards([], encodedList);\n\n  const decode = (string) => {\n    const normalizedString = string.replace(/^0+/, \"\") || \"0\";\n    if (normalizedString === \"0\") return null;\n    return parseInt(fromBase62(normalizedString), 10);\n  };\n\n  return cards\n    .map(({ pageId, cortexIds, warjackWeaponIds, vehicleWeaponId }) => ({\n      pageId: decode(pageId),\n      cortexIds: cortexIds.map(decode),\n      warjackWeaponIds: warjackWeaponIds.map(decode),\n      vehicleWeaponId: vehicleWeaponId.map(decode),\n    }))\n    .map(({ pageId, cortexIds, warjackWeaponIds, vehicleWeaponId }) => ({\n      pageId,\n      ...(cortexIds.length === 0 ? {} : { cortexIds }),\n      ...(warjackWeaponIds.length === 0 ? {} : { warjackWeaponIds }),\n      ...(vehicleWeaponId.length === 0\n        ? {}\n        : { vehicleWeaponId: vehicleWeaponId[0] }),\n      hidden: true,\n    }));\n}\n\nfunction partitionBy(slice, string) {\n  var strings = [];\n\n  for (let i = 0; i < string.length; i += slice) {\n    strings[strings.length] = string.slice(i, i + slice);\n  }\n\n  return strings;\n}\n","import { all, put, select } from \"redux-saga/effects\";\nimport { RefreshWikiPages } from \"../../messages\";\nimport { Requests } from \"../../state/io/Requests\";\nimport { cacheParserNames } from \"./cacheParserNames\";\nimport { cacheWikiPages } from \"./cacheWikiPages\";\nimport { fetchCadres } from \"./fetchCadres\";\nimport { parseWikiPages } from \"./parseWikiPages\";\nimport { triggerFetchWikiPages } from \"./triggerFetchWikiPages\";\nimport { ui } from \"./ui\";\n\nfunction* processes() {\n  yield all([\n    continuePending(),\n    cacheWikiPages(),\n    parseWikiPages(),\n    triggerFetchWikiPages(),\n    cacheParserNames(),\n    ui(),\n    fetchCadres(),\n    fetchInitialData(),\n    refresh(),\n  ]);\n}\n\nexport { processes };\n\nfunction* fetchInitialData() {\n  const pages = [\n    { page: \"Warcaster\", parserName: \"parseFactions\" },\n    { page: \"Wild_Card\", parserName: \"parseWildCard\" },\n    { page: \"Cypher_Codecs\", parserName: \"parseCypherCodecs\" },\n  ];\n  for (const page of pages) {\n    yield* Requests.parsePage(page);\n  }\n}\n\nfunction* continuePending() {\n  const pending = yield select(Requests.selectPending());\n  for (const params of pending) {\n    yield put(Requests.fetch(params));\n  }\n}\n\nfunction* refresh() {\n  yield put(RefreshWikiPages());\n}\n","import { StateShard } from \"./utils\";\n\nconst Version = StateShard(\"Version\", init, {}, {}, {});\n\nexport { Version };\n\nfunction init(state) {\n  state.version = \"2023-06-04T21:13:15.000Z\";\n}\n","import { AppSync } from \"./AppSync\";\nimport { CadreCategoryMembers } from \"./CadreCategoryMembers\";\nimport { CadreModels } from \"./CadreModels\";\nimport { Cyphers } from \"./Cyphers\";\nimport { CypherCodecs } from \"./CypherCodecs\";\nimport { EditMode } from \"./EditMode\";\nimport { Factions } from \"./Factions\";\nimport { FactionModels } from \"./FactionModels\";\nimport { Lists } from \"./Lists\";\nimport { Models } from \"./Models\";\nimport { PageIds } from \"./PageIds\";\nimport { ParserNames } from \"./ParserNames\";\nimport { Requests } from \"./io/Requests\";\nimport { Url } from \"./Url\";\nimport { VehicleWeapons } from \"./VehicleWeapons\";\nimport { Version } from \"./Version\";\nimport { WarjackWeapons } from \"./WarjackWeapons\";\nimport { WildCardModels } from \"./WildCardModels\";\nimport { immer, initAll } from \"./utils\";\n\nconst objects = [\n  AppSync,\n  CadreCategoryMembers,\n  CadreModels,\n  CypherCodecs,\n  Cyphers,\n  EditMode,\n  Factions,\n  FactionModels,\n  Models,\n  PageIds,\n  ParserNames,\n  Requests,\n  Url,\n  VehicleWeapons,\n  WarjackWeapons,\n  WildCardModels,\n  // UI\n  Lists,\n  // General\n  Version,\n];\n\nconst state = initAll(...objects)({});\n\nconst dispatch = immer(({ type, payload }) => {\n  const namespaces = Object.fromEntries(\n    objects.map((group) => [group.namespace, group])\n  );\n\n  const namespace = type.substring(0, type.indexOf(\".\"));\n  if (namespace && namespaces[namespace]) {\n    return redirect({ type, payload }, namespaces[namespace]);\n  }\n  if (type === \"CH\") {\n    return (state) => {\n      const url =\n        \"https://privateerpress.wiki/api.php?action=parse&page=Particle_Blaster&formatversion=2&format=json\";\n      state.io.requests.cached[url].data.parse.revid = 0;\n    };\n  }\n  if (type === \"RE\") {\n    return (state) => {\n      state.data.cadreCategoryMembers = {};\n      state.data.cadreModels = {};\n      state.data.models = {};\n      state.data.warjackWeapons = {};\n      for (const page of Object.keys(state.data.pages)) {\n        const white_list = [\n          \"Warcaster\",\n          \"Wild_Card\",\n          \"Cypher_Codecs\",\n          \"Aeternus_Continuum\",\n          \"Empyrean\",\n          \"Iron_Star_Alliance\",\n          \"Marcher_Worlds\",\n        ];\n        if (!white_list.includes(page)) {\n          delete state.data.pages[page];\n        }\n      }\n    };\n  }\n  return (state) => state;\n});\n\nexport { dispatch, state };\n\nfunction redirect(action, obj) {\n  return (state) =>\n    immer(({ type, payload }) => {\n      const f = obj.dispatch[type] || ((state, payload) => state);\n      return (state) => f(state, payload);\n    })(state, action);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport \"./index.css\";\nimport App from \"./ui/App\";\nimport { processes } from \"./businessLogic/processes\";\nimport { dispatch, state } from \"./state\";\n\nconst saga = initSaga();\nconst store = initStore(saga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nsaga.run(processes);\n\nfunction initStore(saga) {\n  const reset = document.location.search === \"?reset\";\n\n  const persistedState = localStorage.getItem(\"reduxState\")\n    ? JSON.parse(localStorage.getItem(\"reduxState\"))\n    : state;\n\n  const latestState =\n    !reset && new Date(persistedState.version) >= new Date(state.version)\n      ? persistedState\n      : state;\n\n  const composedEnhancers = composeWithDevTools(applyMiddleware(saga));\n  const store = createStore(dispatch, latestState, composedEnhancers);\n\n  store.subscribe(() => {\n    localStorage.setItem(\"reduxState\", JSON.stringify(store.getState()));\n  });\n\n  return store;\n}\n\nfunction initSaga() {\n  return createSagaMiddleware();\n}\n"],"sourceRoot":""}