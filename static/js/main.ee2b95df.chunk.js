(this.webpackJsonpwarfaster=this.webpackJsonpwarfaster||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),s=n.n(c),i=n(50),o=n(36),l=n(81),d=n(93),u=(n(116),n(46)),j=n(14),p=n(11),b=n(10),f=(n(117),n(125)),x=n(127),O=n(130),h=n(63),g=n(43),v=n(126),m=n(129),y=n(103),I=n(128),k=n(131),w=n(132),S=n(133),C=n(134),W=n(135),_=n(62),P=n.p+"static/media/Aeternus_Continuum.d1b19d0e.png",F=n.p+"static/media/Cyphers.1ae05c50.png",N=n.p+"static/media/Empyrean.4ab49225.png",E=n.p+"static/media/Iron_Star_Alliance.82d76402.png",R=n.p+"static/media/Lost_Legion.78737fb2.png",M=n.p+"static/media/Marcher_Worlds.61a330cf.png",A=n.p+"static/media/Wild_Card.3da9dbca.png",T=G("CARD/DRAG_ENDED"),L=G("CARD/DRAG_STARTED"),q=G("MENU_ITEM/CLICKED"),D=G("PAGE_IDS_SLICE/FETCH"),B=G("WIKI_PAGE/FETCH"),z=G("WIKI_PAGE/FETCHED"),H=G("WIKI_PAGE_REVISIONS/FETCH"),U=G("WIKI_PAGE_REVISIONS/FETCHED"),V=G("WIKI_PAGES/REFRESH");function G(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e,payload:t}}}var K=n(30),Y=n(88),J=function(e){return function(t,n){return Object(Y.a)(e(n)||$)(t)}},Z=function(e,t,n,a){return Object(j.a)(Object(j.a)({namespace:e,init:t,dispatch:Object.fromEntries(Object.entries(n).map((function(t){var n=Object(p.a)(t,2),a=n[0],r=n[1];return[e+"."+a,r]})))},Object.fromEntries(Object.entries(n).map((function(t){var n=Object(p.a)(t,2),a=n[0];return[n[1].name,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e+"."+a,payload:t}}]})))),Object.fromEntries(Object.entries(a).map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return[n,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return a.apply(void 0,[e].concat(t))}}]}))))};function $(e){return e}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n,a=Object(K.a)(t);try{for(a.s();!(n=a.n()).done;){e=(0,n.value)(e)}}catch(r){a.e(r)}finally{a.f()}return e}}var X=Z("AppSync",(function(e){e.data||(e.data={});e.data.sync||(e.data.sync={});e.data.sync.done=!1,e.data.sync.reasons=[]}),{done:function(e){ee(e).done=!0},addReasons:function(e,t){var n=t.reasons,a=ee(e);a.reasons=[].concat(Object(b.a)(a.reasons),Object(b.a)(n))}},{selectDone:function(e){return ee(e).done},selectReasons:function(e){return ee(e).reasons}});function ee(e){return e.data.sync}var te=Z("CypherCodecs",(function(e){e.data||(e.data={});e.data.cypherCodecs=[]}),{set:function(e,t){var n=t.cypherCodecs;e.data.cypherCodecs=n}},{select:ne,selectPages:function(e){return ne(e).map((function(e){return e.Cypher.page}))},selectByPage:function(e,t){return ne(e).find((function(e){return e.Cypher.page===t}))}});function ne(e){return e.data.cypherCodecs}var ae=Z("Cyphers",(function(e){e.data||(e.data={});e.data.cyphers={}}),{set:function(e,t){var n=t.page,a=t.cypher;re(e)[n]=a}},{select:re,selectByPage:function(e,t){var n=re(e);return Object.values(n).flat().find((function(e){return e.name.page===t}))}});function re(e){return e.data.cyphers}var ce=Z("Dragging",(function(e){e.ui||(e.ui={});e.ui.dragging=!1}),{activate:function(e){e.ui.dragging=!0},deactivate:function(e){e.ui.dragging=!1}},{select:function(e){return e.ui.dragging}});var se=Z("FactionModels",(function(e){e.data||(e.data={});e.data.factionModels={}}),{set:function(e,t){var n=t.page,a=t.factionModels,r=ie(e);r[n]||(r[n]=[]);r[n]=[].concat(Object(b.a)(r[n]),Object(b.a)(a))}},{select:ie,selectModelPages:function(e){var t=ie(e);return Object.values(t).flat().map((function(e){return e.Name.page}))},selectByPage:function(e,t){var n=ie(e);return Object.values(n).flat().find((function(e){return e.Name.page===t}))}});function ie(e){return e.data.factionModels}var oe=Z("Factions",(function(e){e.data||(e.data={});e.data.factions={}}),{set:function(e,t){var n=t.factions;e.data.factions=n}},{select:le,selectPages:function(e){var t=le(e);return Object.keys(t)}});function le(e){return e.data.factions}var de=Z("Lists",(function(e){e.ui||(e.ui={});e.ui.lists=ue}),{addCard:function(e,t){var n=t.pageId,a=pe(e),r={pageId:n,hidden:!0};a[0].cards.push(r)},addEmptyList:je,moveListBy:function(e,t){var n=t.listIndex,a=t.by,r=pe(e);if(a>0&&n+a<r.length||a<0&&n+a>=0){var c=r[n];r.splice(n,1),r.splice(n+a,0,c)}},removeCard:function(e,t){var n=t.source;pe(e)[n.listIndex].cards.splice(n.cardIndex,1)},removeList:function(e,t){var n=t.listIndex,a=pe(e);a.splice(n,1),0===a.length&&je(e,{listIndex:0})},set:function(e,t){var n=t.lists;e.ui.lists=n.length>0?n:ue},setCardCortex:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.pageId,c=t.cortexIds,s=pe(e)[n].cards[a];s.pageId===r&&(s.cortexIds=c)},setCardVehicleWeapon:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.pageId,c=t.vehicleWeaponId,s=pe(e)[n].cards[a];s.pageId===r&&(s.vehicleWeaponId=c)},setCardWarjackWeapons:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.hardpointNameIndex,c=t.pageId,s=t.warjackWeaponId,i=pe(e)[n].cards[a];i.pageId===c&&(i.warjackWeaponIds||(i.warjackWeaponIds=[]),i.warjackWeaponIds[r]=s)},setListTitle:function(e,t){var n=t.listIndex,a=t.title;pe(e)[n].title=a},toggleCard:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.pageId,c=pe(e)[n].cards[a];c.pageId===r&&(c.hidden=!c.hidden)},moveCard:function(e,t){var n=t.destination,a=t.source,r=pe(e),c=r[a.listIndex].cards[a.cardIndex];r[a.listIndex].cards.splice(a.cardIndex,1),r[n.listIndex].cards.splice(n.cardIndex,0,c)}},{select:pe}),ue=[{title:"Empty",cards:[]}];function je(e,t){var n=t.listIndex;pe(e).splice(n,0,ue[0])}function pe(e){return e.ui.lists}var be=Z("PageIds",(function(e){e.data||(e.data={});e.data.pageIds={}}),{addPages:function(e,t){var n=t.pageIdByTitle,a=fe(e);for(var r in n)a[r]=n[r]}},{select:fe,selectByPage:function(e,t){return fe(e)[t]},selectByPages:function(e,t){var n=fe(e);return t.reduce((function(e,t){return[].concat(Object(b.a)(e),[n[t]])}),[])},selectPageByPageId:function(e,t){var n=fe(e);return Object.entries(n).reduce((function(e,n){var a=Object(p.a)(n,2),r=a[0],c=a[1];return e||(c===t?r:e)}),void 0)}});function fe(e){return e.data.pageIds}var xe=Z("Url",(function(e){e.ui||(e.ui={});e.ui.url=""}),{set:function(e,t){var n=t.url;e.ui.url=n}},{select:function(e){return e.ui.url}});var Oe=Z("WildCardModels",(function(e){e.data||(e.data={});e.data.wildCardModels={}}),{set:function(e,t){var n,a=t.wildCards,r=he(e),c=Object(K.a)(a);try{for(c.s();!(n=c.n()).done;){var s=n.value;r[s.faction]=s.models}}catch(i){c.e(i)}finally{c.f()}}},{select:he,selectByPage:function(e,t){var n=he(e);return Object.values(n).flat().find((function(e){return e.Name.page===t}))},selectModelPages:function(e){var t=he(e);return Object.values(t).flat().map((function(e){return e.Name.page}))}});function he(e){return e.data.wildCardModels}var ge=Z("Models",(function(e){e.data||(e.data={});e.data.models={}}),{set:function(e,t){var n=t.page,a=t.model;ve(e)[n]=a}},{select:ve,selectByPage:function(e,t){var n=ve(e);return Object.values(n).flat().find((function(e){return e.name.page===t}))}});function ve(e){return e.data.models}var me=n(1),ye=f.a.Header,Ie=f.a.Footer,ke=f.a.Content,we=x.a.TextArea,Se=O.a.SubMenu;function Ce(e){var t=e.faction;switch(t){case"Aeternus_Continuum":return Object(me.jsx)("img",{src:P,alt:t,height:"35px"});case"Empyrean":return Object(me.jsx)("img",{src:N,alt:t,height:"35px"});case"Iron_Star_Alliance":return Object(me.jsx)("img",{src:E,alt:t,height:"35px"});case"Lost_Legion":return Object(me.jsx)("img",{src:R,alt:t,height:"35px"});case"Marcher_Worlds":return Object(me.jsx)("img",{src:M,alt:t,height:"35px"});case"Wild_Card":return Object(me.jsx)("img",{src:A,alt:t,height:"35px"});case"Universal":default:return Object(me.jsx)("img",{src:F,alt:t,height:"35px"})}}var We=Object(i.b)((function(e){return{initialized:X.selectDone()(e),syncReasons:X.selectReasons()(e),factionModels:Object.entries(se.select()(e)).sort().map((function(t){var n=Object(p.a)(t,2),a=n[0],r=n[1];return[oe.select()(e)[a].text,a,r.map((function(e){return Object(j.a)({name:e.Name.text,page:e.Name.page,type:e.Type.text},e.Subtype?{subtype:e.Subtype.map((function(e){return e.text})).join(" ")}:{})}))]})),wildCardModels:Object.fromEntries(Object.entries(Oe.select()(e)).sort().map((function(e){var t=Object(p.a)(e,2);return[t[0],t[1].map((function(e){return Object(j.a)({name:e.Name.text,page:e.Name.page,type:e.Type.text},e.Subtype?{subtype:e.Subtype.map((function(e){return e.text})).join(" ")}:{})}))]}))),cypherCodecs:te.select()(e),lists:de.select()(e).map((function(t){return{title:t.title,cards:t.cards.flatMap((function(t){var n=t.pageId,a=t.cortexIds,r=t.warjackWeaponIds,c=t.vehicleWeaponId,s=t.hidden,i=be.select()(e),o=Object.entries(i).filter((function(e){var t=Object(p.a)(e,2);t[0];return t[1]===n})).map((function(e){var t=Object(p.a)(e,2),n=t[0];t[1];return n}))[0]||"",l=Object.entries(e.data.factionModels).flatMap((function(e){var t=Object(p.a)(e,2),n=t[0];return t[1].map((function(e){return Object(j.a)(Object(j.a)({},e),{},{faction:n})}))})).find((function(e){return e.Name.page===o})),d=Object.entries(e.data.wildCardModels).flatMap((function(e){var t=Object(p.a)(e,2),n=t[0];return t[1].map((function(e){return Object(j.a)(Object(j.a)({},e),{},{faction:n})}))})).find((function(e){return e.Name.page===o})),u=e.data.cypherCodecs.find((function(e){return e.Cypher.page===o}));if(l){var b=ge.selectByPage(o)(e);return[Object(j.a)(Object(j.a)({card:"model",hidden:s,type:l.Type.text,title:l.Name.text,page:l.Name.page,pageId:n,cortexIds:a,warjackWeaponIds:r,vehicleWeaponId:c,faction:l.faction},l.Subtype?{subtype:l.Subtype.map((function(e){return e.text})).join(" ")}:{}),b?{details:Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},b),b.hardpoints?{hardpointNames:Ee(b.hardpoints)}:{}),b.cortexSelections?{cortexSelections:Object.fromEntries(Object.entries(b.cortexSelections).map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return[n,Object.fromEntries(Object.entries(a).map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1],r=a.text,c=a.category;return[n,{text:r,categoryId:i[c]}]})))]})))}:{}),b.warjackWeaponSelections?{warjackWeaponSelections:Object.fromEntries(Object.entries(b.warjackWeaponSelections).map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return[n,Object(j.a)(Object(j.a)({},a),{},{pageId:i[n]})]})))}:{}),b.vehicleWeaponSelection?{vehicleWeaponSelection:b.vehicleWeaponSelection.map((function(e){var t=e.text,n=e.page;return{text:t,page:n,pageId:i[n]}}))}:{})}:{})]}if(d){var f=ge.selectByPage(o)(e);return[Object(j.a)(Object(j.a)({card:"model",hidden:s,type:d.Type.text,title:d.Name.text,page:d.Name.page,pageId:n,faction:"Wild_Card"},d.Subtype?{subtype:d.Subtype.map((function(e){return e.text})).join(" ")}:{}),{},{details:f})]}if(u){var x=ae.selectByPage(o)(e);return[Object(j.a)(Object(j.a)({card:"cypher",hidden:s,type:u.Type.text,title:u.Cypher.text,page:u.Cypher.page,pageId:n},"Universal"===u.Faction.text?{faction:"Universal"}:{faction:u.Faction.page}),{},{details:x})]}return[]}))}})),dragging:ce.select()(e),url:xe.select()(e)}}),(function(e){return{toggleCard:function(t,n,a,r){return function(){return e(de.toggleCard({listIndex:t,cardIndex:n,pageId:a,card:r}))}},dragStart:function(t){return e(L(t))},dragEnd:function(t){return e(T(t))},menuItemClicked:function(t){return function(n){e(q({page:t})),n.stopPropagation()}},removeList:function(t){return function(){return e(de.removeList({listIndex:t}))}},addEmptyList:function(t){return function(){return e(de.addEmptyList({listIndex:t}))}},moveListBy:function(t,n){return function(){return e(de.moveListBy({listIndex:t,by:n}))}},setListTitle:function(t){return function(n){return e(de.setListTitle({listIndex:t,title:n.target.value}))}},setUrl:function(t){return e(xe.set({url:t.target.value}))},bookmark:function(){var e=document.querySelector(".bookmark input");if(e)if(navigator.userAgent.match(/ipad|iphone/i)){var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,999999)}else e.select()},open:function(e){if("Enter"===e.key){var t=document.querySelector(".bookmark input").value;t&&window.open(t,"_self")}},setCardCortex:function(t,n,a){return function(r,c){var s=c.label;return e(de.setCardCortex({listIndex:t,cardIndex:n,pageId:a,cortexIds:s}))}},setCardWarjackWeapons:function(t,n,a,r){return function(c,s){var i=s.label;return e(de.setCardWarjackWeapons({listIndex:t,cardIndex:n,hardpointNameIndex:a,pageId:r,warjackWeaponId:i}))}},setCardVehicleWeapon:function(t,n,a){return function(r,c){var s=c.label;return e(de.setCardVehicleWeapon({listIndex:t,cardIndex:n,pageId:a,vehicleWeaponId:s}))}}}}))((function(e){var t=e.initialized,n=e.syncReasons,a=e.factionModels,c=e.wildCardModels,s=e.cypherCodecs,i=e.dragging,o=e.menuItemClicked,l=e.dragEnd,d=e.dragStart,x=e.lists,P=e.toggleCard,F=e.removeList,N=e.addEmptyList,E=e.moveListBy,R=e.setListTitle,M=e.setUrl,A=e.url,T=e.bookmark,L=e.open,q=e.setCardCortex,D=e.setCardWarjackWeapons,B=e.setCardVehicleWeapon,z=[].concat(Object(b.a)([].concat(Object(b.a)(a),Object(b.a)(Object.entries(c))).map((function(e,t){return"sub".concat(t)}))),["cypher_codecs"]),H=r.a.useState(["sub0"]),U=Object(p.a)(H,2),V=U[0],G=U[1];return Object(me.jsx)("div",{className:"App",children:Object(me.jsx)(f.a,{children:Object(me.jsx)(f.a,{children:Object(me.jsxs)(_.a,{onDragStart:d,onDragEnd:l,children:[Object(me.jsx)(ye,{children:Object(me.jsx)(_.c,{droppableId:"trash_header",children:function(e){return Object(me.jsxs)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[i?Object(me.jsx)("div",{style:{animation:"shake 0.82s cubic-bezier(.36,.07,.19,.97) both",color:"white"},children:Object(me.jsx)(k.a,{})}):Object(me.jsx)("a",{className:"logo",href:"/",children:"WARFASTER"}),e.placeholder]}))}},"trash_header")}),t?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ke,{children:Object(me.jsxs)(O.a,{id:"factions",openKeys:V,onOpenChange:function(e){var t=e.find((function(e){return-1===V.indexOf(e)}));-1===z.indexOf(t)?G(e):G(t?[t]:[])},mode:"horizontal",triggerSubMenuAction:"click",children:[a.map((function(e){var t=Object(p.a)(e,3),n=t[0],a=t[1],r=t[2];return Object(me.jsxs)(Se,{icon:Object(me.jsx)(Ce,{faction:a}),children:[Object(me.jsx)(O.a.ItemGroup,{title:n,children:r.map((function(e){var t=e.name,n=e.page,r=e.type,c=e.subtype,s=t.slice(0,40);return Object(me.jsx)(O.a.Item,{className:a,children:Object(me.jsxs)("span",{onClick:o(n),children:[Object(me.jsx)("span",{className:"card",children:s.length===t.length?s:Object(me.jsxs)(y.a,{placement:"top",title:t,children:[s,"..."]})}),Object(me.jsxs)("span",{className:"types",children:[c||"",r?(c?" ":"")+r:""]})]})},a+":"+n)}))}),Object(me.jsx)(O.a.ItemGroup,{title:"".concat(n," Wild Cards"),children:(c[a]||[]).sort((function(e,t){return e.type<t.type?-1:1})).map((function(e,t){var n=e.name,r=e.page,c=e.type,s=e.subtype,i=n.slice(0,40);return Object(me.jsx)(O.a.Item,{children:Object(me.jsxs)("span",{onClick:o(r),children:[Object(me.jsx)("span",{className:"card",children:i.length===n.length?i:Object(me.jsxs)(y.a,{placement:"top",title:n,children:[i,"..."]})}),Object(me.jsxs)("span",{className:"types",children:[s||"",c?(s?" ":"")+c:""]})]})},a+":"+r)}))})]},a)})),Object(me.jsx)(Se,{icon:Object(me.jsx)(Ce,{faction:"Cyphers"}),children:Object.entries(s.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t.Faction.text,[].concat(Object(b.a)(e[t.Faction.text]||[]),[t])))}),{})).sort().map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(me.jsx)(O.a.ItemGroup,{title:"".concat(n," Cyphers"),children:a.sort((function(e,t){return e.Type.text<t.Type.text?-1:1})).map((function(e){var t=e.Cypher,n=e.Type;return Object(me.jsx)(O.a.Item,{className:n.text,children:Object(me.jsxs)("span",{onClick:o(t.page),children:[Object(me.jsx)("span",{className:"card",children:t.text}),Object(me.jsx)("span",{className:"types",children:n.text})]})},":"+t.page)}))},n)}))},"cypher_codecs")]})}),Object(me.jsx)(ke,{children:Object(me.jsx)(f.a,{children:Object(me.jsx)(h.a,{gutter:16,children:x.map((function(e,t){var n=e.title,a=e.cards;return Object(me.jsx)(g.a,{xs:24,sm:12,md:12,lg:12,xl:8,xxl:8,children:Object(me.jsxs)("div",{className:"cards",children:[Object(me.jsx)(y.a,{placement:"top",color:"transparent",trigger:"click",align:{offset:[0,17]},title:Object(me.jsxs)("div",{className:"ant-tooltip-inner-box",children:[Object(me.jsx)("div",{onClick:F(t),style:{cursor:"pointer",display:"inline-block",paddingRight:"4px",fontSize:"1.5em"},children:Object(me.jsx)(k.a,{})}),Object(me.jsx)("div",{onClick:N(t),style:{cursor:"pointer",display:"inline-block",padding:"0 4px",fontSize:"1.5em"},children:Object(me.jsx)(S.a,{})}),Object(me.jsx)("div",{onClick:E(t,-1),style:{cursor:"pointer",display:"inline-block",padding:"0 4px",fontSize:"1.5em"},children:Object(me.jsx)(C.a,{})}),Object(me.jsx)("div",{onClick:E(t,1),style:{cursor:"pointer",display:"inline-block",paddingLeft:"4px",fontSize:"1.5em"},children:Object(me.jsx)(W.a,{})})]}),children:Object(me.jsx)("div",{style:{cursor:"pointer"},className:"header",children:Object(me.jsxs)(h.a,{children:[Object(me.jsx)(g.a,{span:16,className:"army-list-title",children:Object(me.jsx)(we,{placeholder:"Name your list",value:n,maxLength:30,autoSize:!0,onChange:R(t)})}),Object(me.jsx)(g.a,{span:8,className:"faction-icons",children:Object.entries(a.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),t.faction?Object(u.a)({},t.faction,(e[t.faction]||0)+1):{Universal:(e.Universal||0)+1})}),{})).sort().map((function(e,t){var n=Object(p.a)(e,2),a=n[0],r=n[1];return Object(me.jsx)(m.a,{size:"small",count:r,offset:[0,10],children:Object(me.jsx)(Ce,{faction:a})},"badge".concat(t))}))})]})})}),Object(me.jsx)(_.c,{droppableId:"cards_".concat(t),children:function(e){return Object(me.jsxs)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[a.map((function(e,n){var a=e.card,c=e.hidden,s=e.type,i=e.title,o=e.page,l=e.pageId,d=e.cortexIds,u=e.vehicleWeaponId,f=e.warjackWeaponIds,x=e.subtype,O=e.faction,h=e.details;return Object(me.jsx)(_.b,{draggableId:"".concat(o,"_").concat(t,"_").concat(n),index:n,children:function(e){return Object(me.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"body",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(me.jsxs)(v.a,{hoverable:!0,className:["card",O,s],onClick:P(t,n,l,a),children:[Object(me.jsx)(v.a.Meta,{avatar:O?Object(me.jsx)("div",{style:{height:"25px",width:"35px",textAlign:"center"},children:Object(me.jsx)(Ce,{faction:O})}):Object(me.jsx)(Ce,{faction:"Universal"}),title:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("div",{children:i}),Object(me.jsxs)("div",{className:"card-type",children:[(O||"").replace(/_/g," "),x?" "+x:"",s?" "+s:""]}),Object(me.jsx)("div",{children:Object(me.jsx)("span",{className:"subtitle",children:[].concat(Object(b.a)(h&&h.vehicleWeaponSelection&&Pe(h.vehicleWeaponSelection,u)?[Pe(h.vehicleWeaponSelection,u)]:[]),Object(b.a)(h&&h.cortexSelections&&_e(h.cortexSelections,d)?[_e(h.cortexSelections,d)]:[]),Object(b.a)(h&&h.warjackWeaponSelections&&f&&0!==f.length?(o=h.warjackWeaponSelections,g=f,g.flatMap((function(e){var t=Object.values(o).find((function(t){var n=t.pageId;return n===e}));return t?[t.name]:[]}))):[])).join(", ")})})]})}),c?Object(me.jsx)(me.Fragment,{}):h?Object(me.jsxs)("div",{className:"card-content",children:[h.pow?Object(me.jsxs)("p",{children:["Pow: ",h.pow.text]}):Object(me.jsx)(me.Fragment,{}),h.effect&&0!==h.effect.length?h.effect.map((function(e,t){return Object(me.jsx)("p",{children:e},"effect_".concat(t))})):Object(me.jsx)(me.Fragment,{}),h.squadSize?Object(me.jsxs)("dl",{children:[Object(me.jsx)("dt",{children:"Squad Size"}),Object(me.jsx)("dd",{children:h.squadSize})]}):Object(me.jsx)(me.Fragment,{}),h.deploymentCost?Object(me.jsxs)("dl",{children:[Object(me.jsx)("dt",{children:"DC"}),Object(me.jsx)("dd",{children:h.deploymentCost})]}):Object(me.jsx)(me.Fragment,{}),h.baseSize?Object(me.jsxs)("dl",{children:[Object(me.jsx)("dt",{children:"Base Size"}),Object(me.jsx)("dd",{children:h.baseSize})]}):Object(me.jsx)(me.Fragment,{}),h.health?Object(me.jsxs)("dl",{children:[Object(me.jsx)("dt",{children:"Health"}),Object(me.jsx)("dd",{children:h.health})]}):Object(me.jsx)(me.Fragment,{}),h.wildCardFactions&&0!==Object.values(h.wildCardFactions).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Wild Card Factions"}),Object(me.jsx)("ul",{children:Object.values(h.wildCardFactions).map((function(e,t){var n=e.text;return Object(me.jsx)("li",{children:n},"wild_card_faction_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.hardpoints?Object(me.jsxs)("dl",{children:[Object(me.jsx)("dt",{children:"Hardpoints"}),Object(me.jsx)("dd",{children:h.hardpoints})]}):Object(me.jsx)(me.Fragment,{}),h.weaponPoints?Object(me.jsxs)("dl",{children:[Object(me.jsx)("dt",{children:"Weapon Points"}),Object(me.jsx)("dd",{children:h.weaponPoints})]}):Object(me.jsx)(me.Fragment,{}),h.modelStats&&0!==Object.keys(h.modelStats).length?Object(me.jsxs)("table",{children:[Object(me.jsx)("thead",{children:Object(me.jsx)("tr",{children:Object.keys(h.modelStats).map((function(e,t){return Object(me.jsx)("th",{children:e},"".concat(e,"_stat_").concat(t))}))})}),Object(me.jsx)("tbody",{children:Object(me.jsx)("tr",{children:Object.entries(h.modelStats).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],r=n[1];return Object(me.jsx)("td",{children:r},"".concat(a,"_stat_value_").concat(t))}))})})]}):Object(me.jsx)(me.Fragment,{}),h.specialRules&&0!==Object.entries(h.specialRules).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Special Rules"}),Object(me.jsx)("dl",{children:Object.entries(h.specialRules).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],c=n[1];return Object(me.jsxs)(r.a.Fragment,{children:[Object(me.jsx)("dt",{children:a}),Object(me.jsx)("dd",{children:c})]},"special_rules_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.weapons&&0!==h.weapons.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Weapons"}),Object(me.jsxs)("table",{children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("th",{children:"Name"}),Object(me.jsx)("th",{children:"Attack Type"}),Object(me.jsx)("th",{children:"Damage Type"}),Object(me.jsx)("th",{children:"Range"}),Object(me.jsx)("th",{children:"POW"})]})}),Object(me.jsx)("tbody",{children:h.weapons.map((function(e,t){return Object(me.jsxs)(r.a.Fragment,{children:[Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:e.Name}),Object(me.jsx)("td",{children:e["Attack Type"]}),Object(me.jsx)("td",{children:e["Damage Type"]}),Object(me.jsx)("td",{children:e.Range}),Object(me.jsx)("td",{children:e.POW})]}),e.specialRules?Object.entries(e.specialRules).map((function(e,n){var a=Object(p.a)(e,2),r=a[0],c=a[1];return Object(me.jsx)("tr",{children:Object(me.jsx)("td",{colSpan:"5",children:Object(me.jsxs)("dl",{children:[Object(me.jsx)("dt",{children:r}),Object(me.jsx)("dd",{children:c})]})})},"weapon_number_".concat(t,"_rule_").concat(n))})):Object(me.jsx)(me.Fragment,{})]},"weapon_number_".concat(t))}))})]})]}):Object(me.jsx)(me.Fragment,{}),h.advantages&&0!==Object.entries(h.advantages).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Advantages"}),Object(me.jsx)("dl",{children:Object.entries(h.advantages).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],c=n[1];return Object(me.jsxs)(r.a.Fragment,{children:[Object(me.jsx)("dt",{children:a}),Object(me.jsx)("dd",{children:c})]},"advantage_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.maneuvers&&0!==Object.values(h.maneuvers).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Maneuvers"}),Object(me.jsx)("dl",{children:Object.entries(h.maneuvers).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],c=n[1];return Object(me.jsxs)(r.a.Fragment,{children:[Object(me.jsx)("dt",{children:a}),Object(me.jsx)("dd",{children:c})]},"advantage_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.vehicleWeaponSelection&&0!==h.vehicleWeaponSelection.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Vehicle Weapon Selections"}),Object(me.jsx)(I.a,{defaultValue:Object(me.jsx)("span",{style:{color:"gray",fontStyle:"italic"},children:"Vehicle Weapon"}),onClick:function(e){return e.stopPropagation()},onSelect:B(t,n,l),value:u?Pe(h.vehicleWeaponSelection,u):void 0,children:h.vehicleWeaponSelection.map((function(e,t){var n=e.text,a=e.pageId;return Object(me.jsx)(I.a.Option,{label:a,value:n,onClick:function(e){return e.stopPropagation()},children:n},"vehicle_weapon_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.vehicleWeaponSelection&&0!==Object.values(h.vehicleWeaponSelection).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Vehicle Weapon Selection"}),Object(me.jsx)("ol",{children:Object.values(h.vehicleWeaponSelection).map((function(e,t){var n=e.text,a=e.page;return Object(me.jsx)("li",{children:Object(me.jsx)("a",{href:a,children:n})},"weapon_selection_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.cortexes&&0!==Object.entries(h.cortexes).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Cortex"}),Object(me.jsx)("ol",{children:Object.entries(h.cortexes).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],c=n[1];return Object(me.jsxs)("li",{children:[a,Object(me.jsx)("dl",{children:Object.entries(c).map((function(e,n){var a=Object(p.a)(e,2),c=a[0],s=a[1];return Object(me.jsxs)(r.a.Fragment,{children:[Object(me.jsx)("dt",{children:c}),Object(me.jsx)("dd",{children:s})]},"cortex_".concat(t,"_advantage_").concat(n))}))})]},"cortex_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.cortexSelections&&0!==Object.entries(h.cortexSelections).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Cortex Selections"}),Object(me.jsx)(I.a,{defaultValue:Object(me.jsx)("span",{style:{color:"gray",fontStyle:"italic"},children:"Cortex"}),onClick:function(e){return e.stopPropagation()},onSelect:q(t,n,l),value:d?_e(h.cortexSelections,d):void 0,children:Object.entries(h.cortexSelections).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],c=n[1];return Object(me.jsxs)(I.a.Option,{label:Object.values(c).map((function(e){return e.categoryId})),value:a,onClick:function(e){return e.stopPropagation()},children:[a,Object(me.jsx)("dl",{children:Object.entries(c).map((function(e,n){var a=Object(p.a)(e,2),c=a[0],s=a[1].text;return Object(me.jsxs)(r.a.Fragment,{children:[Object(me.jsx)("dt",{children:c}),Object(me.jsx)("dd",{children:s})]},"cortex_".concat(t,"_advantage_").concat(n))}))})]},"cortex_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.chassisSpecialRules&&0!==Object.entries(h.chassisSpecialRules).length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Chassis Special Rules"}),Object(me.jsx)("dl",{children:Object.entries(h.chassisSpecialRules).map((function(e,t){var n=Object(p.a)(e,2),a=n[0],c=n[1];return Object(me.jsxs)(r.a.Fragment,{children:[Object(me.jsx)("dt",{children:a}),Object(me.jsx)("dd",{children:c})]},"advantage_".concat(t))}))})]}):Object(me.jsx)(me.Fragment,{}),h.hardpointNames?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Warjack Weapon Selections"}),h.hardpointNames.map((function(e,a){return h.warjackWeaponSelections&&0!==Object.keys(h.warjackWeaponSelections).length?Object(me.jsx)("div",{children:Object(me.jsx)(I.a,{defaultValue:Object(me.jsx)("span",{style:{color:"gray",fontStyle:"italic"},children:e}),onClick:function(e){return e.stopPropagation()},onSelect:D(t,n,a,l),value:f&&f[a]?Fe(h.warjackWeaponSelections,f[a]):void 0,children:Object.values(h.warjackWeaponSelections).filter((function(t){return t.location===e})).map((function(e,t){var n=e.name,r=(e.page,e.pageId),c=e.cost;e.location;return Object(me.jsxs)(I.a.Option,{label:r,value:n,onClick:function(e){return e.stopPropagation()},children:[Ne(n,c),Object(me.jsx)("div",{children:"Weapon details!"})]},"warjack_weapon_".concat(a,"_").concat(t))}))})},"warjack_weapon_".concat(a)):Object(me.jsx)(me.Fragment,{})}))]}):Object(me.jsx)(me.Fragment,{}),h.weaponDetails&&0!==h.weaponDetails.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Weapon Details"}),Object(me.jsxs)("table",{children:[Object(me.jsx)("thead",{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("th",{children:"Weapon"}),Object(me.jsx)("th",{children:"Location"}),Object(me.jsx)("th",{children:"Cost"}),Object(me.jsx)("th",{children:"Weapon Pack"})]})}),Object(me.jsx)("tbody",{children:h.weaponDetails.map((function(e,t){return Object(me.jsx)(r.a.Fragment,{children:Object(me.jsxs)("tr",{children:[Object(me.jsx)("td",{children:e.Weapon.text}),Object(me.jsx)("td",{children:e.Location.text}),Object(me.jsx)("td",{children:e.Cost.text}),Object(me.jsx)("td",{children:e["Weapon Pack"].text})]})},"weapon_details_number_".concat(t))}))})]})]}):Object(me.jsx)(me.Fragment,{}),h.release?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Release"}),Object(me.jsx)("p",{children:h.release})]}):Object(me.jsx)(me.Fragment,{}),h.lore?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{children:"Lore"}),Object(me.jsx)("p",{children:h.lore})]}):Object(me.jsx)(me.Fragment,{})]}):Object(me.jsx)("div",{style:{margin:"10px 0",textAlign:"center"},children:Object(me.jsx)(w.a,{spin:!0,style:{fontSize:"23px"}})})]})}));var o,g}},"".concat(o,"_").concat(t,"_").concat(n))})),e.placeholder]}))}},"cards_".concat(t)),a.length>0?Object(me.jsxs)("div",{className:"footer",children:[Object(me.jsx)(m.a,{size:"small",count:a.length,offset:[10,5],children:"Card:"},"_badge"),Object.entries(a.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t.type,(e[t.type]||0)+1))}),{})).sort().map((function(e,t){var n=Object(p.a)(e,2),a=n[0],r=n[1];return Object(me.jsxs)(m.a,{size:"small",count:r,offset:[10,5],children:[a,":"]},"badge".concat(t))}))]}):Object(me.jsx)(me.Fragment,{})]},"cards".concat(t))},"lists_col_".concat(t))}))})})})]}):Object(me.jsx)(ke,{children:Object(me.jsx)(f.a,{children:Object(me.jsx)(h.a,{children:Object(me.jsx)(g.a,{xs:24,sm:12,md:12,lg:12,xl:8,xxl:8,children:Object(me.jsxs)("div",{className:"cards",children:[Object(me.jsx)("div",{style:{cursor:"pointer"},className:"header",children:Object(me.jsxs)(h.a,{children:[Object(me.jsx)(g.a,{span:16,className:"army-list-title",children:Object(me.jsx)(we,{value:"Setting up Warfaster",maxLength:30,autoSize:!0})}),Object(me.jsx)(g.a,{span:8,className:"faction-icons",children:Object(me.jsx)(w.a,{spin:!0,style:{color:"#d1c5b1",fontSize:"23px",margin:"3px 10px 0 0"}})})]})}),Object(me.jsx)("div",{children:n.map((function(e,t){var n=e.reason,a=e.description;return Object(me.jsx)("div",{className:"body",children:Object(me.jsx)(v.a,{hoverable:!0,className:"card",children:Object(me.jsx)(v.a.Meta,{avatar:Object(me.jsx)("div",{style:{height:"25px",width:"35px",textAlign:"center"},children:Object(me.jsx)(w.a,{spin:!0,style:{color:"#d1c5b1",fontSize:"35px"}})}),title:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("div",{children:n}),Object(me.jsx)("div",{className:"card-type",children:a})]})})})},"reason".concat(t))}))}),Object(me.jsx)("div",{className:"footer",children:Object(me.jsx)(m.a,{size:"small",count:n.length,offset:[10,5],children:"Loading:"},"_badge")})]},"cards0")})})})}),Object(me.jsx)(_.c,{droppableId:"trash_footer",children:function(e){return Object(me.jsx)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:i?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("div",{className:"trash-footer",children:Object(me.jsxs)("div",{style:{animation:"shake 0.82s cubic-bezier(.36,.07,.19,.97) both",color:"white"},children:[Object(me.jsx)(k.a,{}),Object(me.jsx)("div",{style:{display:"none"},children:e.placeholder})]})}),Object(me.jsx)(Ie,{children:Object(me.jsxs)("div",{className:"copyright-notice",children:["Images originating from the Privateer Press website are \xa9 2001\u2014",Object(me.jsx)(me.Fragment,{children:(new Date).getFullYear()})," Privateer Press, Inc. All Rights Reserved. Privateer Press, warcaster and their logos are trademarks of Privateer Press, Inc. Images and trademarks used without permission. This website is unofficial and is not endorsed by Privateer Press."]})})]}):Object(me.jsxs)(Ie,{children:[Object(me.jsx)("div",{className:"bookmark",children:Object(me.jsx)(f.a,{children:Object(me.jsx)(h.a,{children:Object(me.jsx)(g.a,{xs:24,sm:24,md:18,lg:18,xl:16,xxl:16,children:Object(me.jsx)("input",{value:A,onChange:M,onKeyDown:L,onClick:T})})})})}),Object(me.jsxs)("div",{className:"copyright-notice",children:["Images originating from the Privateer Press website are \xa9 2001\u2014",Object(me.jsx)(me.Fragment,{children:(new Date).getFullYear()})," Privateer Press, Inc. All Rights Reserved. Privateer Press, warcaster and their logos are trademarks of Privateer Press, Inc. Images and trademarks used without permission. This website is unofficial and is not endorsed by Privateer Press."]})]})}))}},"trash_footer")]})})})})}));function _e(e,t){return(Object.entries(e).find((function(e){var n=Object(p.a)(e,2),a=(n[0],n[1]);return Object.values(a).map((function(e){return e.categoryId})).join("")===(t||[]).join("")}))||[void 0])[0]}function Pe(e,t){var n=e.find((function(e){return e.pageId===t}));if(n)return n.text}function Fe(e,t){var n=Object.values(e).find((function(e){return e.pageId===t}));return n?Ne(n.name,n.cost):t}function Ne(e,t){return"".concat(e," (cost ").concat(t,")")}function Ee(e){for(var t="\\s*(\\d+)\\s*(\\w+)\\s*",n=null,a=1;a<=10;a++){if(null!==(n=new RegExp("^".concat("\\s*(\\d+)\\s*",":").concat(t).concat(d(",".concat(t),a-1),"$")).exec(e)))break}if(null!==n){for(var r=parseInt(n[1],10),c=[],s=2;s<n.length;s+=2)for(var i=parseInt(n[s],10),o=n[s+1],l=1;l<=i;l++)c.push(o);return r!==c.length&&console.error("Hardpoints do not add up!",e,r,c),c}function d(e,t){return 0===t?"":e+d(e,t-1)}}var Re=n(9),Me=n.n(Re),Ae=n(8),Te=function(e){return new Promise((function(t,n){var a="jsonp_callback_"+Math.round(1e5*Math.random());window[a]=function(e){delete window[a],document.body.removeChild(r),t(e)};var r=document.createElement("script");r.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+a,document.body.appendChild(r)}))},Le=Z("WikiPages",(function(e){e.data||(e.data={});e.data.pages={}}),{addPage:function(e,t){var n=t.page,a=t.type,r=t.data,c=qe(e);r.page=n,r.type=a,c[n]=r},removePage:function(e,t){var n=t.page;delete qe(e)[n]}},{selectPageByPage:function(e,t){return qe(e)[t]},selectPagesByPageIds:function(e,t){var n=qe(e);return Object.values(n).filter((function(e){return t.includes(e.pageid)}))},selectPageIds:function(e){var t=qe(e);return Object.values(t).map((function(e){return e.pageid}))}});function qe(e){return e.data.pages}var De=Me.a.mark(He),Be=Me.a.mark(Ue),ze=Me.a.mark(Ve);function He(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)([Ve(),Ue()]);case 2:case"end":return e.stop()}}),De)}function Ue(){var e,t,n,a,r;return Me.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Ae.a)(B().type);case 2:e=c.sent;case 3:return c.next=6,Object(Ae.g)(e);case 6:return t=c.sent,n=t.payload,a=n.page,c.next=11,Object(Ae.f)(Le.selectPageByPage(a));case 11:if(c.sent){c.next=21;break}return c.next=15,Object(Ae.c)(Te,Ge(a));case 15:return r=c.sent,c.next=18,Object(Ae.e)(z({page:a,data:r.parse}));case 18:return 2e3,c.next=21,Object(Ae.d)(2e3);case 21:c.next=3;break;case 23:case"end":return c.stop()}}),Be)}function Ve(){var e,t,n,a;return Me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(Ae.g)(z().type);case 3:if(e=r.sent,t=e.payload,n=t.page,!(a=t.data)){r.next=10;break}return r.next=10,Object(Ae.e)(Le.addPage({page:n,data:a}));case 10:r.next=0;break;case 12:case"end":return r.stop()}}),ze)}function Ge(e){return"https://privateerpress.wiki/api.php?action=parse&page=".concat(e,"&formatversion=2&format=json")}var Ke=Me.a.mark($e),Ye=Me.a.mark(Qe),Je=Me.a.mark(Xe),Ze=Me.a.mark(et);function $e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)([Qe(),Xe(),et()]);case 2:case"end":return e.stop()}}),Ke)}function Qe(){var e,t,n,a,r,c,s,i;return Me.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Ae.g)(V().type);case 2:return o.next=4,Object(Ae.f)(Le.selectPageIds());case 4:for(e=o.sent,50,t=[],n=0;n<e.length;n+=50)a=e.slice(n,n+50),r=a.join("|"),t.push(r);c=0,s=t;case 9:if(!(c<s.length)){o.next=16;break}return i=s[c],o.next=13,Object(Ae.e)(H({pageids:i}));case 13:c++,o.next=9;break;case 16:case"end":return o.stop()}}),Ye)}function Xe(){var e,t,n,a,r;return Me.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Ae.a)(H().type);case 2:e=c.sent;case 3:return c.next=6,Object(Ae.g)(e);case 6:return t=c.sent,n=t.payload,a=n.pageids,c.next=11,Object(Ae.c)(Te,tt(a));case 11:return r=c.sent,c.next=14,Object(Ae.e)(U({pageRevisions:r.query.pages}));case 14:return 2e3,c.next=17,Object(Ae.d)(2e3);case 17:c.next=3;break;case 19:case"end":return c.stop()}}),Je)}function et(){var e,t,n,a,r,c,s,i,o,l;return Me.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=3,Object(Ae.g)(U().type);case 3:return e=d.sent,t=e.payload,n=t.pageRevisions,a=Object.fromEntries(n.map((function(e){return[e.pageid,e.missing?{missing:e.missing}:{revid:Math.max.apply(Math,Object(b.a)(e.revisions.map((function(e){return e.revid}))))}]}))),r=n.map((function(e){return e.pageid})),d.next=10,Object(Ae.f)(Le.selectPagesByPageIds(r));case 10:c=d.sent,s=Object(K.a)(c),d.prev=12,s.s();case 14:if((i=s.n()).done){d.next=29;break}if(o=i.value,!(l=a[o.pageid]).missing){d.next=22;break}return d.next=20,Object(Ae.e)(Le.removePage({page:o.page}));case 20:d.next=27;break;case 22:if(!(o.revid<l.revid)){d.next=27;break}return d.next=25,Object(Ae.e)(Le.removePage({page:o.page}));case 25:return d.next=27,Object(Ae.e)(B({page:o.page,type:o.type}));case 27:d.next=14;break;case 29:d.next=34;break;case 31:d.prev=31,d.t0=d.catch(12),s.e(d.t0);case 34:return d.prev=34,s.f(),d.finish(34);case 37:d.next=0;break;case 39:case"end":return d.stop()}}),Ze,null,[[12,31,34,37]])}function tt(e){return"https://privateerpress.wiki/api.php?action=query&pageids=".concat(e,"&prop=revisions&formatversion=2&format=json")}function nt(e,t){for(var n=[],a=0;a<t.length;a+=e)n[n.length]=t.slice(a,a+e);return n}var at=Me.a.mark(st),rt=Me.a.mark(it),ct=Me.a.mark(ot);function st(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)([it(),ot()]);case 2:case"end":return e.stop()}}),at)}function it(){var e,t,n,a,r,c,s,i,o,l,d,u,j,f;return Me.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(Ae.f)(be.select());case 2:if(e=x.sent,0!==Object.keys(e).length){x.next=60;break}return x.next=6,Object(Ae.e)(X.addReasons({reasons:[{reason:"Loading factions",description:"Load available Warcaster factions"},{reason:"Loading cyphers",description:"Load available Cypher Codecs"},{reason:"Loading wildcard models",description:"Load available Wild Cards"}]}));case 6:return x.next=8,Object(Ae.b)([Object(Ae.g)(oe.set().type),Object(Ae.g)(te.set().type),Object(Ae.g)(Oe.set().type)]);case 8:return t=x.sent,n=Object(p.a)(t,1),a=n[0],r=Object.keys(a.payload.factions),x.next=14,Object(Ae.e)(X.addReasons({reasons:r.map((function(e){return{reason:"Loading ".concat(e.replace(/_/g," ")),description:"Used to build ".concat(e.replace(/_/g," ")," menu")}}))}));case 14:return x.next=16,Object(Ae.b)(r.map((function(e){return Object(Ae.g)((function(t){return t.type===se.set().type&&t.payload.page===e}))})));case 16:return x.t0=Object,x.next=19,Object(Ae.f)(se.select());case 19:return x.t1=x.sent,c=x.t0.values.call(x.t0,x.t1).flat().map((function(e){return e.Name})),x.t2=Object,x.next=24,Object(Ae.f)(Oe.select());case 24:return x.t3=x.sent,s=x.t2.values.call(x.t2,x.t3).flat().map((function(e){return e.Name})).sort((function(e){return[e.text,e.page]})).filter((function(e,t,n){var a=e.text,r=e.page;return!t||a!==n[t-1].text&&r!==n[t-1].page})),x.next=28,Object(Ae.f)(te.select());case 28:return i=x.sent.map((function(e){return e.Cypher})),o=[].concat(Object(b.a)(c),Object(b.a)(s),Object(b.a)(i)).sort((function(e){return e.page})),l=nt(50,o),x.next=33,Object(Ae.e)(X.addReasons({reasons:l.map((function(e,t){return{reason:"Loading page ids ".concat(t+1," of ").concat(l.length),description:"Card lists are encoded in the URL using unique wiki page ids"}}))}));case 33:d=Object(K.a)(l),x.prev=34,d.s();case 36:if((u=d.n()).done){x.next=42;break}return j=u.value,x.next=40,Object(Ae.e)(D({pages:j}));case 40:x.next=36;break;case 42:x.next=47;break;case 44:x.prev=44,x.t4=x.catch(34),d.e(x.t4);case 47:return x.prev=47,d.f(),x.finish(47);case 50:f=0;case 51:return x.next=53,Object(Ae.g)(be.addPages().type);case 53:if(!x.sent){x.next=60;break}if(f+=1,l.length!==f){x.next=58;break}return x.next=58,Object(Ae.e)(X.done());case 58:x.next=51;break;case 60:case"end":return x.stop()}}),rt,null,[[34,44,47,50]])}function ot(){var e,t;return Me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ae.a)(D().type);case 2:e=n.sent,t=Me.a.mark((function t(){var n,a,r,c,s,i;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ae.g)(e);case 2:return n=t.sent,a=n.payload,r=a.pages,t.next=7,Object(Ae.c)(Te,lt(r.map((function(e){return e.text}))));case 7:return c=t.sent,s=Object.fromEntries(c.query.pages.map((function(e){return[e.title,e.pageid]}))),i=Object.fromEntries(r.map((function(e){var t=e.text;return[e.page,s[t]]}))),t.next=12,Object(Ae.e)(be.addPages({pageIdByTitle:i}));case 12:return 2e3,t.next=15,Object(Ae.d)(2e3);case 15:case"end":return t.stop()}}),t)}));case 4:return n.delegateYield(t(),"t0",6);case 6:n.next=4;break;case 8:case"end":return n.stop()}}),ct)}function lt(e){var t=encodeURIComponent(e.join("|"));return"https://privateerpress.wiki/api.php?action=query&formatversion=2&format=json&prop=pageprops&titles=".concat(t)}var dt=Me.a.mark(ut);function ut(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)([$e(),He(),st()]);case 2:case"end":return e.stop()}}),dt)}function jt(e){return e.replace(/\n/g,"")}function pt(e){var t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("h1 > span[id], h2 > span[id], h3 > span[id], h4 > span[id]").forEach((function(e){e.parentNode.id=e.id})),t}var bt=function(e){var t=pt(e);return xt({type:ft(t,"Type"),pow:ft(t,"Pow"),effect:function(e,t){function n(e,t){switch(e.tagName){case"P":return n(e.nextSibling,[].concat(Object(b.a)(t),[e.innerText.trim()]));case"H2":return t;default:return n(e.nextSibling,t)}}var a=e.querySelector("h2#".concat(t," ~ p"));return a?n(a,[]):void 0}(t,"Effect"),faction:ft(t,"Faction"),source:ft(t,"Source")})};function ft(e,t){var n=e.querySelector("h2#".concat(t," ~ p"));if(n){var a=n.querySelector("a");if(!a)return{text:n.innerText};var r=a.href.split("title=");return{text:a.innerText,page:r[r.length-1]}}}function xt(e){return Array.isArray(e)?e.map(xt):"object"!==typeof e?e:Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(p.a)(e,2);t[0];return"undefined"!==typeof t[1]})).map((function(e){var t=Object(p.a)(e,2);return[t[0],xt(t[1])]})))}function Ot(e){var t=Object(b.a)(e.querySelectorAll("th")).map((function(e){return jt(e.innerText)}));return Object(b.a)(e.querySelectorAll("tr")).map((function(e){return Object(b.a)(e.querySelectorAll("td")).map((function(e){var t=Object(b.a)(e.querySelectorAll("a")).map(ht);if(t.length>0)return t;var n=jt(e.innerText);return n?[{text:n}]:[]}))})).filter((function(e){return e.length===t.length})).map((function(e){return Object.fromEntries(t.flatMap((function(t,n){return e[n]?[[t,e[n]]]:[]})))}))}function ht(e){var t=e.title.split(":"),n=e.href.split("title=");return{text:t[t.length-1],page:n[n.length-1]}}var gt=function(e){var t=pt(e).querySelector("table.sortable");if(t)return Ot(t).map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(p.a)(e,2);return[t[0],t[1][0]]})))}));console.error("parseCypherCodecsText: cypherCodecsTable not found!")},vt=function(e){var t=pt(e).querySelector("h1#Models ~ table");if(t)return Ot(t).map((function(e){return Object.fromEntries(Object.entries(e).flatMap((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return"Subtype"===n?a.length>0?[[n,a]]:[]:[[n,a[0]]]})))}));console.error("parseFactionModelsText: table not found!")},mt=function(e){var t=pt(e).querySelector("h2#Factions ~ p"),n=Object.fromEntries(yt(t,[]));return delete n.Wild_Card,n};function yt(e,t){switch(e.tagName){case"P":var n=e.querySelector("a");if(!n)return console.error("collectFactions: a not found!"),yt(e.nextSibling,t);var a=ht(n),r=[a.page,a];return yt(e.nextSibling,[].concat(Object(b.a)(t),[r]));case"H2":return t;default:return yt(e.nextSibling,t)}}var It=function(e){var t=pt(e),n=St(t,"Unit_Faction_and_Type")||St(t,"Model_Faction_and_Type"),a=n[0],r=n.slice(1),c=wt(t,"Squad_Size"),s=wt(t,"Deployment_Cost"),i=wt(t,"Base_Size"),o=wt(t,"Health"),l=St(t,"Wild_Card_Factions"),d=wt(t,"Weapon_Points"),u=wt(t,"Hardpoints"),p=Wt(t,"Special_Rules"),f=Wt(t,"Chassis_Special_Rules"),x=Wt(t,"Advantages"),O=Wt(t,"Maneuvers"),h=function(e,t){var n=e.querySelector("h3#".concat(t," + p"));return n?Object(b.a)(n.querySelectorAll("a")).map((function(e){return ht(e)})):void 0}(t,"Weapon_Selection"),g=function(e,t){function n(e,t){switch(e.tagName){case"P":var a=e.querySelector("b").innerText,r=Ct(e);return n(e.nextSibling,[].concat(Object(b.a)(t),[[a,r]]));case"H3":return t;default:return n(e.nextSibling,t)}}var a=e.querySelector("h3#".concat(t," ~ p"));return a?Object.fromEntries(n(a,[])):void 0}(t,"Cortexes"),v=Object(b.a)(t.querySelector("h3#Unit_Stats ~ table, h3#Model_Stats ~ table").querySelectorAll("tr > td")).map((function(e){return jt(e.innerText)})),m=v.length/2,y=Object.fromEntries(Array.from({length:m},(function(e,t){return t})).map((function(e){return[v[e],v[e+m]]}))),I=Object(b.a)(t.querySelectorAll("h3#Weapons ~ table tr")).map((function(e){return Object(b.a)(e.querySelectorAll("td"))})),k=void 0;if(I.length>0){k=[];var w,S=I[0].map((function(e){return e.innerText})),C=I.slice(1),W=Object(K.a)(C);try{for(W.s();!(w=W.n()).done;){var _=w.value;if(_.length===S.length&&function(){var e=_.map((function(e){return e.innerText})),t=Object.fromEntries(S.map((function(t,n){return[jt(t),jt(e[n])]})));k.push(t)}(),1===_.length){var P=k.slice(0,k.length-1),F=k[k.length-1],N=Object(j.a)(Object(j.a)({},F),{},{specialRules:Ct(_[0])});k=[].concat(Object(b.a)(P),[N])}}}catch(M){W.e(M)}finally{W.f()}}var E=wt(t,"Release",{node:"h1"}),R=wt(t,"Lore",{node:"h1"});return kt({faction:a,types:r,squadSize:c,deploymentCost:s,baseSize:i,health:o,wildCardFactions:l,hardpoints:u,weaponPoints:d,modelStats:y,specialRules:p,weapons:k,advantages:x,maneuvers:O,vehicleWeaponSelection:h,cortexes:g,chassisSpecialRules:f,weaponDetails:function(){var e=t.querySelector("table.mw-collapsible");if(e){var n=Object(b.a)(e.querySelectorAll("tr")).map((function(e){return Object(b.a)(e.querySelectorAll("td, th"))})).filter((function(e){return 4===e.length}));if(n&&0!==n.length){var a=n[0].map((function(e){return jt(e.innerText)}));return n.slice(1).map((function(e){return Object.fromEntries(e.map((function(e,t){var n=e.querySelector("a"),r=n?n.href.split("title="):void 0,c=jt(e.innerText);return[a[t],n?{text:c,page:r[r.length-1]}:{text:c}]})))}))}}}(),release:E,lore:R})};function kt(e){return Array.isArray(e)?e.map(kt):"object"!==typeof e?e:Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(p.a)(e,2);t[0];return"undefined"!==typeof t[1]})).map((function(e){var t=Object(p.a)(e,2);return[t[0],kt(t[1])]})))}function wt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.node,r=void 0===a?"h3":a,c=e.querySelector("".concat(r,"#").concat(t," ~ p"));if(c)return jt(c.innerText)}function St(e,t){var n=e.querySelector("h3#".concat(t," ~ p"));if(n){var a=Object(b.a)(n.querySelectorAll("a"));if(0!==a.length)return a.map((function(e){var t=e.href.split("title=");return{text:e.innerText,page:t[t.length-1]}}))}}function Ct(e){var t=e.innerHTML.split("<br>").map((function(e){return e.replace(/<[^>]+>/g,"").trim()})).flatMap((function(e){var t=e.split(": ").map(jt);return t.length<2?[]:[[t[0],t.slice(1).join(": ")]]}));if(0!==t.length)return Object.fromEntries(t)}function Wt(e,t){var n=e.querySelector("h3#".concat(t," ~ p"));if(n)return Ct(n)}var _t=function(e){for(var t=pt(e).querySelectorAll("h1, table.sortable"),n=[],a=0;a<t.length;a++)if(a%2===0){var r=t[a];"H1"!==r.tagName&&console.error("parseWildCardText: expected H1, but got ".concat(r.tagName,"!"),r),n.push({faction:r.id})}else{var c=t[a];"TABLE"!==c.tagName&&console.error("parseWildCardText: expected TABLE, but got ".concat(c.tagName,"!"),c);var s=n[n.length-1],i=Ot(c);s.models=i.map((function(e){return Object.fromEntries(Object.entries(e).flatMap((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return"Subtype"===n?a.length>0?[[n,a]]:[]:[[n,a[0]]]})))}))}return n},Pt=Me.a.mark(Ft);function Ft(){var e,t,n,a,r,c,s,i,o,l,d,u,j,p,f,x,O,h,g,v,m,y,I;return Me.a.wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=3,Object(Ae.g)(z().type);case 3:return e=k.sent,t=e.payload,n=t.data,a=t.page,k.next=8,Object(Ae.f)(te.selectPages());case 8:return r=k.sent,k.next=11,Object(Ae.f)(oe.selectPages());case 11:return c=k.sent,k.t0=Object,k.next=15,Object(Ae.f)(se.selectModelPages());case 15:return k.t1=k.sent,s=k.t0.values.call(k.t0,k.t1),k.t2=Object,k.next=20,Object(Ae.f)(Oe.selectModelPages());case 20:if(k.t3=k.sent,i=k.t2.values.call(k.t2,k.t3),"Warcaster"!==a){k.next=28;break}return o=mt(n.text),k.next=26,Object(Ae.e)(oe.set({factions:o}));case 26:k.next=87;break;case 28:if("Wild_Card"!==a){k.next=34;break}return l=_t(n.text),k.next=32,Object(Ae.e)(Oe.set({wildCards:l}));case 32:k.next=87;break;case 34:if(!s.includes(a)&&!i.includes(a)){k.next=68;break}return(d=It(n.text)).name={text:n.title,page:a},(u=Et(d.cortexes,n.categories))&&(d.cortexSelections=u),(j=Nt(d.weaponDetails))&&(d.warjackWeaponSelections=j),k.next=43,Object(Ae.e)(ge.set({page:a,model:d}));case 43:if(p=[],u&&(f=Object.values(u).flatMap((function(e){return Object.values(e).flatMap((function(e){var t=e.category;return{text:t.replace(/_/g," "),page:t}}))})),p=[].concat(Object(b.a)(p),Object(b.a)(f))),j&&(x=Object.values(j).map((function(e){return{text:e.name,page:e.page}})),p=[].concat(Object(b.a)(p),Object(b.a)(x))),d.vehicleWeaponSelection&&(p=[].concat(Object(b.a)(p),Object(b.a)(d.vehicleWeaponSelection))),!(p.length>0)){k.next=66;break}O=nt(50,p),h=Object(K.a)(O),k.prev=50,h.s();case 52:if((g=h.n()).done){k.next=58;break}return v=g.value,k.next=56,Object(Ae.e)(D({pages:v}));case 56:k.next=52;break;case 58:k.next=63;break;case 60:k.prev=60,k.t4=k.catch(50),h.e(k.t4);case 63:return k.prev=63,h.f(),k.finish(63);case 66:k.next=87;break;case 68:if(!c.includes(a)){k.next=74;break}return m=vt(n.text),k.next=72,Object(Ae.e)(se.set({page:a,factionModels:m}));case 72:k.next=87;break;case 74:if("Cypher_Codecs"!==a){k.next=80;break}return y=gt(n.text),k.next=78,Object(Ae.e)(te.set({cypherCodecs:y}));case 78:k.next=87;break;case 80:if(!r.includes(a)){k.next=87;break}return(I=bt(n.text)).name={text:n.title,page:a},k.next=85,Object(Ae.e)(ae.set({page:a,cypher:I}));case 85:k.next=87;break;case 87:k.next=0;break;case 89:case"end":return k.stop()}}),Pt,null,[[50,60,63,66]])}function Nt(e){if(e)return Object.fromEntries(e.map((function(e){var t=e.Cost,n=e.Location,a=e.Weapon;return[a.page,{cost:t.text,location:n.text,name:a.text,page:a.page}]})))}function Et(e,t){if(e&&0!==Object.entries(e).length&&t&&0!==Object.entries(t).length){var n=t.map((function(e){return e.category}));return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(p.a)(e,2),a=t[0],r=t[1];return[a,Object.fromEntries(Object.entries(r).map((function(e){var t=Object(p.a)(e,2),a=t[0],r=t[1];return[a,{category:"Category:".concat(Rt(a,n)),text:r}]})))]})))}}function Rt(e,t){return t.find((function(t){return e===t.replace(/^WNM_/,"").replace(/_/g," ")}))}var Mt=Me.a.mark(Tt),At=Me.a.mark(Lt);function Tt(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)([Lt()]);case 2:case"end":return e.stop()}}),Mt)}function Lt(){var e,t,n,a,r,c,s;return Me.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(Ae.g)(oe.set().type);case 3:e=i.sent,t=e.payload,n=t.factions,a=Object.values(n).map((function(e){return e.page})),r=Object(K.a)(a),i.prev=8,r.s();case 10:if((c=r.n()).done){i.next=16;break}return s=c.value,i.next=14,Object(Ae.e)(B({page:s}));case 14:i.next=10;break;case 16:i.next=21;break;case 18:i.prev=18,i.t0=i.catch(8),r.e(i.t0);case 21:return i.prev=21,r.f(),i.finish(21);case 24:i.next=0;break;case 26:case"end":return i.stop()}}),At,null,[[8,18,21,24]])}var qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Dt(e){if(0===e)return"0";for(var t="";e>0;)t=qt[e%qt.length]+t,e=parseInt(e/qt.length,10);return t}var Bt=Me.a.mark(Qt),zt=Me.a.mark(Xt),Ht=Me.a.mark(en),Ut=Me.a.mark(tn),Vt=Me.a.mark(nn),Gt=Me.a.mark(an),Kt=Me.a.mark(rn),Yt=Me.a.mark(cn),Jt=Me.a.mark(sn),Zt=Me.a.mark(on),$t=Me.a.mark(ln);function Qt(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)([tn(),en(),an(),nn(),Xt(),rn(),cn(),sn(),ln()]);case 2:case"end":return e.stop()}}),Bt)}function Xt(){var e,t,n,a,r,c,s,i,o;return Me.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,Object(Ae.g)(T().type);case 3:if(e=l.sent,t=e.payload,n=t.reason,a=t.source,r=t.destination,"DROP"!==n||!r.droppableId.startsWith("cards_")){l.next=13;break}return c=parseInt(a.droppableId.replace("cards_",""),10),s=a.index,i=parseInt(r.droppableId.replace("cards_",""),10),o=r.index,l.next=13,Object(Ae.e)(de.moveCard({source:{listIndex:c,cardIndex:s},destination:{listIndex:i,cardIndex:o}}));case 13:l.next=0;break;case 15:case"end":return l.stop()}}),zt)}function en(){var e,t,n,a,r,c,s;return Me.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(Ae.g)(T().type);case 3:if(e=i.sent,t=e.payload,n=t.reason,a=t.source,r=t.destination,"DROP"!==n||!r.droppableId.startsWith("trash")){i.next=11;break}return c=parseInt(a.droppableId.replace("cards_",""),10),s=a.index,i.next=11,Object(Ae.e)(de.removeCard({source:{listIndex:c,cardIndex:s}}));case 11:i.next=0;break;case 13:case"end":return i.stop()}}),Ht)}function tn(){var e,t,n,a,r,c,s;return Me.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(Ae.g)(q().type);case 3:return e=i.sent,t=e.payload,n=t.page,i.next=8,Object(Ae.f)(se.selectByPage(n));case 8:return a=i.sent,i.next=11,Object(Ae.f)(Oe.selectByPage(n));case 11:return r=i.sent,i.next=14,Object(Ae.f)(te.selectByPage(n));case 14:if(c=i.sent,!(a||r||c)){i.next=21;break}return i.next=18,Object(Ae.f)(be.selectByPage(n));case 18:return s=i.sent,i.next=21,Object(Ae.e)(de.addCard({pageId:s}));case 21:i.next=0;break;case 23:case"end":return i.stop()}}),Ut)}function nn(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.g)(L().type);case 2:if(!e.sent){e.next=7;break}return e.next=5,Object(Ae.e)(ce.activate());case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Vt)}function an(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.g)(T().type);case 2:if(!e.sent){e.next=7;break}return e.next=5,Object(Ae.e)(ce.deactivate());case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Gt)}function rn(){var e,t;return Me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ae.g)((function(e){return e.type.startsWith("Lists.")}));case 2:if(!n.sent){n.next=11;break}return n.next=5,Object(Ae.f)(de.select());case 5:if(e=n.sent,t=e.map((function(e){return e.cards.map((function(e){return e.pageId}))})),!window.history||!window.history.replaceState){n.next=9;break}return n.delegateYield(Me.a.mark((function n(){var a,r,c,s,i,o=function(e,t){for(var n=e||[],a="",r=0;r<n.length;r++){var c=n[r];a+=(c?Dt(c):"0").padStart(t,"0")}return a};return Me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Math.max.apply(Math,[0].concat(Object(b.a)(t.flat()))),r=Math.ceil(Math.log(a+1)/Math.log(62))||0,c=e.reduce((function(e,t,n){var a;return Object(j.a)(Object(j.a)({},e),{},(a={},Object(u.a)(a,"t".concat(n),t.title),Object(u.a)(a,"l".concat(n),t.cards.reduce((function(e,t){return e+Dt(t.pageId).padStart(r,"0")+(t.cortexIds||t.warjackWeaponIds?"(".concat((t.cortexIds||[]).map((function(e){return Dt(e).padStart(r,"0")})).join(""),",").concat(o(t.warjackWeaponIds,r),")"):"")+(t.vehicleWeaponId?"[".concat(Dt(t.vehicleWeaponId).padStart(r,"0"),"]"):"")}),"")),a))}),{v:1,e:r}),s=Object.entries(c).map((function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)})).join("&"),i=window.location.origin+window.location.pathname+"?"+s,n.next=7,Object(Ae.e)(xe.set({url:i}));case 7:window.history.replaceState(s,"",i);case 8:case"end":return n.stop()}}),n)}))(),"t0",9);case 9:n.next=0;break;case 11:case"end":return n.stop()}}),Kt)}function cn(){var e;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(l.b)((function(e){return window.addEventListener("load",e),function(){window.removeEventListener("load",e)}}));case 1:return t.next=4,Object(Ae.g)(e);case 4:return t.delegateYield(on(),"t0",5);case 5:t.next=1;break;case 7:case"end":return t.stop()}}),Yt)}function sn(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.g)(X.done().type);case 2:return e.delegateYield(on(),"t0",3);case 3:case"end":return e.stop()}}),Jt)}function on(){var e,t,n,a,r,c,s,i,o,l,d,u,j,p,b,f,x;return Me.a.wrap((function(O){for(;;)switch(O.prev=O.next){case 0:if(e=new URLSearchParams(window.location.search),t=Object.fromEntries(e),n=t.v,a=parseInt(t.e,10)||0,"1"!==n||!a){O.next=48;break}r=Object.keys(t).filter((function(e){return e.match(/^t[\d]+$/)})).map((function(e){return parseInt(e.substring(1),10)})).sort((function(e,t){return e-t})),c=r.map((function(e){return{title:t["t"+e],cards:dn(a,t["l"+e])}})),s=Object(K.a)(c),O.prev=8,s.s();case 10:if((i=s.n()).done){O.next=36;break}o=i.value,l=Object(K.a)(o.cards),O.prev=13,l.s();case 15:if((d=l.n()).done){O.next=26;break}if(u=d.value,j=u.pageId,p=u.cortexIds,b=u.warjackWeaponIds,f=u.vehicleWeaponId,!(p||b||f)){O.next=24;break}return O.next=20,Object(Ae.f)(be.selectPageByPageId(j));case 20:if(!(x=O.sent)){O.next=24;break}return O.next=24,Object(Ae.e)(B({page:x}));case 24:O.next=15;break;case 26:O.next=31;break;case 28:O.prev=28,O.t0=O.catch(13),l.e(O.t0);case 31:return O.prev=31,l.f(),O.finish(31);case 34:O.next=10;break;case 36:O.next=41;break;case 38:O.prev=38,O.t1=O.catch(8),s.e(O.t1);case 41:return O.prev=41,s.f(),O.finish(41);case 44:return O.next=46,Object(Ae.e)(de.set({lists:c}));case 46:O.next=50;break;case 48:return O.next=50,Object(Ae.e)(de.set({lists:[]}));case 50:case"end":return O.stop()}}),Zt,null,[[8,38,41,44],[13,28,31,34]])}function ln(){var e,t,n;return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(Ae.g)("Lists.toggleCard");case 3:if(e=a.sent,!(t=e.payload)||!t.pageId){a.next=12;break}return a.next=8,Object(Ae.f)(be.selectPageByPageId(t.pageId));case 8:if(!(n=a.sent)){a.next=12;break}return a.next=12,Object(Ae.e)(B({page:n}));case 12:a.next=0;break;case 14:case"end":return a.stop()}}),$t)}function dn(e,t){var n=function t(n,a){if(""===a)return n;var r=a.slice(0,e);if("("===a[e]){var c=a.indexOf(")"),s=a.indexOf(",");if(!c||!s)return[];var i=a.slice(e+1,c).split(","),o=Object(p.a)(i,2),l=o[0],d=o[1];return t([].concat(Object(b.a)(n),[{pageId:r,cortexIds:un(e,l),warjackWeaponIds:un(e,d),vehicleWeaponId:[]}]),a.slice(c+1))}if("["===a[e]){var u=a.indexOf("]");if(!u)return[];var j=a.slice(e+1,u);return t([].concat(Object(b.a)(n),[{pageId:r,cortexIds:[],warjackWeaponIds:[],vehicleWeaponId:[j]}]),a.slice(u+1))}return t([].concat(Object(b.a)(n),[{pageId:r,cortexIds:[],warjackWeaponIds:[],vehicleWeaponId:[]}]),a.slice(e))}([],t),a=function(e){var t=e.replace(/^0+/,"")||"0";return"0"===t?null:parseInt(function(e){for(var t=0,n=0;n<e.length;n++){var a=qt.indexOf(e[n]);if(a<0)return NaN;t+=a*Math.pow(qt.length,e.length-n-1)}return t}(t),10)};return n.map((function(e){var t=e.pageId,n=e.cortexIds,r=e.warjackWeaponIds,c=e.vehicleWeaponId;return{pageId:a(t),cortexIds:n.map(a),warjackWeaponIds:r.map(a),vehicleWeaponId:c.map(a)}})).map((function(e){var t=e.pageId,n=e.cortexIds,a=e.warjackWeaponIds,r=e.vehicleWeaponId;return Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({pageId:t},0===n.length?{}:{cortexIds:n}),0===a.length?{}:{warjackWeaponIds:a}),0===r.length?{}:{vehicleWeaponId:r[0]}),{},{hidden:!0})}))}function un(e,t){for(var n=[],a=0;a<t.length;a+=e)n[n.length]=t.slice(a,a+e);return n}var jn=Me.a.mark(fn),pn=Me.a.mark(xn),bn=Me.a.mark(On);function fn(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)([ut(),Ft(),Tt(),Qt(),xn(),On()]);case 2:case"end":return e.stop()}}),jn)}function xn(){var e,t,n;return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=0,t=["Warcaster","Wild_Card","Cypher_Codecs"];case 2:if(!(e<t.length)){a.next=9;break}return n=t[e],a.next=6,Object(Ae.e)(B({page:n}));case 6:e++,a.next=2;break;case 9:case"end":return a.stop()}}),pn)}function On(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.e)(V());case 2:case"end":return e.stop()}}),bn)}var hn=Z("Version",(function(e){e.version="2022-08-28T16:43:31.730Z"}),{},{});var gn=[X,te,ae,oe,se,ge,be,xe,Oe,Le,ce,de,hn],vn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Q.apply(void 0,Object(b.a)(t.map((function(e){return Object(Y.a)(e.init)}))))}.apply(void 0,gn)({}),mn=J((function(e){var t,n,a=e.type,r=e.payload,c=Object.fromEntries(gn.map((function(e){return[e.namespace,e]}))),s=a.substring(0,a.indexOf("."));return s&&c[s]?(t={type:a,payload:r},n=c[s],function(e){return J((function(e){var t=e.type,a=e.payload,r=n.dispatch[t]||function(e,t){return e};return function(e){return r(e,a)}}))(e,t)}):"RE"===a?function(e){e.data.models={};for(var t=0,n=Object.keys(e.data.pages);t<n.length;t++){var a=n[t];["Warcaster","Wild_Card","Cypher_Codecs","Aeternus_Continuum","Empyrean","Iron_Star_Alliance","Marcher_Worlds"].includes(a)||delete e.data.pages[a]}}:function(e){return e}}));var yn=Object(l.a)(),In=function(e){var t=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):vn,n=new Date(t.version)>=new Date(vn.version)?t:vn,a=Object(d.composeWithDevTools)(Object(o.applyMiddleware)(e)),r=Object(o.createStore)(mn,n,a);return r.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(r.getState()))})),r}(yn);s.a.render(Object(me.jsx)(i.a,{store:In,children:Object(me.jsx)(We,{})}),document.getElementById("root")),yn.run(fn)}},[[121,1,2]]]);
//# sourceMappingURL=main.ee2b95df.chunk.js.map