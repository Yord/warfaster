(this.webpackJsonpwarfaster=this.webpackJsonpwarfaster||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),s=n.n(c),i=n(52),o=n(39),l=n(84),u=n(95),d=(n(118),n(12)),p=n(37),j=n(10),b=n(11),f=(n(119),n(127)),x=n(129),h=n(133),O=n(65),g=n(44),m=n(128),v=n(132),y=n(105),k=n(130),w=n(131),I=n(134),S=n(135),C=n(136),W=n(137),_=n(138),P=n(139),N=n(64),F=n.p+"static/media/Aeternus_Continuum.d1b19d0e.png",M=n.p+"static/media/Fallback.1ae05c50.png",q=n.p+"static/media/Empyrean.4ab49225.png",R=n.p+"static/media/Iron_Star_Alliance.82d76402.png",T=n.p+"static/media/Lost_Legion.78737fb2.png",E=n.p+"static/media/Marcher_Worlds.61a330cf.png",A=n.p+"static/media/Wild_Card.3da9dbca.png",L=Y("CARD/DRAG_ENDED"),D=Y("CARD/DRAG_STARTED"),B=Y("MENU_ITEM/CLICKED"),z=Y("WIKI_PAGE/FETCHED"),U=Y("WIKI_PAGE_REVISIONS/FETCHED"),V=Y("WIKI_PAGES/REFRESH");function Y(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e,payload:t}}}var H=n(29),G=n(90),K=function(e){return function(t,n){return Object(G.a)(e(n)||$)(t)}},J=function(e,t,n,a,r){return Object(j.a)(Object(j.a)(Object(j.a)({namespace:e,init:t,dispatch:Object.fromEntries(Object.entries(n).map((function(t){var n=Object(b.a)(t,2),a=n[0],r=n[1];return[e+"."+a,r]})))},Object.fromEntries(Object.keys(n).map((function(t){return[t,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e+"."+t,payload:n}}]})))),a),Object.fromEntries(Object.entries(r).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return[n,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return a.apply(void 0,[e].concat(t))}}]}))))};function $(e){return e}function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n,a=Object(H.a)(t);try{for(a.s();!(n=a.n()).done;){e=(0,n.value)(e)}}catch(r){a.e(r)}finally{a.f()}return e}}var Q=J("AppSync",(function(e){e.data||(e.data={});e.data.sync||(e.data.sync={});e.data.sync.done=!1,e.data.sync.reasons=[]}),{done:function(e){X(e).done=!0},addReasons:function(e,t){var n=t.reasons,a=X(e);a.reasons=[].concat(Object(d.a)(a.reasons),Object(d.a)(n))}},{},{selectDone:function(e){return X(e).done},selectReasons:function(e){return X(e).reasons}});function X(e){return e.data.sync}var ee=J("CypherCodecs",(function(e){e.data||(e.data={});e.data.cypherCodecs=[]}),{set:function(e,t){var n=t.cypherCodecs;e.data.cypherCodecs=n}},{},{select:te,selectPages:function(e){return te(e).map((function(e){return e.Cypher.page}))},selectByPage:function(e,t){return te(e).find((function(e){return e.Cypher.page===t}))}});function te(e){return e.data.cypherCodecs}var ne=J("Cyphers",(function(e){e.data||(e.data={});e.data.cyphers={}}),{set:function(e,t){var n=t.page,a=t.cypher;ae(e)[n]=a}},{},{select:ae,selectByPage:function(e,t){var n=ae(e);return Object.values(n).flat().find((function(e){return e.name.page===t}))}});function ae(e){return e.data.cyphers}var re=J("Dragging",(function(e){e.ui||(e.ui={});e.ui.dragging=!1}),{activate:function(e){e.ui.dragging=!0},deactivate:function(e){e.ui.dragging=!1}},{},{select:function(e){return e.ui.dragging}});var ce=J("FactionModels",(function(e){e.data||(e.data={});e.data.factionModels={}}),{set:function(e,t){var n=t.page,a=t.factionModels;se(e)[n]=a}},{},{select:se,selectModelPages:function(e){var t=se(e);return Object.values(t).flat().map((function(e){return e.Name.page}))},selectByPage:function(e,t){var n=se(e);return Object.values(n).flat().find((function(e){return e.Name.page===t}))}});function se(e){return e.data.factionModels}var ie=J("Factions",(function(e){e.data||(e.data={});e.data.factions={}}),{set:function(e,t){var n=t.factions;e.data.factions=n}},{},{select:oe,selectPages:function(e){var t=oe(e);return Object.keys(t)}});function oe(e){return e.data.factions}var le=J("Lists",(function(e){e.ui||(e.ui={});e.ui.lists=ue}),{addCard:function(e,t){var n=t.pageId,a=pe(e),r={pageId:n,hidden:!0};a[0].cards.push(r)},addEmptyList:de,moveListBy:function(e,t){var n=t.listIndex,a=t.by,r=pe(e);if(a>0&&n+a<r.length||a<0&&n+a>=0){var c=r[n];r.splice(n,1),r.splice(n+a,0,c)}},removeCard:function(e,t){var n=t.source;pe(e)[n.listIndex].cards.splice(n.cardIndex,1)},removeList:function(e,t){var n=t.listIndex,a=pe(e);a.splice(n,1),0===a.length&&de(e,{listIndex:0})},set:function(e,t){var n=t.lists;e.ui.lists=n.length>0?n:ue},setCardCortex:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.pageId,c=t.cortexIds,s=pe(e)[n].cards[a];s.pageId===r&&(s.cortexIds=c)},setCardVehicleWeapon:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.pageId,c=t.vehicleWeaponId,s=pe(e)[n].cards[a];s.pageId===r&&(s.vehicleWeaponId=c)},setCardWarjackWeapons:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.hardpointNameIndex,c=t.pageId,s=t.warjackWeaponId,i=pe(e)[n].cards[a];i.pageId===c&&(i.warjackWeaponIds||(i.warjackWeaponIds=[]),i.warjackWeaponIds[r]=s)},setListTitle:function(e,t){var n=t.listIndex,a=t.title;pe(e)[n].title=a},toggleCard:function(e,t){var n=t.listIndex,a=t.cardIndex,r=t.pageId,c=pe(e)[n].cards[a];c.pageId===r&&(c.hidden=!c.hidden)},moveCard:function(e,t){var n=t.destination,a=t.source,r=pe(e),c=r[a.listIndex].cards[a.cardIndex];r[a.listIndex].cards.splice(a.cardIndex,1),r[n.listIndex].cards.splice(n.cardIndex,0,c)}},{},{select:pe}),ue=[{title:"",cards:[]}];function de(e,t){var n=t.listIndex;pe(e).splice(n,0,ue[0])}function pe(e){return e.ui.lists}var je=J("PageIds",(function(e){e.data||(e.data={});e.data.pageIds={}}),{addPages:function(e,t){var n=t.pageIdByTitle,a=be(e);for(var r in n)a[r]=n[r]}},{},{select:be,selectByPage:function(e,t){return be(e)[t]},selectByPages:function(e,t){var n=be(e);return t.reduce((function(e,t){return[].concat(Object(d.a)(e),[n[t]])}),[])},selectPageByPageId:function(e,t){var n=be(e);return Object.entries(n).reduce((function(e,n){var a=Object(b.a)(n,2),r=a[0],c=a[1];return e||(c===t?r:e)}),void 0)}});function be(e){return e.data.pageIds}var fe=J("Url",(function(e){e.ui||(e.ui={});e.ui.url=""}),{set:function(e,t){var n=t.url;e.ui.url=n}},{},{select:function(e){return e.ui.url}});var xe=J("WildCardModels",(function(e){e.data||(e.data={});e.data.wildCardModels={}}),{set:function(e,t){var n,a=t.wildCards,r=he(e),c=Object(H.a)(a);try{for(c.s();!(n=c.n()).done;){var s=n.value;r[s.faction]=s.models}}catch(i){c.e(i)}finally{c.f()}}},{},{select:he,selectByPage:function(e,t){var n=he(e);return Object.values(n).flat().find((function(e){return e.Name.page===t}))},selectModelPages:function(e){var t=he(e);return Object.values(t).flat().map((function(e){return e.Name.page}))}});function he(e){return e.data.wildCardModels}var Oe=J("Models",(function(e){e.data||(e.data={});e.data.models={}}),{set:function(e,t){var n=t.page,a=t.model;ge(e)[n]=a}},{},{select:ge,selectByPage:function(e,t){var n=ge(e);return Object.values(n).flat().find((function(e){return e.name.page===t}))}});function ge(e){return e.data.models}var me=J("VehicleWeapons",(function(e){e.data||(e.data={});e.data.vehicleWeapons={}}),{set:function(e,t){var n=t.page,a=t.vehicleWeapon;ve(e)[n]=a}},{},{select:ve,selectByPage:function(e,t){return ve(e)[t]}});function ve(e){return e.data.vehicleWeapons}var ye=J("WarjackWeapons",(function(e){e.data||(e.data={});e.data.warjackWeapons={}}),{set:function(e,t){var n=t.page,a=t.warjackWeapon;ke(e)[n]=a}},{},{select:ke,selectByPage:function(e,t){return ke(e)[t]}});function ke(e){return e.data.warjackWeapons}var we=J("CadreModels",(function(e){e.data||(e.data={});e.data.cadreModels={}}),{set:function(e,t){var n=t.cadreModels;e.data.cadreModels=n},setByCadrePageId:function(e,t){var n=t.cadrePageId,a=t.cadreModels;Ie(e)[n]=a}},{},{select:Ie,selectCadreModelsByPageId:function(e,t){return Ie(e)[t]}});function Ie(e){return e.data.cadreModels}var Se=J("CadreCategoryMembers",(function(e){e.data||(e.data={});e.data.cadreCategoryMembers={}}),{set:function(e,t){var n=t.cadreCategoryMembers;e.data.cadreCategoryMembers=n}},{},{select:function(e){return e.data.cadreCategoryMembers}});var Ce=n(1),We=f.a.Header,_e=f.a.Footer,Pe=f.a.Content,Ne=x.a.TextArea,Fe=h.a.SubMenu;function Me(e){var t=e.faction;switch(t){case"Aeternus_Continuum":return Object(Ce.jsx)("img",{src:F,alt:t,height:"35px"});case"Empyrean":return Object(Ce.jsx)("img",{src:q,alt:t,height:"35px"});case"Iron_Star_Alliance":return Object(Ce.jsx)("img",{src:R,alt:t,height:"35px"});case"Lost_Legion":return Object(Ce.jsx)("img",{src:T,alt:t,height:"35px"});case"Marcher_Worlds":return Object(Ce.jsx)("img",{src:E,alt:t,height:"35px"});case"Wild_Card":return Object(Ce.jsx)("img",{src:A,alt:t,height:"35px"});case"Universal":default:return Object(Ce.jsx)("img",{src:M,alt:t,height:"35px"})}}var qe=Object(i.b)((function(e){return{initialized:Q.selectDone()(e),syncReasons:Q.selectReasons()(e),factionModels:Object.entries(ce.select()(e)).sort().map((function(t){var n=Object(b.a)(t,2),a=n[0],r=n[1];return[ie.select()(e)[a].text,a,r.map((function(e){return Object(j.a)({name:e.Name.text,page:e.Name.page,type:e.Type.text},e.Subtype?{subtype:e.Subtype.map((function(e){return e.text})).join(" ")}:{})})).filter((function(t){return!Object.values(we.select()(e)).flatMap((function(e){return e.map((function(e){return e.title}))})).includes(t.name)})),Object.entries(we.select()(e)).flatMap((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1],c=a.map((function(e){return e.title})),s=r.filter((function(e){return c.includes(e.Name.text)})).map((function(e){return Object(j.a)({name:e.Name.text,page:e.Name.page,type:e.Type.text},e.Subtype?{subtype:e.Subtype.map((function(e){return e.text})).join(" ")}:{})}));return s.length===a.length?[{cadrePageId:n,cadreModels:s}]:[]}))]})),wildCardModels:Object.fromEntries(Object.entries(xe.select()(e)).sort().map((function(e){var t=Object(b.a)(e,2);return[t[0],t[1].map((function(e){return Object(j.a)({name:e.Name.text,page:e.Name.page,type:e.Type.text},e.Subtype?{subtype:e.Subtype.map((function(e){return e.text})).join(" ")}:{})}))]}))),cypherCodecs:ee.select()(e),lists:le.select()(e).map((function(t){return{title:t.title,cards:t.cards.flatMap((function(t){var n=t.pageId,a=t.cortexIds,r=t.warjackWeaponIds,c=t.vehicleWeaponId,s=t.hidden,i=je.select()(e),o=Object.entries(i).filter((function(e){var t=Object(b.a)(e,2);t[0];return t[1]===n})).map((function(e){var t=Object(b.a)(e,2),n=t[0];t[1];return n}))[0]||"",l=Object.entries(ce.select()(e)).flatMap((function(e){var t=Object(b.a)(e,2),n=t[0];return t[1].map((function(e){return Object(j.a)(Object(j.a)({},e),{},{faction:n})}))})).find((function(e){return e.Name.page===o})),u=Object.entries(xe.select()(e)).flatMap((function(e){var t=Object(b.a)(e,2),n=t[0];return t[1].map((function(e){return Object(j.a)(Object(j.a)({},e),{},{faction:n})}))})).find((function(e){return e.Name.page===o})),d=ee.select()(e).find((function(e){return e.Cypher.page===o}));if(l){var p=Oe.selectByPage(o)(e);return[Object(j.a)(Object(j.a)({card:"model",hidden:s,type:l.Type.text,title:l.Name.text,page:l.Name.page,pageId:n,cortexIds:a,warjackWeaponIds:r,vehicleWeaponId:c,faction:l.faction},l.Subtype?{subtype:l.Subtype.map((function(e){return e.text})).join(" ")}:{}),p?{details:Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},p),p.hardpoints?{hardpointNames:De(p.hardpoints)}:{}),p.cortexSelections?{cortexSelections:Object.fromEntries(Object.entries(p.cortexSelections).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return[n,Object.fromEntries(Object.entries(a).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1],r=a.text,c=a.category;return[n,{text:r,categoryId:i[c]}]})))]})))}:{}),p.warjackWeaponSelections?{warjackWeaponSelections:Object.fromEntries(Object.entries(p.warjackWeaponSelections).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return[n,Object(j.a)(Object(j.a)({},a),{},{pageId:i[n]})]})))}:{}),p.vehicleWeaponSelection?{vehicleWeaponSelection:p.vehicleWeaponSelection.map((function(e){var t=e.text,n=e.page;return{text:t,page:n,pageId:i[n]}}))}:{})}:{})]}if(u){var f=Oe.selectByPage(o)(e);return[Object(j.a)(Object(j.a)({card:"model",hidden:s,type:u.Type.text,title:u.Name.text,page:u.Name.page,pageId:n,faction:"Wild_Card"},u.Subtype?{subtype:u.Subtype.map((function(e){return e.text})).join(" ")}:{}),{},{details:f})]}if(d){var x=ne.selectByPage(o)(e);return[Object(j.a)(Object(j.a)({card:"cypher",hidden:s,type:d.Type.text,title:d.Cypher.text,page:d.Cypher.page,pageId:n},"Universal"===d.Faction.text?{faction:"Universal"}:{faction:d.Faction.page}),{},{details:x})]}return[]}))}})),dragging:re.select()(e),url:fe.select()(e),factions:ie.select()(e),vehicleWeapons:me.select()(e),warjackWeapons:ye.select()(e),cadres:Se.select()(e)}}),(function(e){return{toggleCard:function(t,n,a,r){return function(){return e(le.toggleCard({listIndex:t,cardIndex:n,pageId:a,card:r}))}},dragStart:function(t){return e(D(t))},dragEnd:function(t){return e(L(t))},menuItemClicked:function(t){return function(n){e(B({page:t})),n.stopPropagation()}},allMenuItemsClicked:function(t){return function(n){t.forEach((function(t){return e(B({page:t}))})),n.stopPropagation()}},removeList:function(t){return function(){return e(le.removeList({listIndex:t}))}},addEmptyList:function(t){return function(){return e(le.addEmptyList({listIndex:t}))}},moveListBy:function(t,n){return function(){return e(le.moveListBy({listIndex:t,by:n}))}},setListTitle:function(t){return function(n){return e(le.setListTitle({listIndex:t,title:n.target.value}))}},setUrl:function(t){return e(fe.set({url:t.target.value}))},bookmark:function(){var e=document.querySelector(".bookmark input");if(e)if(navigator.userAgent.match(/ipad|iphone/i)){var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,999999)}else e.select()},open:function(e){if("Enter"===e.key){var t=document.querySelector(".bookmark input").value;t&&window.open(t,"_self")}},setCardCortex:function(t,n,a){return function(r,c){var s=c.label;return e(le.setCardCortex({listIndex:t,cardIndex:n,pageId:a,cortexIds:s}))}},setCardWarjackWeapons:function(t,n,a,r){return function(c,s){var i=s.label;return e(le.setCardWarjackWeapons({listIndex:t,cardIndex:n,hardpointNameIndex:a,pageId:r,warjackWeaponId:i}))}},setCardVehicleWeapon:function(t,n,a){return function(r,c){var s=c.label;return e(le.setCardVehicleWeapon({listIndex:t,cardIndex:n,pageId:a,vehicleWeaponId:s}))}}}}))((function(e){var t=e.initialized,n=e.syncReasons,a=e.factionModels,c=e.wildCardModels,s=e.cypherCodecs,i=e.dragging,o=e.menuItemClicked,l=e.allMenuItemsClicked,u=e.dragEnd,x=e.dragStart,F=e.lists,M=e.toggleCard,q=e.removeList,R=e.addEmptyList,T=e.moveListBy,E=e.setListTitle,A=e.setUrl,L=e.url,D=e.bookmark,B=e.open,z=e.setCardCortex,U=e.setCardWarjackWeapons,V=e.setCardVehicleWeapon,Y=e.factions,H=e.vehicleWeapons,G=e.warjackWeapons,K=e.cadres,J=r.a.useState(""),$=Object(b.a)(J,2),Z=$[0],Q=$[1];return Object(Ce.jsx)("div",{className:"App",children:Object(Ce.jsx)(f.a,{children:Object(Ce.jsxs)(f.a,{children:[Object(Ce.jsxs)(N.a,{onDragStart:x,onDragEnd:u,children:[Object(Ce.jsx)(We,{children:Object(Ce.jsx)(N.c,{droppableId:"trash_header",children:function(e){return Object(Ce.jsxs)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[i?Object(Ce.jsx)("div",{style:{animation:"shake 0.82s cubic-bezier(.36,.07,.19,.97) both",color:"white"},children:Object(Ce.jsx)(I.a,{})}):Object(Ce.jsx)("a",{className:"logo",href:"/",children:"WARFASTER"}),e.placeholder]}))}},"trash_header")}),t?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Pe,{children:Object(Ce.jsx)(h.a,{id:"factions",openKeys:[],onOpenChange:function(e){if(e.length>0){var t=e[0];Q(t===Z?"":e[0])}},mode:"horizontal",triggerSubMenuAction:"click",children:a.map((function(e){var t=Object(b.a)(e,3),n=(t[0],t[1]);t[2];return Object(Ce.jsx)(Fe,{icon:Object(Ce.jsx)(Me,{faction:n})},n)}))})}),Object(Ce.jsx)(Pe,{children:Object(Ce.jsx)(f.a,{children:Object(Ce.jsx)(O.a,{gutter:16,children:F.map((function(e,t){var n=e.title,a=e.cards;return Object(Ce.jsx)(g.a,{xs:24,sm:12,md:12,lg:12,xl:8,xxl:8,children:Object(Ce.jsxs)("div",{className:"cards",children:[Object(Ce.jsx)(y.a,{placement:"top",color:"transparent",trigger:"click",align:{offset:[0,17]},title:Object(Ce.jsxs)("div",{className:"ant-tooltip-inner-box",children:[Object(Ce.jsx)("div",{onClick:q(t),style:{cursor:"pointer",display:"inline-block",paddingRight:"4px",fontSize:"1.5em"},children:Object(Ce.jsx)(I.a,{})}),Object(Ce.jsx)("div",{onClick:R(t),style:{cursor:"pointer",display:"inline-block",padding:"0 4px",fontSize:"1.5em"},children:Object(Ce.jsx)(C.a,{})}),Object(Ce.jsx)("div",{onClick:T(t,-1),style:{cursor:"pointer",display:"inline-block",padding:"0 4px",fontSize:"1.5em"},children:Object(Ce.jsx)(W.a,{})}),Object(Ce.jsx)("div",{onClick:T(t,1),style:{cursor:"pointer",display:"inline-block",paddingLeft:"4px",fontSize:"1.5em"},children:Object(Ce.jsx)(_.a,{})})]}),children:Object(Ce.jsx)("div",{style:{cursor:"pointer"},className:"header",children:Object(Ce.jsxs)(O.a,{children:[Object(Ce.jsx)(g.a,{span:16,className:"army-list-title",children:Object(Ce.jsx)(Ne,{placeholder:Re(a,Y,"Name your list"),value:n,maxLength:30,autoSize:!0,onChange:E(t)})}),Object(Ce.jsx)(g.a,{span:8,className:"faction-icons",children:Object.entries(a.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),t.faction?Object(p.a)({},t.faction,(e[t.faction]||0)+1):{Universal:(e.Universal||0)+1})}),{})).sort().map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(Ce.jsx)(v.a,{size:"small",count:r,offset:[0,10],children:Object(Ce.jsx)(Me,{faction:a})},"badge".concat(t))}))})]})})}),Object(Ce.jsx)(N.c,{droppableId:"cards_".concat(t),children:function(e){return Object(Ce.jsxs)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[a.map((function(e,n){var a=e.card,c=e.hidden,s=e.type,i=e.title,o=e.page,l=e.pageId,u=e.cortexIds,p=e.vehicleWeaponId,f=e.warjackWeaponIds,x=e.subtype,h=e.faction,O=e.details;return Object(Ce.jsx)(N.b,{draggableId:"".concat(o,"_").concat(t,"_").concat(n),index:n,children:function(e){return Object(Ce.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"body",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(Ce.jsxs)(m.a,{hoverable:!0,className:["card",h,s],onClick:M(t,n,l,a),children:[Object(Ce.jsx)(m.a.Meta,{avatar:h?Object(Ce.jsx)("div",{style:{height:"25px",width:"35px",textAlign:"center"},children:Object(Ce.jsx)(Me,{faction:h})}):Object(Ce.jsx)(Me,{faction:"Universal"}),title:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("div",{children:i}),Object(Ce.jsxs)("div",{className:"card-type",children:[(h||"").replace(/_/g," "),x?" "+x:"",s?" "+s:""]}),Object(Ce.jsx)("div",{children:Object(Ce.jsx)("span",{className:"subtitle",children:[].concat(Object(d.a)(O&&O.vehicleWeaponSelection&&Ee(O.vehicleWeaponSelection,p)?[Ee(O.vehicleWeaponSelection,p)]:[]),Object(d.a)(O&&O.cortexSelections&&Te(O.cortexSelections,u)?[Te(O.cortexSelections,u)]:[]),Object(d.a)(O&&O.warjackWeaponSelections&&f&&0!==f.length?(o=O.warjackWeaponSelections,g=f,g.flatMap((function(e){var t=Object.values(o).find((function(t){var n=t.pageId;return n===e}));return t?[t.name]:[]}))):[])).join(", ")})})]})}),c?Object(Ce.jsx)(Ce.Fragment,{}):O?Object(Ce.jsxs)("div",{className:"card-content",children:[O.pow?Object(Ce.jsxs)("p",{children:["Pow: ",O.pow.text]}):Object(Ce.jsx)(Ce.Fragment,{}),O.effect&&0!==O.effect.length?O.effect.map((function(e,t){return Object(Ce.jsx)("p",{children:e},"effect_".concat(t))})):Object(Ce.jsx)(Ce.Fragment,{}),O.squadSize?Object(Ce.jsxs)("dl",{children:[Object(Ce.jsx)("dt",{children:"Squad Size"}),Object(Ce.jsx)("dd",{children:O.squadSize})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.deploymentCost?Object(Ce.jsxs)("dl",{children:[Object(Ce.jsx)("dt",{children:"DC"}),Object(Ce.jsx)("dd",{children:O.deploymentCost})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.baseSize?Object(Ce.jsxs)("dl",{children:[Object(Ce.jsx)("dt",{children:"Base Size"}),Object(Ce.jsx)("dd",{children:O.baseSize})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.health?Object(Ce.jsxs)("dl",{children:[Object(Ce.jsx)("dt",{children:"Health"}),Object(Ce.jsx)("dd",{children:O.health})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.wildCardFactions&&0!==Object.values(O.wildCardFactions).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Wild Card Factions"}),Object(Ce.jsx)("ul",{children:Object.values(O.wildCardFactions).map((function(e,t){var n=e.text;return Object(Ce.jsx)("li",{children:n},"wild_card_faction_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.hardpoints?Object(Ce.jsxs)("dl",{children:[Object(Ce.jsx)("dt",{children:"Hardpoints"}),Object(Ce.jsx)("dd",{children:O.hardpoints})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.weaponPoints?Object(Ce.jsxs)("dl",{children:[Object(Ce.jsx)("dt",{children:"Weapon Points"}),Object(Ce.jsx)("dd",{children:O.weaponPoints})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.modelStats&&0!==Object.keys(O.modelStats).length?Object(Ce.jsxs)("table",{children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsx)("tr",{children:Object.keys(O.modelStats).map((function(e,t){return Object(Ce.jsx)("th",{children:e},"".concat(e,"_stat_").concat(t))}))})}),Object(Ce.jsx)("tbody",{children:Object(Ce.jsx)("tr",{children:Object.entries(O.modelStats).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(Ce.jsx)("td",{children:r},"".concat(a,"_stat_value_").concat(t))}))})})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.specialRules&&0!==Object.entries(O.specialRules).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Special Rules"}),Object(Ce.jsx)("dl",{children:Object.entries(O.specialRules).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],c=n[1];return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:a}),Object(Ce.jsx)("dd",{children:c})]},"special_rules_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.weapons&&0!==O.weapons.length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Weapons"}),Object(Ce.jsxs)("table",{children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"Name"}),Object(Ce.jsx)("th",{children:"Attack Type"}),Object(Ce.jsx)("th",{children:"Damage Type"}),Object(Ce.jsx)("th",{children:"Range"}),Object(Ce.jsx)("th",{children:"POW"})]})}),Object(Ce.jsx)("tbody",{children:O.weapons.map((function(e,t){return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:e.Name}),Object(Ce.jsx)("td",{children:e["Attack Type"]}),Object(Ce.jsx)("td",{children:e["Damage Type"]}),Object(Ce.jsx)("td",{children:e.Range}),Object(Ce.jsx)("td",{children:e.POW})]}),e.specialRules?Object.entries(e.specialRules).map((function(e,n){var a=Object(b.a)(e,2),r=a[0],c=a[1];return Object(Ce.jsx)("tr",{children:Object(Ce.jsx)("td",{colSpan:"5",children:Object(Ce.jsxs)("dl",{children:[Object(Ce.jsx)("dt",{children:r}),Object(Ce.jsx)("dd",{children:c})]})})},"weapon_number_".concat(t,"_rule_").concat(n))})):Object(Ce.jsx)(Ce.Fragment,{})]},"weapon_number_".concat(t))}))})]})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.advantages&&0!==Object.entries(O.advantages).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Advantages"}),Object(Ce.jsx)("dl",{children:Object.entries(O.advantages).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],c=n[1];return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:a}),Object(Ce.jsx)("dd",{children:c})]},"advantage_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.maneuvers&&0!==Object.values(O.maneuvers).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Maneuvers"}),Object(Ce.jsx)("dl",{children:Object.entries(O.maneuvers).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],c=n[1];return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:a}),Object(Ce.jsx)("dd",{children:c})]},"advantage_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.vehicleWeaponSelection&&0!==O.vehicleWeaponSelection.length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Vehicle Weapon Selections"}),Object(Ce.jsx)(k.a,{defaultValue:Object(Ce.jsx)("span",{style:{color:"gray",fontStyle:"italic"},children:"Vehicle Weapon"}),onClick:function(e){return e.stopPropagation()},onSelect:V(t,n,l),value:p?Ee(O.vehicleWeaponSelection,p):void 0,children:O.vehicleWeaponSelection.map((function(e,t){var n=e.text,a=e.page,c=e.pageId;return Object(Ce.jsxs)(k.a.Option,{label:c,value:n,onClick:function(e){return e.stopPropagation()},children:[Object(Ce.jsx)("h3",{children:n}),Object(Ce.jsx)("div",{children:H[a.split("#")[0]]?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)("div",{children:["Location:"," ",H[a.split("#")[0]].location]}),H[a.split("#")[0]].specialRules?Object(Ce.jsx)("dl",{children:Object.entries(H[a.split("#")[0]].specialRules).map((function(e,t){var n=Object(b.a)(e,2),c=n[0],s=n[1];return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:c}),Object(Ce.jsx)("dd",{children:s})]},"special_rules_".concat(a,"_").concat(t))}))}):"",H[a.split("#")[0]].weapons?Object(Ce.jsxs)("table",{children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"Name"}),Object(Ce.jsx)("th",{children:"Attack Type"}),Object(Ce.jsx)("th",{children:"Damage Type"}),Object(Ce.jsx)("th",{children:"Range"}),Object(Ce.jsx)("th",{children:"POW"})]})}),Object(Ce.jsx)("tbody",{children:H[a.split("#")[0]].weapons.map((function(e,t){return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:e.Name}),Object(Ce.jsx)("td",{children:e["Attack Type"]}),Object(Ce.jsx)("td",{children:e["Damage Type"].join?e["Damage Type"].join(" "):e["Damage Type"]}),Object(Ce.jsx)("td",{children:e.Range}),Object(Ce.jsx)("td",{children:e.POW})]}),e.specialRules?Object(Ce.jsx)("tr",{children:Object(Ce.jsx)("td",{colSpan:"5",children:Object(Ce.jsx)("dl",{children:Object.entries(e.specialRules).map((function(t,n){var c=Object(b.a)(t,2),s=c[0],i=c[1];return Object(Ce.jsx)(r.a.Fragment,{children:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("dt",{children:s}),Object(Ce.jsx)("dd",{children:i})]})},"vehicle_weapons_weapon_".concat(e.Name,"_special_rules_").concat(a,"_").concat(n))}))})})}):Object(Ce.jsx)(Ce.Fragment,{})]},"vehicle_weapons_weapon_".concat(a,"_").concat(t))}))})]}):""]}):"Weapon details missing!"})]},"vehicle_weapon_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.vehicleWeaponSelection&&0!==Object.values(O.vehicleWeaponSelection).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Vehicle Weapon Selection"}),Object(Ce.jsx)("ol",{children:Object.values(O.vehicleWeaponSelection).map((function(e,t){var n=e.text,a=e.page;return Object(Ce.jsx)("li",{children:Object(Ce.jsx)("a",{href:a,children:n})},"weapon_selection_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.cortexes&&0!==Object.entries(O.cortexes).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Cortex"}),Object(Ce.jsx)("ol",{children:Object.entries(O.cortexes).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],c=n[1];return Object(Ce.jsxs)("li",{children:[a,Object(Ce.jsx)("dl",{children:Object.entries(c).map((function(e,n){var a=Object(b.a)(e,2),c=a[0],s=a[1];return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:c}),Object(Ce.jsx)("dd",{children:s})]},"cortex_".concat(t,"_advantage_").concat(n))}))})]},"cortex_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.cortexSelections&&0!==Object.entries(O.cortexSelections).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Cortex Selections"}),Object(Ce.jsx)(k.a,{defaultValue:Object(Ce.jsx)("span",{style:{color:"gray",fontStyle:"italic"},children:"Cortex"}),onClick:function(e){return e.stopPropagation()},onSelect:z(t,n,l),value:u?Te(O.cortexSelections,u):void 0,children:Object.entries(O.cortexSelections).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],c=n[1];return Object(Ce.jsxs)(k.a.Option,{label:Object.values(c).map((function(e){return e.categoryId})),value:a,onClick:function(e){return e.stopPropagation()},children:[a,Object(Ce.jsx)("dl",{children:Object.entries(c).map((function(e,n){var a=Object(b.a)(e,2),c=a[0],s=a[1].text;return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:c}),Object(Ce.jsx)("dd",{children:s})]},"cortex_".concat(t,"_advantage_").concat(n))}))})]},"cortex_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.chassisSpecialRules&&0!==Object.entries(O.chassisSpecialRules).length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Chassis Special Rules"}),Object(Ce.jsx)("dl",{children:Object.entries(O.chassisSpecialRules).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],c=n[1];return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:a}),Object(Ce.jsx)("dd",{children:c})]},"advantage_".concat(t))}))})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.hardpointNames?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Warjack Weapon Selections"}),O.hardpointNames.map((function(e,a){return O.warjackWeaponSelections&&0!==Object.keys(O.warjackWeaponSelections).length?Object(Ce.jsx)("div",{children:Object(Ce.jsx)(k.a,{defaultValue:Object(Ce.jsx)("span",{style:{color:"gray",fontStyle:"italic"},children:e}),onClick:function(e){return e.stopPropagation()},onSelect:U(t,n,a,l),value:f&&f[a]?Ae(O.warjackWeaponSelections,f[a]):void 0,children:Object.values(O.warjackWeaponSelections).filter((function(t){return t.location===e})).map((function(e,t){var n=e.name,c=e.page,s=e.pageId,i=e.cost;e.location;return Object(Ce.jsxs)(k.a.Option,{label:s,value:n,onClick:function(e){return e.stopPropagation()},children:[Object(Ce.jsx)("h3",{children:Le(n,i)}),Object(Ce.jsx)("div",{children:G[c.split("#")[0]]?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)("div",{children:["Location:"," ",G[c.split("#")[0]].location]}),G[c.split("#")[0]].specialRules?Object(Ce.jsx)("dl",{children:Object.entries(G[c.split("#")[0]].specialRules).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],s=n[1];return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsx)("dt",{children:a}),Object(Ce.jsx)("dd",{children:s})]},"special_rules_".concat(c,"_").concat(t))}))}):"",G[c.split("#")[0]].weapons?Object(Ce.jsxs)("table",{children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"Name"}),Object(Ce.jsx)("th",{children:"Attack Type"}),Object(Ce.jsx)("th",{children:"Damage Type"}),Object(Ce.jsx)("th",{children:"Range"}),Object(Ce.jsx)("th",{children:"POW"})]})}),Object(Ce.jsx)("tbody",{children:G[c.split("#")[0]].weapons.map((function(e,t){return Object(Ce.jsxs)(r.a.Fragment,{children:[Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:e.Name}),Object(Ce.jsx)("td",{children:e["Attack Type"]}),Object(Ce.jsx)("td",{children:e["Damage Type"].join?e["Damage Type"].join(" "):e["Damage Type"]}),Object(Ce.jsx)("td",{children:e.Range}),Object(Ce.jsx)("td",{children:e.POW})]}),e.specialRules?Object(Ce.jsx)("tr",{children:Object(Ce.jsx)("td",{colSpan:"5",children:Object(Ce.jsx)("dl",{children:Object.entries(e.specialRules).map((function(t,n){var a=Object(b.a)(t,2),s=a[0],i=a[1];return Object(Ce.jsx)(r.a.Fragment,{children:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("dt",{children:s}),Object(Ce.jsx)("dd",{children:i})]})},"warjack_weapons_weapon_".concat(e.Name,"_special_rules_").concat(c,"_").concat(n))}))})})}):Object(Ce.jsx)(Ce.Fragment,{})]},"warjack_weapons_weapon_".concat(c,"_").concat(t))}))})]}):""]}):"Weapon details missing!"})]},"warjack_weapon_".concat(a,"_").concat(t))}))})},"warjack_weapon_".concat(a)):Object(Ce.jsx)(Ce.Fragment,{})}))]}):Object(Ce.jsx)(Ce.Fragment,{}),O.weaponDetails&&0!==O.weaponDetails.length?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Weapon Details"}),Object(Ce.jsxs)("table",{children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:"Weapon"}),Object(Ce.jsx)("th",{children:"Location"}),Object(Ce.jsx)("th",{children:"Cost"}),Object(Ce.jsx)("th",{children:"Weapon Pack"})]})}),Object(Ce.jsx)("tbody",{children:O.weaponDetails.map((function(e,t){return Object(Ce.jsx)(r.a.Fragment,{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("td",{children:e.Weapon.text}),Object(Ce.jsx)("td",{children:e.Location.text}),Object(Ce.jsx)("td",{children:e.Cost.text}),Object(Ce.jsx)("td",{children:e["Weapon Pack"].text})]})},"weapon_details_number_".concat(t))}))})]})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.release?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Release"}),Object(Ce.jsx)("p",{children:O.release})]}):Object(Ce.jsx)(Ce.Fragment,{}),O.lore?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("p",{children:"Lore"}),Object(Ce.jsx)("p",{children:O.lore})]}):Object(Ce.jsx)(Ce.Fragment,{})]}):Object(Ce.jsx)("div",{style:{margin:"10px 0",textAlign:"center"},children:Object(Ce.jsx)(S.a,{spin:!0,style:{fontSize:"23px"}})})]})}));var o,g}},"".concat(o,"_").concat(t,"_").concat(n))})),e.placeholder]}))}},"cards_".concat(t)),a.length>0?Object(Ce.jsxs)("div",{className:"footer",children:[Object(Ce.jsx)(v.a,{size:"small",count:a.length,offset:[10,5],children:"Card:"},"_badge"),Object.entries(a.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(p.a)({},t.type,(e[t.type]||0)+1))}),{})).sort().map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(Ce.jsxs)(v.a,{size:"small",count:r,offset:[10,5],children:[a,":"]},"badge".concat(t))}))]}):Object(Ce.jsx)(Ce.Fragment,{})]},"cards".concat(t))},"lists_col_".concat(t))}))})})})]}):Object(Ce.jsx)(Pe,{children:Object(Ce.jsx)(f.a,{children:Object(Ce.jsx)(O.a,{children:Object(Ce.jsx)(g.a,{xs:24,sm:12,md:12,lg:12,xl:8,xxl:8,children:Object(Ce.jsxs)("div",{className:"cards",children:[Object(Ce.jsx)("div",{style:{cursor:"pointer"},className:"header",children:Object(Ce.jsxs)(O.a,{children:[Object(Ce.jsx)(g.a,{span:16,className:"army-list-title",children:Object(Ce.jsx)(Ne,{value:"Setting up Warfaster",maxLength:30,autoSize:!0})}),Object(Ce.jsx)(g.a,{span:8,className:"faction-icons",children:Object(Ce.jsx)(S.a,{spin:!0,style:{color:"#d1c5b1",fontSize:"23px",margin:"3px 10px 0 0"}})})]})}),Object(Ce.jsx)("div",{children:n.map((function(e,t){var n=e.reason,a=e.description;return Object(Ce.jsx)("div",{className:"body",children:Object(Ce.jsx)(m.a,{hoverable:!0,className:"card",children:Object(Ce.jsx)(m.a.Meta,{avatar:Object(Ce.jsx)("div",{style:{height:"25px",width:"35px",textAlign:"center"},children:Object(Ce.jsx)(S.a,{spin:!0,style:{color:"#d1c5b1",fontSize:"35px"}})}),title:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("div",{children:n}),Object(Ce.jsx)("div",{className:"card-type",children:a})]})})})},"reason".concat(t))}))}),Object(Ce.jsx)("div",{className:"footer",children:Object(Ce.jsx)(v.a,{size:"small",count:n.length,offset:[10,5],children:"Loading:"},"_badge")})]},"cards0")})})})}),Object(Ce.jsx)(N.c,{droppableId:"trash_footer",children:function(e){return Object(Ce.jsx)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:i?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("div",{className:"trash-footer",children:Object(Ce.jsxs)("div",{style:{animation:"shake 0.82s cubic-bezier(.36,.07,.19,.97) both",color:"white"},children:[Object(Ce.jsx)(I.a,{}),Object(Ce.jsx)("div",{style:{display:"none"},children:e.placeholder})]})}),Object(Ce.jsx)(_e,{children:Object(Ce.jsxs)("div",{className:"copyright-notice",children:["Images originating from the Privateer Press website are \xa9 2001\u2014",Object(Ce.jsx)(Ce.Fragment,{children:(new Date).getFullYear()})," Privateer Press, Inc. All Rights Reserved. Privateer Press, warcaster and their logos are trademarks of Privateer Press, Inc. Images and trademarks used without permission. This website is unofficial and is not endorsed by Privateer Press."]})})]}):Object(Ce.jsxs)(_e,{children:[Object(Ce.jsx)("div",{className:"bookmark",children:Object(Ce.jsx)(f.a,{children:Object(Ce.jsx)(O.a,{children:Object(Ce.jsx)(g.a,{xs:24,sm:24,md:18,lg:18,xl:16,xxl:16,children:Object(Ce.jsx)("input",{value:L,onChange:A,onKeyDown:B,onClick:D})})})})}),Object(Ce.jsxs)("div",{className:"copyright-notice",children:["Images originating from the Privateer Press website are \xa9 2001\u2014",Object(Ce.jsx)(Ce.Fragment,{children:(new Date).getFullYear()})," Privateer Press, Inc. All Rights Reserved. Privateer Press, warcaster and their logos are trademarks of Privateer Press, Inc. Images and trademarks used without permission. This website is unofficial and is not endorsed by Privateer Press."]})]})}))}},"trash_footer")]}),a.map((function(e){var t=Object(b.a)(e,4),n=t[0],a=t[1],r=t[2],i=t[3];return Object(Ce.jsx)(w.a,{visible:Z===a,placement:"right",onClose:Q,width:"80%",mask:!1,closeIcon:Object(Ce.jsx)(P.a,{}),children:Object(Ce.jsxs)(h.a,{id:"faction_".concat(a),mode:"inline",triggerSubMenuAction:"click",children:[Object(Ce.jsx)(h.a.ItemGroup,{title:Object(Ce.jsx)("div",{onClick:l(r.map((function(e){return e.page}))),children:n}),children:r.map((function(e){var t=e.name,n=e.page,r=e.type,c=e.subtype,s=t.slice(0,40);return Object(Ce.jsx)(h.a.Item,{className:a,children:Object(Ce.jsxs)("span",{onClick:o(n),children:[Object(Ce.jsx)("span",{className:"card",children:s.length===t.length?s:Object(Ce.jsxs)(y.a,{placement:"top",title:t,children:[s,"..."]})}),Object(Ce.jsxs)("span",{className:"types",children:[c||"",r?(c?" ":"")+r:""]})]})},a+":"+n)}))}),i?i.map((function(e){var t=e.cadrePageId,n=e.cadreModels;return Object(Ce.jsx)(h.a.ItemGroup,{title:Object(Ce.jsx)("div",{onClick:l(n.map((function(e){return e.page}))),children:K[t]}),children:n.map((function(e){var n=e.name,r=e.page,c=e.type,s=e.subtype,i=n.slice(0,40);return Object(Ce.jsx)(h.a.Item,{className:a,children:Object(Ce.jsxs)("span",{onClick:o(r),children:[Object(Ce.jsx)("span",{className:"card",children:i.length===n.length?i:Object(Ce.jsxs)(y.a,{placement:"top",title:n,children:[i,"..."]})}),Object(Ce.jsxs)("span",{className:"types",children:[s||"",c?(s?" ":"")+c:""]})]})},a+":"+r+":cadre:"+t)}))},"Cadre:".concat(t))})):Object(Ce.jsx)(Ce.Fragment,{}),Object(Ce.jsx)(h.a.ItemGroup,{title:Object(Ce.jsx)("div",{onClick:l((c[a]||[]).map((function(e){return e.page}))),children:"Wild Cards"}),children:(c[a]||[]).sort((function(e,t){return e.type<t.type?-1:1})).map((function(e,t){var n=e.name,r=e.page,c=e.type,s=e.subtype,i=n.slice(0,40);return Object(Ce.jsx)(h.a.Item,{children:Object(Ce.jsxs)("span",{onClick:o(r),children:[Object(Ce.jsx)("span",{className:"card",children:i.length===n.length?i:Object(Ce.jsxs)(y.a,{placement:"top",title:n,children:[i,"..."]})}),Object(Ce.jsxs)("span",{className:"types",children:[s||"",c?(s?" ":"")+c:""]})]})},a+":"+r)}))}),Object.entries(s.filter((function(e){return-1!==[n,"Universal"].indexOf(e.Faction.text)})).reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(p.a)({},t.Faction.text,[].concat(Object(d.a)(e[t.Faction.text]||[]),[t])))}),{})).sort((function(e,t){var n=Object(b.a)(e,1)[0],a=Object(b.a)(t,1)[0];return"Universal"===n?1:"Universal"===a?-1:1})).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(Ce.jsx)(h.a.ItemGroup,{title:Object(Ce.jsx)("div",{onClick:l(a.sort((function(e,t){return e.Type.text<t.Type.text?-1:1})).map((function(e){return e.Cypher.page}))),children:"".concat(n," Cyphers")}),children:a.sort((function(e,t){return e.Type.text<t.Type.text?-1:1})).map((function(e){var t=e.Cypher,n=e.Type;return Object(Ce.jsx)(h.a.Item,{className:n.text,children:Object(Ce.jsxs)("span",{onClick:o(t.page),children:[Object(Ce.jsx)("span",{className:"card",children:t.text}),Object(Ce.jsx)("span",{className:"types",children:n.text})]})},":"+t.page)}))},n)}))]})},"drawer_".concat(a))})),Object(Ce.jsx)(w.a,{visible:"cypher_codecs"===Z,placement:"right",onClose:Q,width:"80%",mask:!1,closeIcon:Object(Ce.jsx)(P.a,{}),children:Object(Ce.jsx)(h.a,{id:"faction_cyphers",mode:"inline",triggerSubMenuAction:"click",children:Object.entries(s.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(p.a)({},t.Faction.text,[].concat(Object(d.a)(e[t.Faction.text]||[]),[t])))}),{})).sort().map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(Ce.jsx)(h.a.ItemGroup,{title:"".concat(n," Cyphers"),children:a.sort((function(e,t){return e.Type.text<t.Type.text?-1:1})).map((function(e){var t=e.Cypher,n=e.Type;return Object(Ce.jsx)(h.a.Item,{className:n.text,children:Object(Ce.jsxs)("span",{onClick:o(t.page),children:[Object(Ce.jsx)("span",{className:"card",children:t.text}),Object(Ce.jsx)("span",{className:"types",children:n.text})]})},":"+t.page)}))},n)}))})},"drawer_cyphers")]})})})}));function Re(e,t,n){var a=e.map((function(e){return e.faction}));if(0===a.length)return n;var r=a.filter((function(e){return-1===["Universal","Wild_Card"].indexOf(e)}));if(0===r.length)return a.filter((function(e){return"Universal"===e})).length===a.length?"Universal Cyphers":n;var c=r.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(p.a)({},t,!0))}),{});if(Object.keys(c).length>1)return"Several factions";var s=t[Object.keys(c)[0]].text;if(s){var i=e.map((function(e){return e.type})),o=["Fury","Geometric","Harmonic","Overdrive"];return i.filter((function(e){return-1===o.indexOf(e)})).length===i.length?s+" Models":i.filter((function(e){return o.indexOf(e)>-1})).length===i.length?s+" Cyphers":s}return n}function Te(e,t){return(Object.entries(e).find((function(e){var n=Object(b.a)(e,2),a=(n[0],n[1]);return Object.values(a).map((function(e){return e.categoryId})).join("")===(t||[]).join("")}))||[void 0])[0]}function Ee(e,t){var n=e.find((function(e){return e.pageId===t}));if(n)return n.text}function Ae(e,t){var n=Object.values(e).find((function(e){return e.pageId===t}));return n?Le(n.name,n.cost):t}function Le(e,t){return"".concat(e," (cost ").concat(t,")")}function De(e){for(var t="\\s*(\\d+)\\s*(\\w+)\\s*",n=null,a=1;a<=10;a++){if(null!==(n=new RegExp("^".concat("\\s*(\\d+)\\s*",":").concat(t).concat(u(",".concat(t),a-1),"$")).exec(e)))break}if(null!==n){for(var r=parseInt(n[1],10),c=[],s=2;s<n.length;s+=2)for(var i=parseInt(n[s],10),o=n[s+1],l=1;l<=i;l++)c.push(o);return r!==c.length&&console.error("Hardpoints do not add up!",e,r,c),c}function u(e,t){return 0===t?"":e+u(e,t-1)}}var Be=n(9),ze=n.n(Be),Ue=n(8),Ve=ze.a.mark($e),Ye=ze.a.mark(Ze),He=ze.a.mark(Qe),Ge=ze.a.mark(Xe),Ke=ze.a.mark(et),Je=J("Requests",(function(e){e.io||(e.io={});e.io.requests={cached:{},pending:[]}}),{cache:function(e,t){var n=t.url,a=t.data;nt(e)[n]=a},fetch:function(e,t){var n=at(e);n.find((function(e){return e.url===t.url}))||n.push(t)},fetched:function(e,t){var n=t.url,a=at(e),r=a.findIndex((function(e){return e.url===n}));r>-1&&a.splice(r,1)}},{parsePage:$e,queryCadreModels:Ze,queryCadres:Qe,queryRevisions:Xe,queryPageIds:et},{selectCachedUrl:function(e,t){return nt(e)[t]},selectPending:at});function $e(e){var t,n,a;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.page,n=e.parserName,a={action:"parse",page:t},r.next=4,Object(Ue.e)(Je.fetch({desc:"parsePage",parserName:n,queryParams:a,url:rt(a)}));case 4:case"end":return r.stop()}}),Ve)}function Ze(e){var t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.pageId,n={action:"query",list:"categorymembers",cmpageid:t,cmtype:"page",cmlimit:"max"},a.next=4,Object(Ue.e)(Je.fetch({desc:"queryCadreModels",queryParams:n,url:rt(n)}));case 4:case"end":return a.stop()}}),Ye)}function Qe(){var e;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={action:"query",list:"categorymembers",cmtitle:"Category:Cadre",cmtype:"subcat",cmlimit:"max"},t.next=3,Object(Ue.e)(Je.fetch({desc:"queryCadres",queryParams:e,url:rt(e)}));case 3:case"end":return t.stop()}}),He)}function Xe(e){var t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.pageIds,n={action:"query",prop:"revisions",pageids:t.join("|")},a.next=4,Object(Ue.e)(Je.fetch({desc:"queryRevisions",queryParams:n,url:rt(n)}));case 4:case"end":return a.stop()}}),Ge)}function et(e){var t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.pages,n={action:"query",prop:"pageprops",titles:encodeURIComponent(t.map((function(e){return e.text})).join("|"))},a.next=4,Object(Ue.e)(Je.fetch({desc:"queryPageIds",pages:t,queryParams:n,url:rt(n)}));case 4:case"end":return a.stop()}}),Ke)}function tt(e){return e.io.requests}function nt(e){return tt(e).cached}function at(e){return tt(e).pending}function rt(e){var t=Object(j.a)(Object(j.a)({},e),{formatversion:2,format:"json"});return"https://privateerpress.wiki/api.php?"+Object.entries(t).map((function(e){return e.join("=")})).join("&")}var ct=J("ParserNames",(function(e){e.data||(e.data={});e.data.parserNames={}}),{setForPage:function(e,t){var n=t.page,a=t.parserName;st(e)[n]=a}},{},{selectByPage:function(e,t){return st(e)[t]}});function st(e){return e.data.parserNames}var it=ze.a.mark(ot);function ot(){var e,t,n,a,r,c;return ze.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,Object(Ue.g)(Je.fetch().type);case 3:if(e=s.sent,t=e.payload,n=t.desc,a=t.queryParams,r=t.parserName,"parsePage"===n){s.next=8;break}return s.abrupt("continue",0);case 8:if((c=a.page)&&r){s.next=12;break}return console.error("Could not cache parser!",{page:c,parserName:r},e),s.abrupt("continue",0);case 12:return s.next=14,Object(Ue.e)(ct.setForPage({page:c,parserName:r}));case 14:s.next=0;break;case 16:case"end":return s.stop()}}),it)}var lt=function(e){return new Promise((function(t,n){var a="jsonp_callback_"+Math.round(1e5*Math.random());window[a]=function(e){delete window[a],document.body.removeChild(r),t(e)};var r=document.createElement("script");r.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+a,document.body.appendChild(r)}))},ut=ze.a.mark(dt);function dt(){var e,t,n,a,r,c,s,i,o,l,u,d,p,j,b,f;return ze.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(Ue.a)(Je.fetch().type);case 2:e=x.sent;case 3:return x.next=6,Object(Ue.g)(e);case 6:return t=x.sent,n=t.payload,a=n.desc,r=n.parserName,c=n.queryParams,s=n.url,x.next=11,Object(Ue.f)(Je.selectCachedUrl(s));case 11:if(i=x.sent,o=!1,i){x.next=20;break}return x.next=16,Object(Ue.c)(lt,s);case 16:return i=x.sent,o=!0,x.next=20,Object(Ue.e)(Je.cache({url:s,data:i}));case 20:return x.next=22,Object(Ue.e)(Je.fetched({url:s}));case 22:if("queryRevisions"!==a){x.next=26;break}return l=i.query.pages,x.next=26,Object(Ue.e)(U({pageRevisions:l}));case 26:if("queryCadres"!==a){x.next=32;break}if(!(u=i.query.categorymembers)){x.next=32;break}return d=Object.fromEntries(u.map((function(e){return[e.pageid,e.title.replace(/^Category:/,"")]}))),x.next=32,Object(Ue.e)(Se.set({cadreCategoryMembers:d}));case 32:if("queryCadreModels"!==a){x.next=39;break}if(p=c.cmpageid,!(j=i.query.categorymembers)){x.next=39;break}return b=j.map((function(e){return{pageId:e.pageid,title:e.title}})),x.next=39,Object(Ue.e)(we.setByCadrePageId({cadrePageId:p,cadreModels:b}));case 39:if("parsePage"!==a){x.next=46;break}if(f=c.page){x.next=44;break}return console.error("No page to fetch!",t),x.abrupt("continue",3);case 44:return x.next=46,Object(Ue.e)(z({page:f,data:i.parse,parserName:r}));case 46:if("queryPageIds"!==a){x.next=48;break}return x.delegateYield(ze.a.mark((function e(){var t,a,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.pages,a=Object.fromEntries(i.query.pages.map((function(e){return[e.title,e.pageid]}))),r=Object.fromEntries(t.map((function(e){var t=e.text;return[e.page.split("#")[0],a[t]]}))),e.next=5,Object(Ue.e)(je.addPages({pageIdByTitle:r}));case 5:case"end":return e.stop()}}),e)}))(),"t0",48);case 48:if(!o){x.next=52;break}return 2e3,x.next=52,Object(Ue.d)(2e3);case 52:x.next=3;break;case 54:case"end":return x.stop()}}),ut)}var pt=J("WikiPages",(function(e){e.data||(e.data={});e.data.pages={}}),{addPage:function(e,t){var n=t.page,a=t.data,r=jt(e);a.page||(a.page=n);r[n]=a},removePage:function(e,t){var n=t.page;delete jt(e)[n]}},{},{selectPageByPage:function(e,t){return jt(e)[t]},selectPagesByPageIds:function(e,t){var n=jt(e);return Object.values(n).filter((function(e){return t.includes(e.pageid)}))},selectPageIds:function(e){var t=jt(e);return Object.values(t).map((function(e){return e.pageid}))}});function jt(e){return e.data.pages}var bt=ze.a.mark(ht),ft=ze.a.mark(Ot),xt=ze.a.mark(gt);function ht(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.b)([Ot(),gt()]);case 2:case"end":return e.stop()}}),bt)}function Ot(){var e,t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ue.g)(V().type);case 2:return a.next=4,Object(Ue.f)(pt.selectPageIds());case 4:e=a.sent,t=50,n=0;case 7:if(!(n<e.length)){a.next=12;break}return a.delegateYield(Je.queryRevisions({pageIds:e.slice(n,n+t)}),"t0",9);case 9:n+=t,a.next=7;break;case 12:case"end":return a.stop()}}),ft)}function gt(){var e,t,n,a,r,c,s,i,o,l,u;return ze.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=3,Object(Ue.g)(U().type);case 3:return e=p.sent,t=e.payload,n=t.pageRevisions,a=Object.fromEntries(n.map((function(e){return[e.pageid,e.missing?{missing:e.missing}:{revid:Math.max.apply(Math,Object(d.a)(e.revisions.map((function(e){return e.revid}))))}]}))),r=n.map((function(e){return e.pageid})),p.next=10,Object(Ue.f)(pt.selectPagesByPageIds(r));case 10:c=p.sent,s=Object(H.a)(c),p.prev=12,s.s();case 14:if((i=s.n()).done){p.next=31;break}if(o=i.value,!(l=a[o.pageid]).missing){p.next=22;break}return p.next=20,Object(Ue.e)(pt.removePage({page:o.page}));case 20:p.next=29;break;case 22:if(!(o.revid<l.revid)){p.next=29;break}return p.next=25,Object(Ue.e)(pt.removePage({page:o.page}));case 25:return p.next=27,Object(Ue.f)(ct.selectByPage(o.page));case 27:return u=p.sent,p.delegateYield(Je.parsePage({page:o.page,parserName:u}),"t0",29);case 29:p.next=14;break;case 31:p.next=36;break;case 33:p.prev=33,p.t1=p.catch(12),s.e(p.t1);case 36:return p.prev=36,s.f(),p.finish(36);case 39:p.next=0;break;case 41:case"end":return p.stop()}}),xt,null,[[12,33,36,39]])}function mt(e,t){for(var n=[],a=0;a<t.length;a+=e)n[n.length]=t.slice(a,a+e);return n}var vt=ze.a.mark(yt);function yt(){var e,t,n,a,r,c,s,i,o,l,u,p,j,f;return ze.a.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(Ue.f)(je.select());case 2:if(e=x.sent,0!==Object.keys(e).length){x.next=59;break}return x.next=6,Object(Ue.e)(Q.addReasons({reasons:[{reason:"Loading factions",description:"Load available Warcaster factions"},{reason:"Loading cyphers",description:"Load available Cypher Codecs"},{reason:"Loading wildcard models",description:"Load available Wild Cards"}]}));case 6:return x.next=8,Object(Ue.b)([Object(Ue.g)(ie.set().type),Object(Ue.g)(ee.set().type),Object(Ue.g)(xe.set().type)]);case 8:return t=x.sent,n=Object(b.a)(t,1),a=n[0],r=Object.keys(a.payload.factions),x.next=14,Object(Ue.e)(Q.addReasons({reasons:r.map((function(e){return{reason:"Loading ".concat(e.replace(/_/g," ")),description:"Used to build ".concat(e.replace(/_/g," ")," menu")}}))}));case 14:return x.next=16,Object(Ue.b)(r.map((function(e){return Object(Ue.g)((function(t){return t.type===ce.set().type&&t.payload.page===e}))})));case 16:return x.t0=Object,x.next=19,Object(Ue.f)(ce.select());case 19:return x.t1=x.sent,c=x.t0.values.call(x.t0,x.t1).flat().map((function(e){return e.Name})),x.t2=Object,x.next=24,Object(Ue.f)(xe.select());case 24:return x.t3=x.sent,s=x.t2.values.call(x.t2,x.t3).flat().map((function(e){return e.Name})).sort((function(e){return[e.text,e.page]})).filter((function(e,t,n){var a=e.text,r=e.page;return!t||a!==n[t-1].text&&r!==n[t-1].page})),x.next=28,Object(Ue.f)(ee.select());case 28:return i=x.sent.map((function(e){return e.Cypher})),o=[].concat(Object(d.a)(c),Object(d.a)(s),Object(d.a)(i)).sort((function(e){return e.page})),l=mt(50,o),x.next=33,Object(Ue.e)(Q.addReasons({reasons:l.map((function(e,t){return{reason:"Loading page ids ".concat(t+1," of ").concat(l.length),description:"Card lists are encoded in the URL using unique wiki page ids"}}))}));case 33:u=Object(H.a)(l),x.prev=34,u.s();case 36:if((p=u.n()).done){x.next=41;break}return j=p.value,x.delegateYield(Je.queryPageIds({pages:j}),"t4",39);case 39:x.next=36;break;case 41:x.next=46;break;case 43:x.prev=43,x.t5=x.catch(34),u.e(x.t5);case 46:return x.prev=46,u.f(),x.finish(46);case 49:f=0;case 50:return x.next=52,Object(Ue.g)(je.addPages().type);case 52:if(!x.sent){x.next=59;break}if(f+=1,l.length!==f){x.next=57;break}return x.next=57,Object(Ue.e)(Q.done());case 57:x.next=50;break;case 59:case"end":return x.stop()}}),vt,null,[[34,43,46,49]])}var kt=ze.a.mark(wt);function wt(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.b)([yt(),ht(),dt()]);case 2:case"end":return e.stop()}}),kt)}var It=ze.a.mark(St);function St(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Je.queryCadres(),"t0",1);case 1:case"end":return e.stop()}}),It)}var Ct=ze.a.mark(Wt);function Wt(){var e,t,n,a,r,c;return ze.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,Object(Ue.g)(Se.set().type);case 3:e=s.sent,t=e.payload.cadreCategoryMembers,n=Object.keys(t),a=0,r=n;case 7:if(!(a<r.length)){s.next=13;break}return c=r[a],s.delegateYield(Je.queryCadreModels({pageId:c}),"t0",10);case 10:a++,s.next=7;break;case 13:s.next=0;break;case 15:case"end":return s.stop()}}),Ct)}var _t=ze.a.mark(Pt);function Pt(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.b)([St(),Wt()]);case 2:case"end":return e.stop()}}),_t)}function Nt(e){return e.replace(/\n/g,"")}function Ft(e){var t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("h1 > span[id], h2 > span[id], h3 > span[id], h4 > span[id]").forEach((function(e){e.parentNode.id=e.id})),t}var Mt=function(e){var t=Ft(e);return Rt({type:qt(t,"Type"),pow:qt(t,"Pow"),effect:function(e,t){function n(e,t){switch(e.tagName){case"P":return n(e.nextSibling,[].concat(Object(d.a)(t),[e.innerText.trim()]));case"H2":return t;default:return n(e.nextSibling,t)}}var a=e.querySelector("h2#".concat(t," ~ p"));return a?n(a,[]):void 0}(t,"Effect"),faction:qt(t,"Faction"),source:qt(t,"Source")})};function qt(e,t){var n=e.querySelector("h2#".concat(t," ~ p"));if(n){var a=n.querySelector("a");if(!a)return{text:n.innerText};var r=a.href.split("title=");return{text:a.innerText,page:r[r.length-1]}}}function Rt(e){return Array.isArray(e)?e.map(Rt):"object"!==typeof e?e:Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(b.a)(e,2);t[0];return"undefined"!==typeof t[1]})).map((function(e){var t=Object(b.a)(e,2);return[t[0],Rt(t[1])]})))}function Tt(e){var t=Object(d.a)(e.querySelectorAll("th")).map((function(e){return Nt(e.innerText)}));return Object(d.a)(e.querySelectorAll("tr")).map((function(e){return Object(d.a)(e.querySelectorAll("td")).map((function(e){var t=Object(d.a)(e.querySelectorAll("a")).map(Et);if(t.length>0)return t;var n=Nt(e.innerText);return n?[{text:n}]:[]}))})).filter((function(e){return e.length===t.length})).map((function(e){return Object.fromEntries(t.flatMap((function(t,n){return e[n]?[[t,e[n]]]:[]})))}))}function Et(e){var t=e.title.split(":"),n=e.href.split("title=");return{text:t[t.length-1],page:n[n.length-1]}}var At=function(e){var t=Ft(e).querySelector("table.sortable");if(t)return Tt(t).map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(b.a)(e,2);return[t[0],t[1][0]]})))}));console.error("parseCypherCodecsText: cypherCodecsTable not found!")},Lt=function(e){var t=Ft(e).querySelector("h1#Models ~ table");if(t)return Tt(t).map((function(e){return Object.fromEntries(Object.entries(e).flatMap((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return"Subtype"===n?a.length>0?[[n,a]]:[]:[[n,a[0]]]})))}));console.error("parseFactionModelsText: table not found!")},Dt=function(e){var t=Ft(e).querySelector("h2#Factions ~ p"),n=Object.fromEntries(Bt(t,[]));return delete n.Wild_Card,n};function Bt(e,t){switch(e.tagName){case"P":var n=e.querySelector("a");if(!n)return console.error("collectFactions: a not found!"),Bt(e.nextSibling,t);var a=Et(n),r=[a.page,a];return Bt(e.nextSibling,[].concat(Object(d.a)(t),[r]));case"H2":return t;default:return Bt(e.nextSibling,t)}}var zt=function(e){var t=Ft(e),n=Yt(t,"Unit_Faction_and_Type")||Yt(t,"Model_Faction_and_Type"),a=n[0],r=n.slice(1),c=Vt(t,"Squad_Size"),s=Vt(t,"Deployment_Cost"),i=Vt(t,"Base_Size"),o=Vt(t,"Health"),l=Yt(t,"Wild_Card_Factions"),u=Vt(t,"Weapon_Points"),p=Vt(t,"Hardpoints"),b=Gt(t,"Special_Rules"),f=Gt(t,"Chassis_Special_Rules"),x=Gt(t,"Advantages"),h=Gt(t,"Maneuvers"),O=function(e,t){var n=e.querySelector("h3#".concat(t," + p"));return n?Object(d.a)(n.querySelectorAll("a")).map((function(e){return Et(e)})):void 0}(t,"Weapon_Selection"),g=function(e,t){function n(e,t){switch(e.tagName){case"P":var a=e.querySelector("b").innerText,r=Ht(e);return n(e.nextSibling,[].concat(Object(d.a)(t),[[a,r]]));case"H3":return t;default:return n(e.nextSibling,t)}}var a=e.querySelector("h3#".concat(t," ~ p"));return a?Object.fromEntries(n(a,[])):void 0}(t,"Cortexes"),m=Object(d.a)(t.querySelector("h3#Unit_Stats ~ table, h3#Model_Stats ~ table").querySelectorAll("tr > td")).map((function(e){return Nt(e.innerText)})),v=m.length/2,y=Object.fromEntries(Array.from({length:v},(function(e,t){return t})).map((function(e){return[m[e],m[e+v]]}))),k=Object(d.a)(t.querySelectorAll("h3#Weapons ~ table tr")).map((function(e){return Object(d.a)(e.querySelectorAll("td"))})),w=void 0;if(k.length>0){w=[];var I,S=k[0].map((function(e){return e.innerText})),C=k.slice(1),W=Object(H.a)(C);try{for(W.s();!(I=W.n()).done;){var _=I.value;if(_.length===S.length&&function(){var e=_.map((function(e){return e.innerText})),t=Object.fromEntries(S.map((function(t,n){return[Nt(t),Nt(e[n])]})));w.push(t)}(),1===_.length){var P=w.slice(0,w.length-1),N=w[w.length-1],F=Object(j.a)(Object(j.a)({},N),{},{specialRules:Ht(_[0])});w=[].concat(Object(d.a)(P),[F])}}}catch(R){W.e(R)}finally{W.f()}}var M=Vt(t,"Release",{node:"h1"}),q=Vt(t,"Lore",{node:"h1"});return Ut({faction:a,types:r,squadSize:c,deploymentCost:s,baseSize:i,health:o,wildCardFactions:l,hardpoints:p,weaponPoints:u,modelStats:y,specialRules:b,weapons:w,advantages:x,maneuvers:h,vehicleWeaponSelection:O,cortexes:g,chassisSpecialRules:f,weaponDetails:function(){var e=t.querySelector("table.mw-collapsible");if(e){var n=Object(d.a)(e.querySelectorAll("tr")).map((function(e){return Object(d.a)(e.querySelectorAll("td, th"))})).filter((function(e){return 4===e.length}));if(n&&0!==n.length){var a=n[0].map((function(e){return Nt(e.innerText)}));return n.slice(1).map((function(e){return Object.fromEntries(e.map((function(e,t){var n=e.querySelector("a"),r=n?n.href.split("title="):void 0,c=Nt(e.innerText);return[a[t],n?{text:c,page:r[r.length-1]}:{text:c}]})))}))}}}(),release:M,lore:q})};function Ut(e){return Array.isArray(e)?e.map(Ut):"object"!==typeof e?e:Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(b.a)(e,2);t[0];return"undefined"!==typeof t[1]})).map((function(e){var t=Object(b.a)(e,2);return[t[0],Ut(t[1])]})))}function Vt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.node,r=void 0===a?"h3":a,c=e.querySelector("".concat(r,"#").concat(t," ~ p"));if(c)return Nt(c.innerText)}function Yt(e,t){var n=e.querySelector("h3#".concat(t," ~ p"));if(n){var a=Object(d.a)(n.querySelectorAll("a"));if(0!==a.length)return a.map((function(e){var t=e.href.split("title=");return{text:e.innerText,page:t[t.length-1]}}))}}function Ht(e){var t=e.innerHTML.split("<br>").map((function(e){return e.replace(/<[^>]+>/g,"").trim()})).flatMap((function(e){var t=e.split(": ").map(Nt);return t.length<2?[]:[[t[0],t.slice(1).join(": ")]]}));if(0!==t.length)return Object.fromEntries(t)}function Gt(e,t){var n=e.querySelector("h3#".concat(t," ~ p"));if(n)return Ht(n)}var Kt=function(e){var t=Ft(e),n=t.querySelector("#Vehicle_Weapon"),a=t.querySelector("#Warjack_Weapon");return n&&a?{vehicleWeapon:Jt("#Vehicle_Weapon ~ ",t),warjackWeapon:Jt("#Warjack_Weapon ~ ",t)}:{vehicleOrWarjackWeapon:Jt("",t)}};function Jt(e,t){var n={},a=Object(d.a)(t.querySelectorAll("".concat(e,"[id^=Available_For] + p > a"))).map(Et);n.availableFor=a;var r=t.querySelector("".concat(e,"[id^=Point_Cost] + p"));if(r){var c=parseInt(r.innerText);n.pointCost=c}var s=t.querySelector("".concat(e,"[id^=Location] + p"));if(s){var i=s.innerText.replace(/\n/g,"");n.location=i}var o=t.querySelector("".concat(e,"[id^=Special_Rules] + p"));if(o){var l=o?Object.fromEntries(o.innerText.replace(/\n$/g,"").split("\n").map((function(e){return e.split(": ")}))):{};n.specialRules=l}var u=t.querySelector("".concat(e,"[id^=Weapons] + table"));if(u){var b=Object(d.a)(u.querySelectorAll("tr:first-of-type td")).map((function(e){return e.innerText.replace(/\n/g,"")})),f=Object(d.a)(u.querySelectorAll("tr:not(:first-of-type)")).map((function(e){return Object(d.a)(e.querySelectorAll("td"))})).flatMap((function(e,t){return t%2===0?[e.map((function(e){return Object(d.a)(e.childNodes).map((function(e){return(e.innerText||e.textContent).replace(/\n$/g,"")})).filter((function(e){return-1===[" ",""].indexOf(e)}))}))]:e.map((function(e){if(""===e.innerText)return{};if(e.querySelector("ul")){var t=e.querySelector("ul").previousSibling;t.nodeValue.replace(/\n/g," "),e.querySelector("ul").insertAdjacentText("beforebegin",t.nodeValue.replace(/\n/g," ")+e.querySelector("ul").innerText.replace(/\n/g," ")),t.remove(),e.querySelector("ul").remove()}var n=Object.fromEntries(Object(d.a)(e.childNodes).map((function(e){return"BR"===e.nodeName?"\n":e.innerText||e.textContent})).join("").replace(/\n$/,"").split("\n").filter((function(e){return""!==e})).map((function(e){var t=e.indexOf(": ");return[e.slice(0,t),e.slice(t+2)]})));return 0===Object.keys(n).length?{}:{specialRules:n}}))})).reduce((function(e,t,n){return n%2===0?[].concat(Object(d.a)(e),[t.reduce((function(e,t,n){return Object(j.a)(Object(j.a)({},e),{},Object(p.a)({},b[n],1===t.length?t[0]:t))}),{})]):[].concat(Object(d.a)(e.slice(0,e.length-1)),[Object(j.a)(Object(j.a)({},e[e.length-1]),t)])}),[]);f.length>0&&(n.weapons=f)}return n}var $t=function(e){for(var t=Ft(e).querySelectorAll("h1, table.sortable"),n=[],a=0;a<t.length;a++)if(a%2===0){var r=t[a];"H1"!==r.tagName&&console.error("parseWildCardText: expected H1, but got ".concat(r.tagName,"!"),r),n.push({faction:r.id})}else{var c=t[a];"TABLE"!==c.tagName&&console.error("parseWildCardText: expected TABLE, but got ".concat(c.tagName,"!"),c);var s=n[n.length-1],i=Tt(c);s.models=i.map((function(e){return Object.fromEntries(Object.entries(e).flatMap((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return"Subtype"===n?a.length>0?[[n,a]]:[]:[[n,a[0]]]})))}))}return n},Zt=ze.a.mark(Qt);function Qt(e){var t,n,a;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,n=e.page,(a=Mt(t.text)).name={text:t.title,page:n},r.next=5,Object(Ue.e)(ne.set({page:n,cypher:a}));case 5:case"end":return r.stop()}}),Zt)}var Xt=ze.a.mark(en);function en(e){var t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data,n=At(t.text),a.next=4,Object(Ue.e)(ee.set({cypherCodecs:n}));case 4:case"end":return a.stop()}}),Xt)}var tn=ze.a.mark(nn);function nn(e){var t,n,a;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.data,n=e.page,a=Lt(t.text),r.next=4,Object(Ue.e)(ce.set({page:n,factionModels:a}));case 4:case"end":return r.stop()}}),tn)}var an=ze.a.mark(rn);function rn(e){var t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data,n=Dt(t.text),a.next=4,Object(Ue.e)(ie.set({factions:n}));case 4:case"end":return a.stop()}}),an)}var cn=ze.a.mark(sn);function sn(e){var t,n,a,r,c,s,i,o,l,u,p,j;return ze.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.data,n=e.page,(a=zt(t.text)).name={text:t.title,page:n},(r=ln(a.cortexes,t.categories))&&(a.cortexSelections=r),(c=on(a.weaponDetails))&&(a.warjackWeaponSelections=c),b.next=9,Object(Ue.e)(Oe.set({page:n,model:a}));case 9:if(s=[],r&&(i=Object.values(r).flatMap((function(e){return Object.values(e).flatMap((function(e){var t=e.category;return{text:t.replace(/_/g," "),page:t}}))})),s=[].concat(Object(d.a)(s),Object(d.a)(i))),c&&(o=Object.values(c).map((function(e){return{text:e.name,page:e.page}})),s=[].concat(Object(d.a)(s),Object(d.a)(o))),a.vehicleWeaponSelection&&(s=[].concat(Object(d.a)(s),Object(d.a)(a.vehicleWeaponSelection))),!(s.length>0)){b.next=31;break}l=mt(50,s),u=Object(H.a)(l),b.prev=16,u.s();case 18:if((p=u.n()).done){b.next=23;break}return j=p.value,b.delegateYield(Je.queryPageIds({pages:j}),"t0",21);case 21:b.next=18;break;case 23:b.next=28;break;case 25:b.prev=25,b.t1=b.catch(16),u.e(b.t1);case 28:return b.prev=28,u.f(),b.finish(28);case 31:case"end":return b.stop()}}),cn,null,[[16,25,28,31]])}function on(e){if(e)return Object.fromEntries(e.map((function(e){var t=e.Cost,n=e.Location,a=e.Weapon;return[a.page,{cost:t.text,location:n.text,name:a.text,page:a.page}]})))}function ln(e,t){if(e&&0!==Object.entries(e).length&&t&&0!==Object.entries(t).length){var n=t.map((function(e){return e.category}));return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(b.a)(e,2),a=t[0],r=t[1];return[a,Object.fromEntries(Object.entries(r).map((function(e){var t=Object(b.a)(e,2),a=t[0],r=t[1];return[a,{category:"Category:".concat(un(a,n)),text:r}]})))]})))}}function un(e,t){return t.find((function(t){return e===t.replace(/^WNM_/,"").replace(/_/g," ")}))}var dn=ze.a.mark(pn);function pn(e){var t,n,a,r,c,s,i,o,l,u,d;return ze.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.data,n=e.page,a=Kt(t.text),r=a.vehicleWeapon,c=a.vehicleOrWarjackWeapon,s=a.warjackWeapon,!r){p.next=5;break}return p.next=5,Object(Ue.e)(me.set({page:n,vehicleWeapon:r}));case 5:if(!s){p.next=8;break}return p.next=8,Object(Ue.e)(ye.set({page:n,warjackWeapon:s}));case 8:if(!c){p.next=25;break}return p.t0=Object,p.next=12,Object(Ue.f)(Oe.select());case 12:if(p.t1=p.sent,i=p.t0.values.call(p.t0,p.t1),o=i.filter((function(e){return e.types.some((function(e){return"Vehicle"===e.text}))})),l=i.filter((function(e){return e.types.some((function(e){return"Warjack"===e.text}))})),u=o.flatMap((function(e){return e.vehicleWeaponSelection.map((function(e){return e.page}))})),d=l.flatMap((function(e){return e.weaponDetails?e.weaponDetails.map((function(e){return e.Weapon.page})):[]})),u.includes(n)&&d.includes(n)&&console.error("Vehicle weapons and warjack weapons cannot both contain page ".concat(n,"!")),!u.includes(n)){p.next=22;break}return p.next=22,Object(Ue.e)(me.set({page:n,vehicleWeapon:c}));case 22:if(!d.includes(n)){p.next=25;break}return p.next=25,Object(Ue.e)(ye.set({page:n,warjackWeapon:c}));case 25:case"end":return p.stop()}}),dn)}var jn=ze.a.mark(bn);function bn(e){var t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data,n=$t(t.text),a.next=4,Object(Ue.e)(xe.set({wildCards:n}));case 4:case"end":return a.stop()}}),jn)}var fn={parseCypher:Qt,parseCypherCodecs:en,parseFactionModels:nn,parseFactions:rn,parseModel:sn,parseVehicleOrWarjackWeapon:pn,parseWildCard:bn},xn=ze.a.mark(hn);function hn(){var e,t,n,a;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(Ue.g)(z().type);case 3:if(e=r.sent,t=e.payload,n=t.parserName){r.next=10;break}return r.next=9,Object(Ue.f)(ct.selectByPage(t.page));case 9:n=r.sent;case 10:if(n){r.next=13;break}return console.error("Parser name not found!",e),r.abrupt("continue",0);case 13:if(a=fn[n]){r.next=17;break}return console.error("Parser not found!",e),r.abrupt("continue",0);case 17:return r.delegateYield(a(t),"t0",18);case 18:r.next=0;break;case 20:case"end":return r.stop()}}),xn)}var On=ze.a.mark(mn),gn=ze.a.mark(vn);function mn(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.b)([vn()]);case 2:case"end":return e.stop()}}),On)}function vn(){var e,t,n,a,r,c,s;return ze.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(Ue.g)(ie.set().type);case 3:e=i.sent,t=e.payload,n=t.factions,a=Object.values(n).map((function(e){return e.page})),r=Object(H.a)(a),i.prev=8,r.s();case 10:if((c=r.n()).done){i.next=15;break}return s=c.value,i.delegateYield(Je.parsePage({page:s,parserName:"parseFactionModels"}),"t0",13);case 13:i.next=10;break;case 15:i.next=20;break;case 17:i.prev=17,i.t1=i.catch(8),r.e(i.t1);case 20:return i.prev=20,r.f(),i.finish(20);case 23:i.next=0;break;case 25:case"end":return i.stop()}}),gn,null,[[8,17,20,23]])}var yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function kn(e){if(0===e)return"0";for(var t="";e>0;)t=yn[e%yn.length]+t,e=parseInt(e/yn.length,10);return t}var wn=ze.a.mark(En),In=ze.a.mark(An),Sn=ze.a.mark(Ln),Cn=ze.a.mark(Dn),Wn=ze.a.mark(Bn),_n=ze.a.mark(zn),Pn=ze.a.mark(Un),Nn=ze.a.mark(Vn),Fn=ze.a.mark(Yn),Mn=ze.a.mark(Hn),qn=ze.a.mark(Gn),Rn=ze.a.mark(Kn),Tn=ze.a.mark(Jn);function En(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.b)([Dn(),Ln(),zn(),Bn(),An(),Un(),Vn(),Yn(),Jn(),Gn(),Kn()]);case 2:case"end":return e.stop()}}),wn)}function An(){var e,t,n,a,r,c,s,i,o;return ze.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,Object(Ue.g)(L().type);case 3:if(e=l.sent,t=e.payload,n=t.reason,a=t.source,r=t.destination,"DROP"!==n||!r.droppableId.startsWith("cards_")){l.next=13;break}return c=parseInt(a.droppableId.replace("cards_",""),10),s=a.index,i=parseInt(r.droppableId.replace("cards_",""),10),o=r.index,l.next=13,Object(Ue.e)(le.moveCard({source:{listIndex:c,cardIndex:s},destination:{listIndex:i,cardIndex:o}}));case 13:l.next=0;break;case 15:case"end":return l.stop()}}),In)}function Ln(){var e,t,n,a,r,c,s;return ze.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(Ue.g)(L().type);case 3:if(e=i.sent,t=e.payload,n=t.reason,a=t.source,r=t.destination,"DROP"!==n||!r.droppableId.startsWith("trash")){i.next=11;break}return c=parseInt(a.droppableId.replace("cards_",""),10),s=a.index,i.next=11,Object(Ue.e)(le.removeCard({source:{listIndex:c,cardIndex:s}}));case 11:i.next=0;break;case 13:case"end":return i.stop()}}),Sn)}function Dn(){var e,t,n,a,r,c,s;return ze.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(Ue.g)(B().type);case 3:return e=i.sent,t=e.payload,n=t.page,i.next=8,Object(Ue.f)(ce.selectByPage(n));case 8:return a=i.sent,i.next=11,Object(Ue.f)(xe.selectByPage(n));case 11:return r=i.sent,i.next=14,Object(Ue.f)(ee.selectByPage(n));case 14:if(c=i.sent,!(a||r||c)){i.next=21;break}return i.next=18,Object(Ue.f)(je.selectByPage(n));case 18:return s=i.sent,i.next=21,Object(Ue.e)(le.addCard({pageId:s}));case 21:i.next=0;break;case 23:case"end":return i.stop()}}),Cn)}function Bn(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.g)(D().type);case 2:if(!e.sent){e.next=7;break}return e.next=5,Object(Ue.e)(re.activate());case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Wn)}function zn(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.g)(L().type);case 2:if(!e.sent){e.next=7;break}return e.next=5,Object(Ue.e)(re.deactivate());case 5:e.next=0;break;case 7:case"end":return e.stop()}}),_n)}function Un(){var e,t;return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ue.g)((function(e){return e.type.startsWith("Lists.")}));case 2:if(!n.sent){n.next=11;break}return n.next=5,Object(Ue.f)(le.select());case 5:if(e=n.sent,t=e.map((function(e){return e.cards.map((function(e){return e.pageId}))})),!window.history||!window.history.replaceState){n.next=9;break}return n.delegateYield(ze.a.mark((function n(){var a,r,c,s,i,o=function(e,t){for(var n=e||[],a="",r=0;r<n.length;r++){var c=n[r];a+=(c?kn(c):"0").padStart(t,"0")}return a};return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Math.max.apply(Math,[0].concat(Object(d.a)(t.flat()))),r=Math.ceil(Math.log(a+1)/Math.log(62))||0,c=e.reduce((function(e,t,n){return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.title?Object(p.a)({},"t".concat(n),t.title):{}),{},Object(p.a)({},"l".concat(n),t.cards.reduce((function(e,t){return e+kn(t.pageId).padStart(r,"0")+(t.cortexIds||t.warjackWeaponIds?"(".concat((t.cortexIds||[]).map((function(e){return kn(e).padStart(r,"0")})).join(""),",").concat(o(t.warjackWeaponIds,r),")"):"")+(t.vehicleWeaponId?"[".concat(kn(t.vehicleWeaponId).padStart(r,"0"),"]"):"")}),"")))}),{v:1,e:r}),s=Object.entries(c).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)})).join("&"),i=window.location.origin+window.location.pathname+"?"+s,n.next=7,Object(Ue.e)(fe.set({url:i}));case 7:window.history.replaceState(s,"",i);case 8:case"end":return n.stop()}}),n)}))(),"t0",9);case 9:n.next=0;break;case 11:case"end":return n.stop()}}),Pn)}function Vn(){var e;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Object(l.b)((function(e){return window.addEventListener("load",e),function(){window.removeEventListener("load",e)}}));case 1:return t.next=4,Object(Ue.g)(e);case 4:return t.delegateYield(Hn(),"t0",5);case 5:t.next=1;break;case 7:case"end":return t.stop()}}),Nn)}function Yn(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.g)(Q.done().type);case 2:return e.delegateYield(Hn(),"t0",3);case 3:case"end":return e.stop()}}),Fn)}function Hn(){var e,t,n,a,r,c,s,i,o,l,u,d,p,j,b,f,x;return ze.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:if(e=new URLSearchParams(window.location.search),t=Object.fromEntries(e),n=t.v,a=parseInt(t.e,10)||0,r=null,"1"!==n||!a){h.next=10;break}c=Object.keys(t).filter((function(e){return e.match(/^l[\d]+$/)})).map((function(e){return parseInt(e.substring(1),10)})).sort((function(e,t){return e-t})),r=c.map((function(e){return{title:t["t"+e]||"",cards:$n(a,t["l"+e])}})),h.next=13;break;case 10:return h.next=12,Object(Ue.f)(le.select());case 12:r=h.sent;case 13:s=Object(H.a)(r),h.prev=14,s.s();case 16:if((i=s.n()).done){h.next=41;break}o=i.value,l=Object(H.a)(o.cards),h.prev=19,l.s();case 21:if((u=l.n()).done){h.next=31;break}if(d=u.value,p=d.pageId,j=d.cortexIds,b=d.warjackWeaponIds,f=d.vehicleWeaponId,!(j||b||f)){h.next=29;break}return h.next=26,Object(Ue.f)(je.selectPageByPageId(p));case 26:if(!(x=h.sent)){h.next=29;break}return h.delegateYield(Je.parsePage({page:x,parserName:"parseModel"}),"t0",29);case 29:h.next=21;break;case 31:h.next=36;break;case 33:h.prev=33,h.t1=h.catch(19),l.e(h.t1);case 36:return h.prev=36,l.f(),h.finish(36);case 39:h.next=16;break;case 41:h.next=46;break;case 43:h.prev=43,h.t2=h.catch(14),s.e(h.t2);case 46:return h.prev=46,s.f(),h.finish(46);case 49:return h.next=51,Object(Ue.e)(le.set({lists:r}));case 51:case"end":return h.stop()}}),Mn,null,[[14,43,46,49],[19,33,36,39]])}function Gn(){var e,t,n,a,r,c,s;return ze.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(Ue.g)("Models.set");case 3:if(e=i.sent,!((t=e.payload)&&t.model&&t.model.types&&t.model.types.map((function(e){return e.text})).includes("Vehicle"))){i.next=32;break}if(!(n=t.model.vehicleWeaponSelection)){i.next=32;break}a=Object(H.a)(n),i.prev=9,a.s();case 11:if((r=a.n()).done){i.next=24;break}if(!(c=r.value.page)){i.next=22;break}return s=c.split("#")[0],i.next=17,Object(Ue.f)(me.selectByPage(s));case 17:if(i.sent){i.next=21;break}return i.next=21,Object(Ue.e)(me.set({page:s,vehicleWeapon:{}}));case 21:return i.delegateYield(Je.parsePage({page:s,parserName:"parseVehicleOrWarjackWeapon"}),"t0",22);case 22:i.next=11;break;case 24:i.next=29;break;case 26:i.prev=26,i.t1=i.catch(9),a.e(i.t1);case 29:return i.prev=29,a.f(),i.finish(29);case 32:i.next=0;break;case 34:case"end":return i.stop()}}),qn,null,[[9,26,29,32]])}function Kn(){var e,t,n,a,r,c,s,i;return ze.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(Ue.g)("Models.set");case 3:if(e=o.sent,!((t=e.payload)&&t.model&&t.model.types&&t.model.types.map((function(e){return e.text})).includes("Warjack"))){o.next=33;break}if(!(n=t.model.weaponDetails)){o.next=33;break}a=Object(H.a)(n),o.prev=9,a.s();case 11:if((r=a.n()).done){o.next=25;break}if(c=r.value.Weapon,!(s=c.page)){o.next=23;break}return i=s.split("#")[0],o.next=18,Object(Ue.f)(ye.selectByPage(i));case 18:if(o.sent){o.next=22;break}return o.next=22,Object(Ue.e)(ye.set({page:i,warjackWeapon:{}}));case 22:return o.delegateYield(Je.parsePage({page:i,parserName:"parseVehicleOrWarjackWeapon"}),"t0",23);case 23:o.next=11;break;case 25:o.next=30;break;case 27:o.prev=27,o.t1=o.catch(9),a.e(o.t1);case 30:return o.prev=30,a.f(),o.finish(30);case 33:o.next=0;break;case 35:case"end":return o.stop()}}),Rn,null,[[9,27,30,33]])}function Jn(){var e,t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(Ue.g)("Lists.toggleCard");case 3:if(e=a.sent,!(t=e.payload)||!t.pageId){a.next=18;break}return a.next=8,Object(Ue.f)(je.selectPageByPageId(t.pageId));case 8:if(!(n=a.sent)){a.next=18;break}return a.next=12,Object(Ue.f)(ee.selectByPage(n));case 12:if(!a.sent){a.next=17;break}return a.delegateYield(Je.parsePage({page:n,parserName:"parseCypher"}),"t0",15);case 15:a.next=18;break;case 17:return a.delegateYield(Je.parsePage({page:n,parserName:"parseModel"}),"t1",18);case 18:a.next=0;break;case 20:case"end":return a.stop()}}),Tn)}function $n(e,t){var n=function t(n,a){if(""===a)return n;var r=a.slice(0,e);if("("===a[e]){var c=a.indexOf(")"),s=a.indexOf(",");if(!c||!s)return[];var i=a.slice(e+1,c).split(","),o=Object(b.a)(i,2),l=o[0],u=o[1];return t([].concat(Object(d.a)(n),[{pageId:r,cortexIds:Zn(e,l),warjackWeaponIds:Zn(e,u),vehicleWeaponId:[]}]),a.slice(c+1))}if("["===a[e]){var p=a.indexOf("]");if(!p)return[];var j=a.slice(e+1,p);return t([].concat(Object(d.a)(n),[{pageId:r,cortexIds:[],warjackWeaponIds:[],vehicleWeaponId:[j]}]),a.slice(p+1))}return t([].concat(Object(d.a)(n),[{pageId:r,cortexIds:[],warjackWeaponIds:[],vehicleWeaponId:[]}]),a.slice(e))}([],t),a=function(e){var t=e.replace(/^0+/,"")||"0";return"0"===t?null:parseInt(function(e){for(var t=0,n=0;n<e.length;n++){var a=yn.indexOf(e[n]);if(a<0)return NaN;t+=a*Math.pow(yn.length,e.length-n-1)}return t}(t),10)};return n.map((function(e){var t=e.pageId,n=e.cortexIds,r=e.warjackWeaponIds,c=e.vehicleWeaponId;return{pageId:a(t),cortexIds:n.map(a),warjackWeaponIds:r.map(a),vehicleWeaponId:c.map(a)}})).map((function(e){var t=e.pageId,n=e.cortexIds,a=e.warjackWeaponIds,r=e.vehicleWeaponId;return Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({pageId:t},0===n.length?{}:{cortexIds:n}),0===a.length?{}:{warjackWeaponIds:a}),0===r.length?{}:{vehicleWeaponId:r[0]}),{},{hidden:!0})}))}function Zn(e,t){for(var n=[],a=0;a<t.length;a+=e)n[n.length]=t.slice(a,a+e);return n}var Qn=ze.a.mark(na),Xn=ze.a.mark(aa),ea=ze.a.mark(ra),ta=ze.a.mark(ca);function na(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.b)([ra(),wt(),hn(),mn(),ot(),En(),Pt(),aa(),ca()]);case 2:case"end":return e.stop()}}),Qn)}function aa(){var e,t,n;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=0,t=[{page:"Warcaster",parserName:"parseFactions"},{page:"Wild_Card",parserName:"parseWildCard"},{page:"Cypher_Codecs",parserName:"parseCypherCodecs"}];case 2:if(!(e<t.length)){a.next=8;break}return n=t[e],a.delegateYield(Je.parsePage(n),"t0",5);case 5:e++,a.next=2;break;case 8:case"end":return a.stop()}}),Xn)}function ra(){var e,t,n,a;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ue.f)(Je.selectPending());case 2:e=r.sent,t=Object(H.a)(e),r.prev=4,t.s();case 6:if((n=t.n()).done){r.next=12;break}return a=n.value,r.next=10,Object(Ue.e)(Je.fetch(a));case 10:r.next=6;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(4),t.e(r.t0);case 17:return r.prev=17,t.f(),r.finish(17);case 20:case"end":return r.stop()}}),ea,null,[[4,14,17,20]])}function ca(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ue.e)(V());case 2:case"end":return e.stop()}}),ta)}var sa=J("Version",(function(e){e.version="2023-06-04T12:56:00.000Z"}),{},{},{});var ia=[Q,Se,we,ee,ne,ie,ce,Oe,je,ct,Je,fe,me,ye,xe,pt,re,le,sa],oa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z.apply(void 0,Object(d.a)(t.map((function(e){return Object(G.a)(e.init)}))))}.apply(void 0,ia)({}),la=K((function(e){var t,n,a=e.type,r=e.payload,c=Object.fromEntries(ia.map((function(e){return[e.namespace,e]}))),s=a.substring(0,a.indexOf("."));return s&&c[s]?(t={type:a,payload:r},n=c[s],function(e){return K((function(e){var t=e.type,a=e.payload,r=n.dispatch[t]||function(e,t){return e};return function(e){return r(e,a)}}))(e,t)}):"RE"===a?function(e){e.data.cadreCategoryMembers={},e.data.cadreModels={},e.data.models={},e.data.warjackWeapons={};for(var t=0,n=Object.keys(e.data.pages);t<n.length;t++){var a=n[t];["Warcaster","Wild_Card","Cypher_Codecs","Aeternus_Continuum","Empyrean","Iron_Star_Alliance","Marcher_Worlds"].includes(a)||delete e.data.pages[a]}}:function(e){return e}}));var ua=Object(l.a)(),da=function(e){var t=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):oa,n=new Date(t.version)>=new Date(oa.version)?t:oa,a=Object(u.composeWithDevTools)(Object(o.applyMiddleware)(e)),r=Object(o.createStore)(la,n,a);return r.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(r.getState()))})),r}(ua);s.a.render(Object(Ce.jsx)(i.a,{store:da,children:Object(Ce.jsx)(qe,{})}),document.getElementById("root")),ua.run(na)}},[[123,1,2]]]);
//# sourceMappingURL=main.e87ca557.chunk.js.map